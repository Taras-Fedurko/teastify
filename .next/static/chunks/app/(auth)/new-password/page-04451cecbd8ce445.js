(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[987],{7394:(e,r,s)=>{Promise.resolve().then(s.bind(s,6546)),Promise.resolve().then(s.t.bind(s,8173,23))},6564:(e,r,s)=>{"use strict";s.d(r,{k:()=>n});var t=s(5155);s(2115);var a=s(6788);let n=e=>{let{className:r}=e;return(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,a.cn)("animate-spin",r),children:(0,t.jsx)("path",{d:"M21 12a9 9 0 1 1-6.219-8.56"})})}},4085:(e,r,s)=>{"use strict";s.d(r,{$:()=>d});var t=s(5155),a=s(2115),n=s(2317),o=s(1027),i=s(1022);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:s,variant:a,size:o,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,t.jsx)(u,{className:(0,i.cn)(l({variant:a,size:o,className:s})),ref:r,...c})});d.displayName="Button"},4035:(e,r,s)=>{"use strict";s.d(r,{lV:()=>u,MJ:()=>g,zB:()=>f,eI:()=>v,lR:()=>h});var t=s(5155),a=s(2115),n=s(2317),o=s(9606),i=s(1022),l=s(6195);let d=(0,s(1027).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:s,...a}=e;return(0,t.jsx)(l.b,{ref:r,className:(0,i.cn)(d(),s),...a})});c.displayName=l.b.displayName;let u=o.Op,m=a.createContext({}),f=e=>{let{...r}=e;return(0,t.jsx)(m.Provider,{value:{name:r.name},children:(0,t.jsx)(o.xI,{...r})})},p=()=>{let e=a.useContext(m),r=a.useContext(x),{getFieldState:s,formState:t}=(0,o.xW)(),n=s(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},x=a.createContext({}),v=a.forwardRef((e,r)=>{let{className:s,...n}=e,o=a.useId();return(0,t.jsx)(x.Provider,{value:{id:o},children:(0,t.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",s),...n})})});v.displayName="FormItem";let h=a.forwardRef((e,r)=>{let{className:s,...a}=e,{error:n,formItemId:o}=p();return(0,t.jsx)(c,{ref:r,className:(0,i.cn)(n&&"text-destructive",s),htmlFor:o,...a})});h.displayName="FormLabel";let g=a.forwardRef((e,r)=>{let{...s}=e,{error:a,formItemId:o,formDescriptionId:i,formMessageId:l}=p();return(0,t.jsx)(n.DX,{ref:r,id:o,"aria-describedby":a?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!a,...s})});g.displayName="FormControl",a.forwardRef((e,r)=>{let{className:s,...a}=e,{formDescriptionId:n}=p();return(0,t.jsx)("p",{ref:r,id:n,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",s),...a})}).displayName="FormDescription",a.forwardRef((e,r)=>{let{className:s,children:a,...n}=e,{error:o,formMessageId:l}=p(),d=o?String(null==o?void 0:o.message):a;return d?(0,t.jsx)("p",{ref:r,id:l,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",s),...n,children:d}):null}).displayName="FormMessage"},2336:(e,r,s)=>{"use strict";s.d(r,{p:()=>o});var t=s(5155),a=s(2115),n=s(1022);let o=a.forwardRef((e,r)=>{let{className:s,type:a,...o}=e;return(0,t.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...o})});o.displayName="Input"},1022:(e,r,s)=>{"use strict";s.d(r,{cn:()=>n});var t=s(3463),a=s(9795);function n(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}},6788:(e,r,s)=>{"use strict";s.d(r,{cn:()=>t.cn});var t=s(1022);s(6457)},1829:(e,r,s)=>{"use strict";s.d(r,{Ih:()=>o,YQ:()=>d,Z2:()=>l,_3:()=>i,xY:()=>c});var t=s(3415);let a=t.Yj().email({message:"Please enter a valid email address"}),n=t.Yj().min(7,{message:"Password is required"}),o=t.Ik({email:a}),i=t.Ik({password:n,confirmPassword:n}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),l=t.Ik({email:a,password:t.Yj().min(1,{message:"Password is required"})}),d=t.Ik({name:t.Yj(),email:a,password:n}),c=t.Ik({email:a})},5228:(e,r,s)=>{"use strict";s.d(r,{A:()=>o});var t=s(5155),a=s(7365),n=s(6788);let o=function(e){let{message:r,type:s}=e;return r?(0,t.jsxs)("div",{className:(0,n.cn)("px-2 py-1 text-sm rounded-md flex items-center  gap-x-3 ","success"===s?"text-emerald-600":"text-destructive"),children:["success"===s?(0,t.jsx)(a.KaV,{}):(0,t.jsx)(a.Pip,{}),(0,t.jsx)("span",{children:r})]}):null}},6546:(e,r,s)=>{"use strict";s.d(r,{default:()=>f});var t=s(5155);s(2115);var a=s(4035),n=s(4085),o=s(3706),i=s(6564),l=s(5828);let d=(0,l.createServerReference)("60903bdbb0a9f0d8fa8b1610bfc580784a59727ac5",l.callServer,void 0,l.findSourceMapURL,"resetPasswordAction");var c=s(1829),u=s(5228),m=s(6839);function f(e){let{token:r}=e,{form:s,isPending:l,message:f,onSubmit:p}=(0,o.e)({schema:c._3,onSubmitAction:async e=>r?await d(r,e):{message:"No Token Found",success:!1},defaultValues:{confirmPassword:"",password:""}});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Reset Your Password"}),(0,t.jsx)(a.lV,{...s,children:(0,t.jsxs)("form",{action:"",onSubmit:p,className:"flex flex-col gap-4",children:[(0,t.jsx)(a.zB,{control:s.control,name:"password",render:e=>{var r;let{field:a}=e;return(0,t.jsx)(m.A,{field:a,isPending:l,message:null===(r=s.formState.errors.password)||void 0===r?void 0:r.message})}}),(0,t.jsx)(a.zB,{control:s.control,name:"confirmPassword",render:e=>{var r;let{field:a}=e;return(0,t.jsx)(m.A,{field:a,isPending:l,message:null===(r=s.formState.errors.confirmPassword)||void 0===r?void 0:r.message,label:"Confirm Password"})}}),f&&(0,t.jsx)(u.A,{type:f.type,message:f.message}),(0,t.jsx)(n.$,{disabled:l,type:"submit",className:"w-full mt-6",children:l?(0,t.jsxs)(t.Fragment,{children:["Changing Password",(0,t.jsx)(i.k,{})]}):"Change Password"})]})})]})}},6839:(e,r,s)=>{"use strict";s.d(r,{A:()=>d});var t=s(5155),a=s(2115),n=s(7365),o=s(4035),i=s(2336),l=s(5228);function d(e){let{isPending:r,field:s,message:d,label:c}=e,[u,m]=(0,a.useState)(!1);return(0,t.jsxs)(o.eI,{children:[(0,t.jsx)(o.lR,{children:null!=c?c:"Password"}),(0,t.jsx)(o.MJ,{children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(i.p,{disabled:r,placeholder:"Enter your password",type:u?"text":"password",className:"h-10",...s}),(0,t.jsx)("span",{className:"absolute top-2.5 right-2 cursor-pointer",onClick:()=>m(!u),children:u?(0,t.jsx)(n.N5q,{className:"w-5 h-5"}):(0,t.jsx)(n.V$C,{className:"w-5 h-5"})})]})}),(0,t.jsx)(l.A,{type:"error",message:d})]})}},3706:(e,r,s)=>{"use strict";s.d(r,{e:()=>o});var t=s(2115),a=s(9606),n=s(2679);let o=e=>{let{schema:r,defaultValues:s,captcha:o,onSubmitAction:i}=e,l={validating:!1,token:"",tokenTimestamp:Date.now()},d=(0,a.mN)({resolver:(0,n.u)(r),defaultValues:s}),[c,u]=(0,t.useState)(l),[m,f]=(0,t.useState)(null),[p,x]=(0,t.useState)(null),[v,h]=(0,t.useTransition)(),g=async()=>{if((null==o?void 0:o.enableCaptcha)&&o.executeRecaptcha){u(e=>({...e,validating:!0}));try{let e=await o.executeRecaptcha(o.action||"default_action");if(!e)return f({message:"Error Getting Captcha",type:"error"}),null;return u({token:e,tokenTimestamp:Date.now(),validating:!1}),e}catch(e){console.error("Error refreshing CAPTCHA:",e),f({message:"Captcha verification failed",type:"error"}),u(e=>({...e,validating:!1}))}}return null},b=()=>{let e=Date.now(),r=!c.token||e-c.tokenTimestamp>((null==o?void 0:o.tokenExpiryMs)||12e4);return r&&u(l),r};return(0,t.useEffect)(()=>{(null==o?void 0:o.enableCaptcha)&&b()&&g()},[c.token,null==o?void 0:o.tokenExpiryMs,null==o?void 0:o.enableCaptcha]),{form:d,message:m,redirect:p,isPending:v,onSubmit:d.handleSubmit((e=>{let r=e=>{e&&"success"in e&&(f({type:e.success?"success":"error",message:(null==e?void 0:e.message)||""}),(null==o?void 0:o.enableCaptcha)&&u(l))};return async s=>{f(null);let t=c.token;if(null==o?void 0:o.enableCaptcha){if(!o.executeRecaptcha){f({message:"Captcha not available",type:"error"});return}if(b()&&(console.log("Token expired, refreshing CAPTCHA"),!(t=await g())))return}h(()=>{e(s,{token:t||"",tokenExpiryMs:(null==o?void 0:o.tokenExpiryMs)||12e4,action:null==o?void 0:o.action}).then(e=>{(null==o?void 0:o.enableCaptcha)&&u(l),(null==e?void 0:e.redirect)?x(e.redirect):r(e)}).catch(e=>{console.error("Submission Error:",e.stack),f({type:"error",message:"Submission failed. Please try again."})})})}})(i)),captchaState:c}}}},e=>{var r=r=>e(e.s=r);e.O(0,[105,173,726,232,518,441,517,358],()=>r(7394)),_N_E=e.O()}]);