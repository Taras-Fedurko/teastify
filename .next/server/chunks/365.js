exports.id=365,exports.ids=[365],exports.modules={97748:function(e,t,i){var a,r,n;e=i.nmd(e),r=[],void 0!==(n="function"==typeof(a=function(){"use strict";var t,a={},r=null;function n(t){if(e&&e.exports)try{return i(55511).randomBytes(t)}catch(e){}try{var a;return(self.crypto||self.msCrypto).getRandomValues(a=new Uint32Array(t)),Array.prototype.slice.call(a)}catch(e){}if(!r)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return r(t)}try{n(1)}catch(e){}function s(e,t){for(var i=0,a=0,r=0,n=e.length;r<n;++r)e.charCodeAt(r)===t.charCodeAt(r)?++i:++a;return!(i<0)&&0===a}r=null,a.setRandomFallback=function(e){r=e},a.genSaltSync=function(e,t){if("number"!=typeof(e=e||m))throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var i=[];return i.push("$2a$"),e<10&&i.push("0"),i.push(e.toString()),i.push("$"),i.push(p(n(f),f)),i.join("")},a.genSalt=function(e,t,i){if("function"==typeof t&&(i=t,t=void 0),"function"==typeof e&&(i=e,e=void 0),void 0===e)e=m;else if("number"!=typeof e)throw Error("illegal arguments: "+typeof e);function r(t){o(function(){try{t(null,a.genSaltSync(e))}catch(e){t(e)}})}if(!i)return new Promise(function(e,t){r(function(i,a){if(i){t(i);return}e(a)})});if("function"!=typeof i)throw Error("Illegal callback: "+typeof i);r(i)},a.hashSync=function(e,t){if(void 0===t&&(t=m),"number"==typeof t&&(t=a.genSaltSync(t)),"string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return k(e,t)},a.hash=function(e,t,i,r){function n(i){"string"==typeof e&&"number"==typeof t?a.genSalt(t,function(t,a){k(e,a,i,r)}):"string"==typeof e&&"string"==typeof t?k(e,t,i,r):o(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(!i)return new Promise(function(e,t){n(function(i,a){if(i){t(i);return}e(a)})});if("function"!=typeof i)throw Error("Illegal callback: "+typeof i);n(i)},a.compareSync=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw Error("Illegal arguments: "+typeof e+", "+typeof t);return 60===t.length&&s(a.hashSync(e,t.substr(0,t.length-31)),t)},a.compare=function(e,t,i,r){function n(i){if("string"!=typeof e||"string"!=typeof t){o(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(60!==t.length){o(i.bind(this,null,!1));return}a.hash(e,t.substr(0,29),function(e,a){e?i(e):i(null,s(a,t))},r)}if(!i)return new Promise(function(e,t){n(function(i,a){if(i){t(i);return}e(a)})});if("function"!=typeof i)throw Error("Illegal callback: "+typeof i);n(i)},a.getRounds=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)},a.getSalt=function(e){if("string"!=typeof e)throw Error("Illegal arguments: "+typeof e);if(60!==e.length)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)};var o="undefined"!=typeof process&&process&&"function"==typeof process.nextTick?"function"==typeof setImmediate?setImmediate:process.nextTick:setTimeout,c="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),l=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],d=String.fromCharCode;function p(e,t){var i,a,r=0,n=[];if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(i=255&e[r++],n.push(c[i>>2&63]),i=(3&i)<<4,r>=t||(i|=(a=255&e[r++])>>4&15,n.push(c[63&i]),i=(15&a)<<2,r>=t)){n.push(c[63&i]);break}i|=(a=255&e[r++])>>6&3,n.push(c[63&i]),n.push(c[63&a])}return n.join("")}function u(e,t){var i,a,r,n,s,o=0,c=e.length,p=0,u=[];if(t<=0)throw Error("Illegal len: "+t);for(;o<c-1&&p<t&&(i=(s=e.charCodeAt(o++))<l.length?l[s]:-1,a=(s=e.charCodeAt(o++))<l.length?l[s]:-1,-1!=i&&-1!=a)&&(n=i<<2>>>0|(48&a)>>4,u.push(d(n)),!(++p>=t||o>=c||-1==(r=(s=e.charCodeAt(o++))<l.length?l[s]:-1)||(n=(15&a)<<4>>>0|(60&r)>>2,u.push(d(n)),++p>=t||o>=c)));)n=(3&r)<<6>>>0|((s=e.charCodeAt(o++))<l.length?l[s]:-1),u.push(d(n)),++p;var h=[];for(o=0;o<p;o++)h.push(u[o].charCodeAt(0));return h}var h=((t={}).MAX_CODEPOINT=1114111,t.encodeUTF8=function(e,t){var i=null;for("number"==typeof e&&(i=e,e=function(){return null});null!==i||null!==(i=e());)i<128?t(127&i):(i<2048?t(i>>6&31|192):(i<65536?t(i>>12&15|224):(t(i>>18&7|240),t(i>>12&63|128)),t(i>>6&63|128)),t(63&i|128)),i=null},t.decodeUTF8=function(e,t){for(var i,a,r,n,s=function(e){var t=Error((e=e.slice(0,e.indexOf(null))).toString());throw t.name="TruncatedError",t.bytes=e,t};null!==(i=e());)if((128&i)==0)t(i);else if((224&i)==192)null===(a=e())&&s([i,a]),t((31&i)<<6|63&a);else if((240&i)==224)(null===(a=e())||null===(r=e()))&&s([i,a,r]),t((15&i)<<12|(63&a)<<6|63&r);else if((248&i)==240)(null===(a=e())||null===(r=e())||null===(n=e()))&&s([i,a,r,n]),t((7&i)<<18|(63&a)<<12|(63&r)<<6|63&n);else throw RangeError("Illegal starting byte: "+i)},t.UTF16toUTF8=function(e,t){for(var i,a=null;null!==(i=null!==a?a:e());){if(i>=55296&&i<=57343&&null!==(a=e())&&a>=56320&&a<=57343){t((i-55296)*1024+a-56320+65536),a=null;continue}t(i)}null!==a&&t(a)},t.UTF8toUTF16=function(e,t){var i=null;for("number"==typeof e&&(i=e,e=function(){return null});null!==i||null!==(i=e());)i<=65535?t(i):(t(((i-=65536)>>10)+55296),t(i%1024+56320)),i=null},t.encodeUTF16toUTF8=function(e,i){t.UTF16toUTF8(e,function(e){t.encodeUTF8(e,i)})},t.decodeUTF8toUTF16=function(e,i){t.decodeUTF8(e,function(e){t.UTF8toUTF16(e,i)})},t.calculateCodePoint=function(e){return e<128?1:e<2048?2:e<65536?3:4},t.calculateUTF8=function(e){for(var i,a=0;null!==(i=e());)a+=t.calculateCodePoint(i);return a},t.calculateUTF16asUTF8=function(e){var i=0,a=0;return t.UTF16toUTF8(e,function(e){++i,a+=t.calculateCodePoint(e)}),[i,a]},t);Date.now=Date.now||function(){return+new Date};var f=16,m=10,g=[0x243f6a88,0x85a308d3,0x13198a2e,0x3707344,0xa4093822,0x299f31d0,0x82efa98,0xec4e6c89,0x452821e6,0x38d01377,0xbe5466cf,0x34e90c6c,0xc0ac29b7,0xc97c50dd,0x3f84d5b5,0xb5470917,0x9216d5d9,0x8979fb1b],v=[0xd1310ba6,0x98dfb5ac,0x2ffd72db,0xd01adfb7,0xb8e1afed,0x6a267e96,0xba7c9045,0xf12c7f99,0x24a19947,0xb3916cf7,0x801f2e2,0x858efc16,0x636920d8,0x71574e69,0xa458fea3,0xf4933d7e,0xd95748f,0x728eb658,0x718bcd58,0x82154aee,0x7b54a41d,0xc25a59b5,0x9c30d539,0x2af26013,0xc5d1b023,0x286085f0,0xca417918,0xb8db38ef,0x8e79dcb0,0x603a180e,0x6c9e0e8b,0xb01e8a3e,0xd71577c1,0xbd314b27,0x78af2fda,0x55605c60,0xe65525f3,0xaa55ab94,0x57489862,0x63e81440,0x55ca396a,0x2aab10b6,0xb4cc5c34,0x1141e8ce,0xa15486af,0x7c72e993,0xb3ee1411,0x636fbc2a,0x2ba9c55d,0x741831f6,0xce5c3e16,0x9b87931e,0xafd6ba33,0x6c24cf5c,0x7a325381,0x28958677,0x3b8f4898,0x6b4bb9af,0xc4bfe81b,0x66282193,0x61d809cc,0xfb21a991,0x487cac60,0x5dec8032,0xef845d5d,0xe98575b1,0xdc262302,0xeb651b88,0x23893e81,0xd396acc5,0xf6d6ff3,0x83f44239,0x2e0b4482,0xa4842004,0x69c8f04a,0x9e1f9b5e,0x21c66842,0xf6e96c9a,0x670c9c61,0xabd388f0,0x6a51a0d2,0xd8542f68,0x960fa728,0xab5133a3,0x6eef0b6c,0x137a3be4,0xba3bf050,0x7efb2a98,0xa1f1651d,0x39af0176,0x66ca593e,0x82430e88,0x8cee8619,0x456f9fb4,0x7d84a5c3,0x3b8b5ebe,0xe06f75d8,0x85c12073,0x401a449f,0x56c16aa6,0x4ed3aa62,0x363f7706,0x1bfedf72,0x429b023d,0x37d0d724,0xd00a1248,0xdb0fead3,0x49f1c09b,0x75372c9,0x80991b7b,0x25d479d8,0xf6e8def7,0xe3fe501a,0xb6794c3b,0x976ce0bd,0x4c006ba,0xc1a94fb6,0x409f60c4,0x5e5c9ec2,0x196a2463,0x68fb6faf,0x3e6c53b5,0x1339b2eb,0x3b52ec6f,0x6dfc511f,0x9b30952c,0xcc814544,0xaf5ebd09,0xbee3d004,0xde334afd,0x660f2807,0x192e4bb3,0xc0cba857,0x45c8740f,0xd20b5f39,0xb9d3fbdb,0x5579c0bd,0x1a60320a,0xd6a100c6,0x402c7279,0x679f25fe,0xfb1fa3cc,0x8ea5e9f8,0xdb3222f8,0x3c7516df,0xfd616b15,0x2f501ec8,0xad0552ab,0x323db5fa,0xfd238760,0x53317b48,0x3e00df82,0x9e5c57bb,0xca6f8ca0,0x1a87562e,0xdf1769db,0xd542a8f6,0x287effc3,0xac6732c6,0x8c4f5573,0x695b27b0,0xbbca58c8,0xe1ffa35d,0xb8f011a0,0x10fa3d98,0xfd2183b8,0x4afcb56c,0x2dd1d35b,0x9a53e479,0xb6f84565,0xd28e49bc,0x4bfb9790,0xe1ddf2da,0xa4cb7e33,0x62fb1341,0xcee4c6e8,0xef20cada,0x36774c01,0xd07e9efe,0x2bf11fb4,0x95dbda4d,0xae909198,0xeaad8e71,0x6b93d5a0,0xd08ed1d0,0xafc725e0,0x8e3c5b2f,0x8e7594b7,0x8ff6e2fb,0xf2122b64,0x8888b812,0x900df01c,0x4fad5ea0,0x688fc31c,0xd1cff191,0xb3a8c1ad,0x2f2f2218,0xbe0e1777,0xea752dfe,0x8b021fa1,0xe5a0cc0f,0xb56f74e8,0x18acf3d6,0xce89e299,0xb4a84fe0,0xfd13e0b7,0x7cc43b81,0xd2ada8d9,0x165fa266,0x80957705,0x93cc7314,0x211a1477,0xe6ad2065,0x77b5fa86,0xc75442f5,0xfb9d35cf,0xebcdaf0c,0x7b3e89a0,0xd6411bd3,0xae1e7e49,2428461,0x2071b35e,0x226800bb,0x57b8e0af,0x2464369b,0xf009b91e,0x5563911d,0x59dfa6aa,0x78c14389,0xd95a537f,0x207d5ba2,0x2e5b9c5,0x83260376,0x6295cfa9,0x11c81968,0x4e734a41,0xb3472dca,0x7b14a94a,0x1b510052,0x9a532915,0xd60f573f,0xbc9bc6e4,0x2b60a476,0x81e67400,0x8ba6fb5,0x571be91f,0xf296ec6b,0x2a0dd915,0xb6636521,0xe7b9f9b6,0xff34052e,0xc5855664,0x53b02d5d,0xa99f8fa1,0x8ba4799,0x6e85076a,0x4b7a70e9,0xb5b32944,0xdb75092e,0xc4192623,290971e4,0x49a7df7d,0x9cee60b8,0x8fedb266,0xecaa8c71,0x699a17ff,0x5664526c,0xc2b19ee1,0x193602a5,0x75094c29,0xa0591340,0xe4183a3e,0x3f54989a,0x5b429d65,0x6b8fe4d6,0x99f73fd6,0xa1d29c07,0xefe830f5,0x4d2d38e6,0xf0255dc1,0x4cdd2086,0x8470eb26,0x6382e9c6,0x21ecc5e,0x9686b3f,0x3ebaefc9,0x3c971814,0x6b6a70a1,0x687f3584,0x52a0e286,0xb79c5305,0xaa500737,0x3e07841c,0x7fdeae5c,0x8e7d44ec,0x5716f2b8,0xb03ada37,0xf0500c0d,0xf01c1f04,0x200b3ff,0xae0cf51a,0x3cb574b2,0x25837a58,0xdc0921bd,0xd19113f9,0x7ca92ff6,0x94324773,0x22f54701,0x3ae5e581,0x37c2dadc,0xc8b57634,0x9af3dda7,0xa9446146,0xfd0030e,0xecc8c73e,0xa4751e41,0xe238cd99,0x3bea0e2f,0x3280bba1,0x183eb331,0x4e548b38,0x4f6db908,0x6f420d03,0xf60a04bf,0x2cb81290,0x24977c79,0x5679b072,0xbcaf89af,0xde9a771f,0xd9930810,0xb38bae12,0xdccf3f2e,0x5512721f,0x2e6b7124,0x501adde6,0x9f84cd87,0x7a584718,0x7408da17,0xbc9f9abc,0xe94b7d8c,0xec7aec3a,0xdb851dfa,0x63094366,0xc464c3d2,0xef1c1847,0x3215d908,0xdd433b37,0x24c2ba16,0x12a14d43,0x2a65c451,0x50940002,0x133ae4dd,0x71dff89e,0x10314e55,0x81ac77d6,0x5f11199b,0x43556f1,0xd7a3c76b,0x3c11183b,0x5924a509,0xf28fe6ed,0x97f1fbfa,0x9ebabf2c,0x1e153c6e,0x86e34570,0xeae96fb1,0x860e5e0a,0x5a3e2ab3,0x771fe71c,0x4e3d06fa,0x2965dcb9,0x99e71d0f,0x803e89d6,0x5266c825,0x2e4cc978,0x9c10b36a,0xc6150eba,0x94e2ea78,0xa5fc3c53,0x1e0a2df4,0xf2f74ea7,0x361d2b3d,0x1939260f,0x19c27960,0x5223a708,0xf71312b6,0xebadfe6e,0xeac31f66,0xe3bc4595,0xa67bc883,0xb17f37d1,0x18cff28,0xc332ddef,0xbe6c5aa5,0x65582185,0x68ab9802,0xeecea50f,0xdb2f953b,0x2aef7dad,0x5b6e2f84,0x1521b628,0x29076170,0xecdd4775,0x619f1510,0x13cca830,0xeb61bd96,0x334fe1e,0xaa0363cf,0xb5735c90,0x4c70a239,0xd59e9e0b,0xcbaade14,0xeecc86bc,0x60622ca7,0x9cab5cab,0xb2f3846e,0x648b1eaf,0x19bdf0ca,0xa02369b9,0x655abb50,0x40685a32,0x3c2ab4b3,0x319ee9d5,0xc021b8f7,0x9b540b19,0x875fa099,0x95f7997e,0x623d7da8,0xf837889a,0x97e32d77,0x11ed935f,0x16681281,0xe358829,0xc7e61fd6,0x96dedfa1,0x7858ba99,0x57f584a5,0x1b227263,0x9b83c3ff,0x1ac24696,0xcdb30aeb,0x532e3054,0x8fd948e4,0x6dbc3128,0x58ebf2ef,0x34c6ffea,0xfe28ed61,0xee7c3c73,0x5d4a14d9,0xe864b7e3,0x42105d14,0x203e13e0,0x45eee2b6,0xa3aaabea,0xdb6c4f15,0xfacb4fd0,0xc742f442,0xef6abbb5,0x654f3b1d,0x41cd2105,0xd81e799e,0x86854dc7,0xe44b476a,0x3d816250,0xcf62a1f2,0x5b8d2646,0xfc8883a0,0xc1c7b6a3,0x7f1524c3,0x69cb7492,0x47848a0b,0x5692b285,0x95bbf00,0xad19489d,0x1462b174,0x23820e00,0x58428d2a,0xc55f5ea,0x1dadf43e,0x233f7061,0x3372f092,0x8d937e41,0xd65fecf1,0x6c223bdb,0x7cde3759,0xcbee7460,0x4085f2a7,0xce77326e,0xa6078084,0x19f8509e,0xe8efd855,0x61d99735,0xa969a7aa,0xc50c06c2,0x5a04abfc,0x800bcadc,0x9e447a2e,0xc3453484,0xfdd56705,0xe1e9ec9,0xdb73dbd3,0x105588cd,0x675fda79,0xe3674340,0xc5c43465,0x713e38d8,0x3d28f89e,0xf16dff20,0x153e21e7,0x8fb03d4a,0xe6e39f2b,0xdb83adf7,0xe93d5a68,0x948140f7,0xf64c261c,0x94692934,0x411520f7,0x7602d4f7,0xbcf46b2e,0xd4a20068,0xd4082471,0x3320f46a,0x43b7d4b7,0x500061af,0x1e39f62e,0x97244546,0x14214f74,0xbf8b8840,0x4d95fc1d,0x96b591af,0x70f4ddd3,0x66a02f45,0xbfbc09ec,0x3bd9785,0x7fac6dd0,0x31cb8504,0x96eb27b3,0x55fd3941,0xda2547e6,0xabca0a9a,0x28507825,0x530429f4,0xa2c86da,0xe9b66dfb,0x68dc1462,0xd7486900,0x680ec0a4,0x27a18dee,0x4f3ffea2,0xe887ad8c,0xb58ce006,0x7af4d6b6,0xaace1e7c,0xd3375fec,0xce78a399,0x406b2a42,0x20fe9e35,0xd9f385b9,0xee39d7ab,0x3b124e8b,0x1dc9faf7,0x4b6d1856,0x26a36631,0xeae397b2,0x3a6efa74,0xdd5b4332,0x6841e7f7,0xca7820fb,0xfb0af54e,0xd8feb397,0x454056ac,0xba489527,0x55533a3a,0x20838d87,0xfe6ba9b7,0xd096954b,0x55a867bc,0xa1159a58,0xcca92963,0x99e1db33,0xa62a4a56,0x3f3125f9,0x5ef47e1c,0x9029317c,0xfdf8e802,0x4272f70,0x80bb155c,0x5282ce3,0x95c11548,0xe4c66d22,0x48c1133f,0xc70f86dc,0x7f9c9ee,0x41041f0f,0x404779a4,0x5d886e17,0x325f51eb,0xd59bc0d1,0xf2bcc18f,0x41113564,0x257b7834,0x602a9c60,0xdff8e8a3,0x1f636c1b,0xe12b4c2,0x2e1329e,0xaf664fd1,0xcad18115,0x6b2395e0,0x333e92e1,0x3b240b62,0xeebeb922,0x85b2a20e,0xe6ba0d99,0xde720c8c,0x2da2f728,0xd0127845,0x95b794fd,0x647d0862,0xe7ccf5f0,0x5449a36f,0x877d48fa,0xc39dfd27,0xf33e8d1e,0xa476341,0x992eff74,0x3a6f6eab,0xf4f8fd37,0xa812dc60,0xa1ebddf8,0x991be14c,0xdb6e6b0d,0xc67b5510,0x6d672c37,0x2765d43b,0xdcd0e804,0xf1290dc7,0xcc00ffa3,0xb5390f92,0x690fed0b,0x667b9ffb,0xcedb7d9c,0xa091cf0b,0xd9155ea3,0xbb132f88,0x515bad24,0x7b9479bf,0x763bd6eb,0x37392eb3,0xcc115979,0x8026e297,0xf42e312d,0x6842ada7,0xc66a2b3b,0x12754ccc,0x782ef11c,0x6a124237,0xb79251e7,0x6a1bbe6,0x4bfb6350,0x1a6b1018,0x11caedfa,0x3d25bdd8,0xe2e1c3c9,0x44421659,0xa121386,0xd90cec6e,0xd5abea2a,0x64af674e,0xda86a85f,0xbebfe988,0x64e4c3fe,0x9dbc8057,0xf0f7c086,0x60787bf8,0x6003604d,0xd1fd8346,0xf6381fb0,0x7745ae04,0xd736fccc,0x83426b33,0xf01eab71,0xb0804187,0x3c005e5f,0x77a057be,0xbde8ae24,0x55464299,0xbf582e61,0x4e58f48f,0xf2ddfda2,0xf474ef38,0x8789bdc2,0x5366f9c3,0xc8b38e74,0xb475f255,0x46fcd9b9,0x7aeb2661,0x8b1ddf84,0x846a0e79,0x915f95e2,0x466e598e,0x20b45770,0x8cd55591,0xc902de4c,0xb90bace1,0xbb8205d0,0x11a86248,0x7574a99e,0xb77f19b6,0xe0a9dc09,0x662d09a1,0xc4324633,0xe85a1f02,0x9f0be8c,0x4a99a025,0x1d6efe10,0x1ab93d1d,0xba5a4df,0xa186f20f,0x2868f169,0xdcb7da83,0x573906fe,0xa1e2ce9b,0x4fcd7f52,0x50115e01,0xa70683fa,0xa002b5c4,0xde6d027,0x9af88c27,0x773f8641,0xc3604c06,0x61a806b5,0xf0177a28,0xc0f586e0,6314154,0x30dc7d62,0x11e69ed7,0x2338ea63,0x53c2dd94,0xc2c21634,0xbbcbee56,0x90bcb6de,0xebfc7da1,0xce591d76,0x6f05e409,0x4b7c0188,0x39720a3d,0x7c927c24,0x86e3725f,0x724d9db9,0x1ac15bb4,0xd39eb8fc,0xed545578,0x8fca5b5,0xd83d7cd3,0x4dad0fc4,0x1e50ef5e,0xb161e6f8,0xa28514d9,0x6c51133c,0x6fd5c7e7,0x56e14ec4,0x362abfce,0xddc6c837,0xd79a3234,0x92638212,0x670efa8e,0x406000e0,0x3a39ce37,0xd3faf5cf,0xabc27737,0x5ac52d1b,0x5cb0679e,0x4fa33742,0xd3822740,0x99bc9bbe,0xd5118e9d,0xbf0f7315,0xd62d1c7e,0xc700c47b,0xb78c1b6b,0x21a19045,0xb26eb1be,0x6a366eb4,0x5748ab2f,0xbc946e79,0xc6a376d2,0x6549c2c8,0x530ff8ee,0x468dde7d,0xd5730a1d,0x4cd04dc6,0x2939bbdb,0xa9ba4650,0xac9526e8,0xbe5ee304,0xa1fad5f0,0x6a2d519a,0x63ef8ce2,0x9a86ee22,0xc089c2b8,0x43242ef6,0xa51e03aa,0x9cf2d0a4,0x83c061ba,0x9be96a4d,0x8fe51550,0xba645bd6,0x2826a2f9,0xa73a3ae1,0x4ba99586,0xef5562e9,0xc72fefd3,0xf752f7da,0x3f046f69,0x77fa0a59,0x80e4a915,0x87b08601,0x9b09e6ad,0x3b3ee593,0xe990fd5a,0x9e34d797,0x2cf0b7d9,0x22b8b51,0x96d5ac3a,0x17da67d,0xd1cf3ed6,0x7c7d2d28,0x1f9f25cf,0xadf2b89b,0x5ad6b472,0x5a88f54c,0xe029ac71,0xe019a5e6,0x47b0acfd,0xed93fa9b,0xe8d3c48d,0x283b57cc,0xf8d56629,0x79132e28,0x785f0191,0xed756055,0xf7960e44,0xe3d35e8c,0x15056dd4,0x88f46dba,0x3a16125,0x564f0bd,0xc3eb9e15,0x3c9057a2,0x97271aec,0xa93a072a,0x1b3f6d9b,0x1e6321f5,0xf59c66fb,0x26dcf319,0x7533d928,0xb155fdf5,0x3563482,0x8aba3cbb,0x28517711,0xc20ad9f8,0xabcc5167,0xccad925f,0x4de81751,0x3830dc8e,0x379d5862,0x9320f991,0xea7a90c2,0xfb3e7bce,0x5121ce64,0x774fbe32,0xa8b6e37e,0xc3293d46,0x48de5369,0x6413e680,0xa2ae0810,0xdd6db224,0x69852dfd,0x9072166,0xb39a460a,0x6445c0dd,0x586cdecf,0x1c20c8ae,0x5bbef7dd,0x1b588d40,0xccd2017f,0x6bb4e3bb,0xdda26a7e,0x3a59ff45,0x3e350a44,0xbcb4cdd5,0x72eacea8,0xfa6484bb,0x8d6612ae,0xbf3c6f47,0xd29be463,0x542f5d9e,0xaec2771b,0xf64e6370,0x740e0d8d,0xe75b1357,0xf8721671,0xaf537d5d,0x4040cb08,0x4eb4e2cc,0x34d2466a,0x115af84,3786409e3,0x95983a1d,0x6b89fb4,0xce6ea048,0x6f3f3b82,0x3520ab82,0x11a1d4b,0x277227f8,0x611560b1,0xe7933fdc,0xbb3a792b,0x344525bd,0xa08839e1,0x51ce794b,0x2f32c9b7,0xa01fbac9,0xe01cc87e,0xbcc7d1f6,0xcf0111c3,0xa1e8aac7,0x1a908749,0xd44fbd9a,0xd0dadecb,0xd50ada38,0x339c32a,0xc6913667,0x8df9317c,0xe0b12b4f,0xf79e59b7,0x43f5bb3a,0xf2d519ff,0x27d9459c,0xbf97222c,0x15e6fc2a,0xf91fc71,0x9b941525,0xfae59361,0xceb69ceb,0xc2a86459,0x12baa8d1,0xb6c1075e,0xe3056a0c,0x10d25065,0xcb03a442,0xe0ec6e0e,0x1698db3b,0x4c98a0be,0x3278e964,0x9f1f9532,0xe0d392df,0xd3a0342b,0x8971f21e,0x1b0a7441,0x4ba3348c,0xc5be7120,0xc37632d8,0xdf359f8d,0x9b992f2e,0xe60b6f47,0xfe3f11d,0xe54cda54,0x1edad891,0xce6279cf,0xcd3e7e6f,0x1618b166,0xfd2c1d05,0x848fd2c5,0xf6fb2299,0xf523f357,0xa6327623,0x93a83531,0x56cccd02,0xacf08162,0x5a75ebb5,0x6e163697,0x88d273cc,0xde966292,0x81b949d0,0x4c50901b,0x71c65614,0xe6c6c7bd,0x327a140a,0x45e1d006,0xc3f27b9a,0xc9aa53fd,0x62a80f00,0xbb25bfe2,0x35bdd2f6,0x71126905,0xb2040222,0xb6cbcf7c,0xcd769c2b,0x53113ec0,0x1640e3d3,0x38abbd60,0x2547adf0,0xba38209c,0xf746ce76,0x77afa1c5,0x20756060,0x85cbfe4e,0x8ae88dd8,0x7aaaf9b0,0x4cf9aa7e,0x1948c25c,0x2fb8a8c,0x1c36ae4,0xd6ebe1f9,0x90d4f869,0xa65cdea0,0x3f09252d,0xc208e69f,0xb74e6132,0xce77e25b,0x578fdfe3,0x3ac372e6],x=[0x4f727068,0x65616e42,0x65686f6c,0x64657253,0x63727944,0x6f756274];function y(e,t,i,a){var r=e[t],n=e[t+1];return r^=i[0],n^=(a[r>>>24]+a[256|r>>16&255]^a[512|r>>8&255])+a[768|255&r]^i[1],r^=(a[n>>>24]+a[256|n>>16&255]^a[512|n>>8&255])+a[768|255&n]^i[2],n^=(a[r>>>24]+a[256|r>>16&255]^a[512|r>>8&255])+a[768|255&r]^i[3],r^=(a[n>>>24]+a[256|n>>16&255]^a[512|n>>8&255])+a[768|255&n]^i[4],n^=(a[r>>>24]+a[256|r>>16&255]^a[512|r>>8&255])+a[768|255&r]^i[5],r^=(a[n>>>24]+a[256|n>>16&255]^a[512|n>>8&255])+a[768|255&n]^i[6],n^=(a[r>>>24]+a[256|r>>16&255]^a[512|r>>8&255])+a[768|255&r]^i[7],r^=(a[n>>>24]+a[256|n>>16&255]^a[512|n>>8&255])+a[768|255&n]^i[8],n^=(a[r>>>24]+a[256|r>>16&255]^a[512|r>>8&255])+a[768|255&r]^i[9],r^=(a[n>>>24]+a[256|n>>16&255]^a[512|n>>8&255])+a[768|255&n]^i[10],n^=(a[r>>>24]+a[256|r>>16&255]^a[512|r>>8&255])+a[768|255&r]^i[11],r^=(a[n>>>24]+a[256|n>>16&255]^a[512|n>>8&255])+a[768|255&n]^i[12],n^=(a[r>>>24]+a[256|r>>16&255]^a[512|r>>8&255])+a[768|255&r]^i[13],r^=(a[n>>>24]+a[256|n>>16&255]^a[512|n>>8&255])+a[768|255&n]^i[14],n^=(a[r>>>24]+a[256|r>>16&255]^a[512|r>>8&255])+a[768|255&r]^i[15],r^=(a[n>>>24]+a[256|n>>16&255]^a[512|n>>8&255])+a[768|255&n]^i[16],e[t]=n^i[17],e[t+1]=r,e}function b(e,t){for(var i=0,a=0;i<4;++i)a=a<<8|255&e[t],t=(t+1)%e.length;return{key:a,offp:t}}function _(e,t,i){for(var a,r=0,n=[0,0],s=t.length,o=i.length,c=0;c<s;c++)r=(a=b(e,r)).offp,t[c]=t[c]^a.key;for(c=0;c<s;c+=2)n=y(n,0,t,i),t[c]=n[0],t[c+1]=n[1];for(c=0;c<o;c+=2)n=y(n,0,t,i),i[c]=n[0],i[c+1]=n[1]}function w(e,t,i,a,r){var n,s,c=x.slice(),l=c.length;if(i<4||i>31){if(s=Error("Illegal number of rounds (4-31): "+i),a){o(a.bind(this,s));return}throw s}if(t.length!==f){if(s=Error("Illegal salt length: "+t.length+" != "+f),a){o(a.bind(this,s));return}throw s}i=1<<i>>>0;var d,p,u,h=0;function m(){if(r&&r(h/i),h<i)for(var n=Date.now();h<i&&(h+=1,_(e,d,p),_(t,d,p),!(Date.now()-n>100)););else{for(h=0;h<64;h++)for(u=0;u<l>>1;u++)y(c,u<<1,d,p);var s=[];for(h=0;h<l;h++)s.push((c[h]>>24&255)>>>0),s.push((c[h]>>16&255)>>>0),s.push((c[h]>>8&255)>>>0),s.push((255&c[h])>>>0);return a?void a(null,s):s}a&&o(m)}if(Int32Array?(d=new Int32Array(g),p=new Int32Array(v)):(d=g.slice(),p=v.slice()),function(e,t,i,a){for(var r,n=0,s=[0,0],o=i.length,c=a.length,l=0;l<o;l++)n=(r=b(t,n)).offp,i[l]=i[l]^r.key;for(l=0,n=0;l<o;l+=2)n=(r=b(e,n)).offp,s[0]^=r.key,n=(r=b(e,n)).offp,s[1]^=r.key,s=y(s,0,i,a),i[l]=s[0],i[l+1]=s[1];for(l=0;l<c;l+=2)n=(r=b(e,n)).offp,s[0]^=r.key,n=(r=b(e,n)).offp,s[1]^=r.key,s=y(s,0,i,a),a[l]=s[0],a[l+1]=s[1]}(t,e,d,p),void 0!==a)m();else for(;;)if(void 0!==(n=m()))return n||[]}function k(e,t,i,a){if("string"!=typeof e||"string"!=typeof t){if(c=Error("Invalid string / salt: Not a string"),i){o(i.bind(this,c));return}throw c}if("$"!==t.charAt(0)||"2"!==t.charAt(1)){if(c=Error("Invalid salt version: "+t.substring(0,2)),i){o(i.bind(this,c));return}throw c}if("$"===t.charAt(2))l="\0",d=3;else{if("a"!==(l=t.charAt(2))&&"b"!==l&&"y"!==l||"$"!==t.charAt(3)){if(c=Error("Invalid salt revision: "+t.substring(2,4)),i){o(i.bind(this,c));return}throw c}d=4}if(t.charAt(d+2)>"$"){if(c=Error("Missing salt rounds"),i){o(i.bind(this,c));return}throw c}var r,n,s,c,l,d,m=10*parseInt(t.substring(d,d+1),10)+parseInt(t.substring(d+1,d+2),10),g=t.substring(d+3,d+25);e+=l>="a"?"\0":"";var v=(r=e,n=[],s=0,h.encodeUTF16toUTF8(function(){return s>=r.length?null:r.charCodeAt(s++)},function(e){n.push(e)}),n),y=u(g,f);function b(e){var t=[];return t.push("$2"),l>="a"&&t.push(l),t.push("$"),m<10&&t.push("0"),t.push(m.toString()),t.push("$"),t.push(p(y,y.length)),t.push(p(e,4*x.length-1)),t.join("")}if(void 0===i)return b(w(v,y,m));w(v,y,m,function(e,t){e?i(e,null):i(null,b(t))},a)}return a.encodeBase64=p,a.decodeBase64=u,a})?a.apply(t,r):a)&&(e.exports=n)},8805:(e,t,i)=>{e.exports=i(97748)},84576:(e,t)=>{"use strict";t.q=function(e,t){if("string"!=typeof e)throw TypeError("argument str must be a string");var i={},a=e.length;if(a<2)return i;var r=t&&t.decode||l,n=0,s=0,d=0;do{if(-1===(s=e.indexOf("=",n)))break;if(-1===(d=e.indexOf(";",n)))d=a;else if(s>d){n=e.lastIndexOf(";",s-1)+1;continue}var p=o(e,n,s),u=c(e,s,p),h=e.slice(p,u);if(!i.hasOwnProperty(h)){var f=o(e,s+1,d),m=c(e,d,f);34===e.charCodeAt(f)&&34===e.charCodeAt(m-1)&&(f++,m--);var g=e.slice(f,m);i[h]=function(e,t){try{return t(e)}catch(t){return e}}(g,r)}n=d+1}while(n<a);return i},t.l=function(e,t,o){var c=o&&o.encode||encodeURIComponent;if("function"!=typeof c)throw TypeError("option encode is invalid");if(!a.test(e))throw TypeError("argument name is invalid");var l=c(t);if(!r.test(l))throw TypeError("argument val is invalid");var d=e+"="+l;if(!o)return d;if(null!=o.maxAge){var p=Math.floor(o.maxAge);if(!isFinite(p))throw TypeError("option maxAge is invalid");d+="; Max-Age="+p}if(o.domain){if(!n.test(o.domain))throw TypeError("option domain is invalid");d+="; Domain="+o.domain}if(o.path){if(!s.test(o.path))throw TypeError("option path is invalid");d+="; Path="+o.path}if(o.expires){var u=o.expires;if("[object Date]"!==i.call(u)||isNaN(u.valueOf()))throw TypeError("option expires is invalid");d+="; Expires="+u.toUTCString()}if(o.httpOnly&&(d+="; HttpOnly"),o.secure&&(d+="; Secure"),o.partitioned&&(d+="; Partitioned"),o.priority)switch("string"==typeof o.priority?o.priority.toLowerCase():o.priority){case"low":d+="; Priority=Low";break;case"medium":d+="; Priority=Medium";break;case"high":d+="; Priority=High";break;default:throw TypeError("option priority is invalid")}if(o.sameSite)switch("string"==typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:case"strict":d+="; SameSite=Strict";break;case"lax":d+="; SameSite=Lax";break;case"none":d+="; SameSite=None";break;default:throw TypeError("option sameSite is invalid")}return d};var i=Object.prototype.toString,a=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,r=/^("?)[\u0021\u0023-\u002B\u002D-\u003A\u003C-\u005B\u005D-\u007E]*\1$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/;function o(e,t,i){do{var a=e.charCodeAt(t);if(32!==a&&9!==a)return t}while(++t<i);return i}function c(e,t,i){for(;t>i;){var a=e.charCodeAt(--t);if(32!==a&&9!==a)return t+1}return i}function l(e){return -1!==e.indexOf("%")?decodeURIComponent(e):e}},26676:(e,t,i)=>{"use strict";function a(){throw Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return a}}),i(78620).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},43943:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{DynamicServerError:function(){return a},isDynamicServerError:function(){return r}});let i="DYNAMIC_SERVER_USAGE";class a extends Error{constructor(e){super("Dynamic server usage: "+e),this.description=e,this.digest=i}}function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&"string"==typeof e.digest&&e.digest===i}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},78620:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{HTTPAccessErrorStatus:function(){return i},HTTP_ERROR_FALLBACK_ERROR_CODE:function(){return r},getAccessFallbackErrorTypeByStatus:function(){return o},getAccessFallbackHTTPStatus:function(){return s},isHTTPAccessFallbackError:function(){return n}});let i={NOT_FOUND:404,FORBIDDEN:403,UNAUTHORIZED:401},a=new Set(Object.values(i)),r="NEXT_HTTP_ERROR_FALLBACK";function n(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let[t,i]=e.digest.split(";");return t===r&&a.has(Number(i))}function s(e){return Number(e.digest.split(";")[1])}function o(e){switch(e){case 401:return"unauthorized";case 403:return"forbidden";case 404:return"not-found";default:return}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},82432:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return n}});let a=i(78620),r=i(58512);function n(e){return(0,r.isRedirectError)(e)||(0,a.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},37432:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return r.RedirectType},forbidden:function(){return s.forbidden},notFound:function(){return n.notFound},permanentRedirect:function(){return a.permanentRedirect},redirect:function(){return a.redirect},unauthorized:function(){return o.unauthorized},unstable_rethrow:function(){return c.unstable_rethrow}});let a=i(937),r=i(58512),n=i(87895),s=i(26676),o=i(54507),c=i(68727);class l extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new l}delete(){throw new l}set(){throw new l}sort(){throw new l}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},87895:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return r}});let a=""+i(78620).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function r(){let e=Error(a);throw e.digest=a,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},58512:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{REDIRECT_ERROR_CODE:function(){return r},RedirectType:function(){return n},isRedirectError:function(){return s}});let a=i(59738),r="NEXT_REDIRECT";var n=function(e){return e.push="push",e.replace="replace",e}({});function s(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[i,n]=t,s=t.slice(2,-2).join(";"),o=Number(t.at(-2));return i===r&&("replace"===n||"push"===n)&&"string"==typeof s&&!isNaN(o)&&o in a.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},59738:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return i}});var i=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},937:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{getRedirectError:function(){return s},getRedirectStatusCodeFromError:function(){return p},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return l},permanentRedirect:function(){return c},redirect:function(){return o}});let a=i(19121),r=i(59738),n=i(58512);function s(e,t,i){void 0===i&&(i=r.RedirectStatusCode.TemporaryRedirect);let a=Error(n.REDIRECT_ERROR_CODE);return a.digest=n.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+i+";",a}function o(e,t){let i=a.actionAsyncStorage.getStore();throw s(e,t||((null==i?void 0:i.isAction)?n.RedirectType.push:n.RedirectType.replace),r.RedirectStatusCode.TemporaryRedirect)}function c(e,t){throw void 0===t&&(t=n.RedirectType.replace),s(e,t,r.RedirectStatusCode.PermanentRedirect)}function l(e){return(0,n.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,n.isRedirectError)(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function p(e){if(!(0,n.isRedirectError)(e))throw Error("Not a redirect error");return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84441:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{StaticGenBailoutError:function(){return a},isStaticGenBailoutError:function(){return r}});let i="NEXT_STATIC_GEN_BAILOUT";class a extends Error{constructor(...e){super(...e),this.code=i}}function r(e){return"object"==typeof e&&null!==e&&"code"in e&&e.code===i}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},54507:(e,t,i)=>{"use strict";function a(){throw Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return a}}),i(78620).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},68727:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,s.isNextRouterError)(t)||(0,n.isBailoutToCSRError)(t)||(0,a.isDynamicUsageError)(t)||(0,r.isPostpone)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let a=i(76850),r=i(57063),n=i(43548),s=i(82432);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},6003:e=>{"use strict";var t=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,n={};function s(e){var t;let i=["path"in e&&e.path&&`Path=${e.path}`,"expires"in e&&(e.expires||0===e.expires)&&`Expires=${("number"==typeof e.expires?new Date(e.expires):e.expires).toUTCString()}`,"maxAge"in e&&"number"==typeof e.maxAge&&`Max-Age=${e.maxAge}`,"domain"in e&&e.domain&&`Domain=${e.domain}`,"secure"in e&&e.secure&&"Secure","httpOnly"in e&&e.httpOnly&&"HttpOnly","sameSite"in e&&e.sameSite&&`SameSite=${e.sameSite}`,"partitioned"in e&&e.partitioned&&"Partitioned","priority"in e&&e.priority&&`Priority=${e.priority}`].filter(Boolean),a=`${e.name}=${encodeURIComponent(null!=(t=e.value)?t:"")}`;return 0===i.length?a:`${a}; ${i.join("; ")}`}function o(e){let t=new Map;for(let i of e.split(/; */)){if(!i)continue;let e=i.indexOf("=");if(-1===e){t.set(i,"true");continue}let[a,r]=[i.slice(0,e),i.slice(e+1)];try{t.set(a,decodeURIComponent(null!=r?r:"true"))}catch{}}return t}function c(e){var t,i;if(!e)return;let[[a,r],...n]=o(e),{domain:s,expires:c,httponly:p,maxage:u,path:h,samesite:f,secure:m,partitioned:g,priority:v}=Object.fromEntries(n.map(([e,t])=>[e.toLowerCase().replace(/-/g,""),t]));return function(e){let t={};for(let i in e)e[i]&&(t[i]=e[i]);return t}({name:a,value:decodeURIComponent(r),domain:s,...c&&{expires:new Date(c)},...p&&{httpOnly:!0},..."string"==typeof u&&{maxAge:Number(u)},path:h,...f&&{sameSite:l.includes(t=(t=f).toLowerCase())?t:void 0},...m&&{secure:!0},...v&&{priority:d.includes(i=(i=v).toLowerCase())?i:void 0},...g&&{partitioned:!0}})}((e,i)=>{for(var a in i)t(e,a,{get:i[a],enumerable:!0})})(n,{RequestCookies:()=>p,ResponseCookies:()=>u,parseCookie:()=>o,parseSetCookie:()=>c,stringifyCookie:()=>s}),e.exports=((e,n,s,o)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let c of a(n))r.call(e,c)||c===s||t(e,c,{get:()=>n[c],enumerable:!(o=i(n,c))||o.enumerable});return e})(t({},"__esModule",{value:!0}),n);var l=["strict","lax","none"],d=["low","medium","high"],p=class{constructor(e){this._parsed=new Map,this._headers=e;let t=e.get("cookie");if(t)for(let[e,i]of o(t))this._parsed.set(e,{name:e,value:i})}[Symbol.iterator](){return this._parsed[Symbol.iterator]()}get size(){return this._parsed.size}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let i=Array.from(this._parsed);if(!e.length)return i.map(([e,t])=>t);let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return i.filter(([e])=>e===a).map(([e,t])=>t)}has(e){return this._parsed.has(e)}set(...e){let[t,i]=1===e.length?[e[0].name,e[0].value]:e,a=this._parsed;return a.set(t,{name:t,value:i}),this._headers.set("cookie",Array.from(a).map(([e,t])=>s(t)).join("; ")),this}delete(e){let t=this._parsed,i=Array.isArray(e)?e.map(e=>t.delete(e)):t.delete(e);return this._headers.set("cookie",Array.from(t).map(([e,t])=>s(t)).join("; ")),i}clear(){return this.delete(Array.from(this._parsed.keys())),this}[Symbol.for("edge-runtime.inspect.custom")](){return`RequestCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(e=>`${e.name}=${encodeURIComponent(e.value)}`).join("; ")}},u=class{constructor(e){var t,i,a;this._parsed=new Map,this._headers=e;let r=null!=(a=null!=(i=null==(t=e.getSetCookie)?void 0:t.call(e))?i:e.get("set-cookie"))?a:[];for(let e of Array.isArray(r)?r:function(e){if(!e)return[];var t,i,a,r,n,s=[],o=0;function c(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,n=!1;c();)if(","===(i=e.charAt(o))){for(a=o,o+=1,c(),r=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(n=!0,o=r,s.push(e.substring(t,a)),t=o):o=a+1}else o+=1;(!n||o>=e.length)&&s.push(e.substring(t,e.length))}return s}(r)){let t=c(e);t&&this._parsed.set(t.name,t)}}get(...e){let t="string"==typeof e[0]?e[0]:e[0].name;return this._parsed.get(t)}getAll(...e){var t;let i=Array.from(this._parsed.values());if(!e.length)return i;let a="string"==typeof e[0]?e[0]:null==(t=e[0])?void 0:t.name;return i.filter(e=>e.name===a)}has(e){return this._parsed.has(e)}set(...e){let[t,i,a]=1===e.length?[e[0].name,e[0].value,e[0]]:e,r=this._parsed;return r.set(t,function(e={name:"",value:""}){return"number"==typeof e.expires&&(e.expires=new Date(e.expires)),e.maxAge&&(e.expires=new Date(Date.now()+1e3*e.maxAge)),(null===e.path||void 0===e.path)&&(e.path="/"),e}({name:t,value:i,...a})),function(e,t){for(let[,i]of(t.delete("set-cookie"),e)){let e=s(i);t.append("set-cookie",e)}}(r,this._headers),this}delete(...e){let[t,i]="string"==typeof e[0]?[e[0]]:[e[0].name,e[0]];return this.set({...i,name:t,value:"",expires:new Date(0)})}[Symbol.for("edge-runtime.inspect.custom")](){return`ResponseCookies ${JSON.stringify(Object.fromEntries(this._parsed))}`}toString(){return[...this._parsed.values()].map(s).join("; ")}}},26699:(e,t,i)=>{var a;(()=>{var r={226:function(r,n){!function(s,o){"use strict";var c="function",l="undefined",d="object",p="string",u="major",h="model",f="name",m="type",g="vendor",v="version",x="architecture",y="console",b="mobile",_="tablet",w="smarttv",k="wearable",E="embedded",A="Amazon",S="Apple",T="ASUS",C="BlackBerry",O="Browser",R="Chrome",P="Firefox",j="Google",I="Huawei",N="Microsoft",U="Motorola",L="Opera",D="Samsung",M="Sharp",H="Sony",$="Xiaomi",F="Zebra",z="Facebook",B="Chromium OS",q="Mac OS",W=function(e,t){var i={};for(var a in e)t[a]&&t[a].length%2==0?i[a]=t[a].concat(e[a]):i[a]=e[a];return i},V=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},Z=function(e,t){return typeof e===p&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},J=function(e,t){if(typeof e===p)return e=e.replace(/^\s\s*/,""),typeof t===l?e:e.substring(0,350)},G=function(e,t){for(var i,a,r,n,s,l,p=0;p<t.length&&!s;){var u=t[p],h=t[p+1];for(i=a=0;i<u.length&&!s&&u[i];)if(s=u[i++].exec(e))for(r=0;r<h.length;r++)l=s[++a],typeof(n=h[r])===d&&n.length>0?2===n.length?typeof n[1]==c?this[n[0]]=n[1].call(this,l):this[n[0]]=n[1]:3===n.length?typeof n[1]!==c||n[1].exec&&n[1].test?this[n[0]]=l?l.replace(n[1],n[2]):void 0:this[n[0]]=l?n[1].call(this,l,n[2]):void 0:4===n.length&&(this[n[0]]=l?n[3].call(this,l.replace(n[1],n[2])):void 0):this[n]=l||o;p+=2}},X=function(e,t){for(var i in t)if(typeof t[i]===d&&t[i].length>0){for(var a=0;a<t[i].length;a++)if(Z(t[i][a],e))return"?"===i?o:i}else if(Z(t[i],e))return"?"===i?o:i;return e},Q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Y={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[f,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[f,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[f,v],[/opios[\/ ]+([\w\.]+)/i],[v,[f,L+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[f,L]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[f,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[f,"UC"+O]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[v,[f,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[v,[f,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[f,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[f,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[f,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[f,/(.+)/,"$1 Secure "+O],v],[/\bfocus\/([\w\.]+)/i],[v,[f,P+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[f,L+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[f,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[f,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[f,L+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[f,"MIUI "+O]],[/fxios\/([-\w\.]+)/i],[v,[f,P]],[/\bqihu|(qi?ho?o?|360)browser/i],[[f,"360 "+O]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[f,/(.+)/,"$1 "+O],v],[/(comodo_dragon)\/([\w\.]+)/i],[[f,/_/g," "],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[f,v],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[f],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[f,z],v],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[f,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[f,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[f,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[f,R+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[f,R+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[f,"Android "+O]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[f,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[f,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,f],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[f,[v,X,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[f,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[f,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[f,P+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[f,v],[/(cobalt)\/([\w\.]+)/i],[f,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[x,"amd64"]],[/(ia32(?=;))/i],[[x,K]],[/((?:i[346]|x)86)[;\)]/i],[[x,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[x,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[x,"armhf"]],[/windows (ce|mobile); ppc;/i],[[x,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[x,/ower/,"",K]],[/(sun4\w)[;\)]/i],[[x,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[x,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[g,D],[m,_]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[g,D],[m,b]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[h,[g,S],[m,b]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[g,S],[m,_]],[/(macintosh);/i],[h,[g,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[g,M],[m,b]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[g,I],[m,_]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[g,I],[m,b]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[g,$],[m,b]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[g,$],[m,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[g,"OPPO"],[m,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[g,"Vivo"],[m,b]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[g,"Realme"],[m,b]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[g,U],[m,b]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[g,U],[m,_]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[g,"LG"],[m,_]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[g,"LG"],[m,b]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[g,"Lenovo"],[m,_]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[g,"Nokia"],[m,b]],[/(pixel c)\b/i],[h,[g,j],[m,_]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[g,j],[m,b]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[g,H],[m,b]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[g,H],[m,_]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[g,"OnePlus"],[m,b]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[g,A],[m,_]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[g,A],[m,b]],[/(playbook);[-\w\),; ]+(rim)/i],[h,g,[m,_]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[g,C],[m,b]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[g,T],[m,_]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[g,T],[m,b]],[/(nexus 9)/i],[h,[g,"HTC"],[m,_]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[g,[h,/_/g," "],[m,b]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[g,"Acer"],[m,_]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[g,"Meizu"],[m,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[g,h,[m,b]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[g,h,[m,_]],[/(surface duo)/i],[h,[g,N],[m,_]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[g,"Fairphone"],[m,b]],[/(u304aa)/i],[h,[g,"AT&T"],[m,b]],[/\bsie-(\w*)/i],[h,[g,"Siemens"],[m,b]],[/\b(rct\w+) b/i],[h,[g,"RCA"],[m,_]],[/\b(venue[\d ]{2,7}) b/i],[h,[g,"Dell"],[m,_]],[/\b(q(?:mv|ta)\w+) b/i],[h,[g,"Verizon"],[m,_]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[g,"Barnes & Noble"],[m,_]],[/\b(tm\d{3}\w+) b/i],[h,[g,"NuVision"],[m,_]],[/\b(k88) b/i],[h,[g,"ZTE"],[m,_]],[/\b(nx\d{3}j) b/i],[h,[g,"ZTE"],[m,b]],[/\b(gen\d{3}) b.+49h/i],[h,[g,"Swiss"],[m,b]],[/\b(zur\d{3}) b/i],[h,[g,"Swiss"],[m,_]],[/\b((zeki)?tb.*\b) b/i],[h,[g,"Zeki"],[m,_]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[g,"Dragon Touch"],h,[m,_]],[/\b(ns-?\w{0,9}) b/i],[h,[g,"Insignia"],[m,_]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[g,"NextBook"],[m,_]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[g,"Voice"],h,[m,b]],[/\b(lvtel\-)?(v1[12]) b/i],[[g,"LvTel"],h,[m,b]],[/\b(ph-1) /i],[h,[g,"Essential"],[m,b]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[g,"Envizen"],[m,_]],[/\b(trio[-\w\. ]+) b/i],[h,[g,"MachSpeed"],[m,_]],[/\btu_(1491) b/i],[h,[g,"Rotor"],[m,_]],[/(shield[\w ]+) b/i],[h,[g,"Nvidia"],[m,_]],[/(sprint) (\w+)/i],[g,h,[m,b]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[g,N],[m,b]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[g,F],[m,_]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[g,F],[m,b]],[/smart-tv.+(samsung)/i],[g,[m,w]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[g,D],[m,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[g,"LG"],[m,w]],[/(apple) ?tv/i],[g,[h,S+" TV"],[m,w]],[/crkey/i],[[h,R+"cast"],[g,j],[m,w]],[/droid.+aft(\w)( bui|\))/i],[h,[g,A],[m,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[g,M],[m,w]],[/(bravia[\w ]+)( bui|\))/i],[h,[g,H],[m,w]],[/(mitv-\w{5}) bui/i],[h,[g,$],[m,w]],[/Hbbtv.*(technisat) (.*);/i],[g,h,[m,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[g,J],[h,J],[m,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[m,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[g,h,[m,y]],[/droid.+; (shield) bui/i],[h,[g,"Nvidia"],[m,y]],[/(playstation [345portablevi]+)/i],[h,[g,H],[m,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[g,N],[m,y]],[/((pebble))app/i],[g,h,[m,k]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[g,S],[m,k]],[/droid.+; (glass) \d/i],[h,[g,j],[m,k]],[/droid.+; (wt63?0{2,3})\)/i],[h,[g,F],[m,k]],[/(quest( 2| pro)?)/i],[h,[g,z],[m,k]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[g,[m,E]],[/(aeobc)\b/i],[h,[g,A],[m,E]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[m,b]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[m,_]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[m,_]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[m,b]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[g,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[f,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[f,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[f,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,f]],os:[[/microsoft (windows) (vista|xp)/i],[f,v],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[f,[v,X,Q]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,"Windows"],[v,X,Q]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/ios;fbsv\/([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[f,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[f,q],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[f,v],[/\(bb(10);/i],[v,[f,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[f,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[f,P+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[f,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[f,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[f,R+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[f,B],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[f,v],[/(sunos) ?([\w\.\d]*)/i],[[f,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[f,v]]},ee=function(e,t){if(typeof e===d&&(t=e,e=o),!(this instanceof ee))return new ee(e,t).getResult();var i=typeof s!==l&&s.navigator?s.navigator:o,a=e||(i&&i.userAgent?i.userAgent:""),r=i&&i.userAgentData?i.userAgentData:o,n=t?W(Y,t):Y,y=i&&i.userAgent==a;return this.getBrowser=function(){var e,t={};return t[f]=o,t[v]=o,G.call(t,a,n.browser),t[u]=typeof(e=t[v])===p?e.replace(/[^\d\.]/g,"").split(".")[0]:o,y&&i&&i.brave&&typeof i.brave.isBrave==c&&(t[f]="Brave"),t},this.getCPU=function(){var e={};return e[x]=o,G.call(e,a,n.cpu),e},this.getDevice=function(){var e={};return e[g]=o,e[h]=o,e[m]=o,G.call(e,a,n.device),y&&!e[m]&&r&&r.mobile&&(e[m]=b),y&&"Macintosh"==e[h]&&i&&typeof i.standalone!==l&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[h]="iPad",e[m]=_),e},this.getEngine=function(){var e={};return e[f]=o,e[v]=o,G.call(e,a,n.engine),e},this.getOS=function(){var e={};return e[f]=o,e[v]=o,G.call(e,a,n.os),y&&!e[f]&&r&&"Unknown"!=r.platform&&(e[f]=r.platform.replace(/chrome os/i,B).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return a},this.setUA=function(e){return a=typeof e===p&&e.length>350?J(e,350):e,this},this.setUA(a),this};ee.VERSION="1.0.35",ee.BROWSER=V([f,v,u]),ee.CPU=V([x]),ee.DEVICE=V([h,g,m,y,b,w,_,k,E]),ee.ENGINE=ee.OS=V([f,v]),typeof n!==l?(r.exports&&(n=r.exports=ee),n.UAParser=ee):i.amdO?void 0!==(a=(function(){return ee}).call(t,i,t,e))&&(e.exports=a):typeof s!==l&&(s.UAParser=ee);var et=typeof s!==l&&(s.jQuery||s.Zepto);if(et&&!et.ua){var ei=new ee;et.ua=ei.getResult(),et.ua.get=function(){return ei.getUA()},et.ua.set=function(e){ei.setUA(e);var t=ei.getResult();for(var i in t)et.ua[i]=t[i]}}}("object"==typeof window?window:this)}},n={};function s(e){var t=n[e];if(void 0!==t)return t.exports;var i=n[e]={exports:{}},a=!0;try{r[e].call(i.exports,i,i.exports,s),a=!1}finally{a&&delete n[e]}return i.exports}s.ab=__dirname+"/";var o=s(226);e.exports=o})()},76850:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicUsageError",{enumerable:!0,get:function(){return o}});let a=i(43943),r=i(43548),n=i(82432),s=i(1301),o=e=>(0,a.isDynamicServerError)(e)||(0,r.isBailoutToCSRError)(e)||(0,n.isNextRouterError)(e)||(0,s.isDynamicPostpone)(e)},52441:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ACTION_SUFFIX:function(){return p},APP_DIR_ALIAS:function(){return j},CACHE_ONE_YEAR:function(){return E},DOT_NEXT_ALIAS:function(){return R},ESLINT_DEFAULT_DIRS:function(){return X},GSP_NO_RETURNED_VALUE:function(){return W},GSSP_COMPONENT_MEMBER_ERROR:function(){return K},GSSP_NO_RETURNED_VALUE:function(){return V},INFINITE_CACHE:function(){return A},INSTRUMENTATION_HOOK_FILENAME:function(){return C},MATCHED_PATH_HEADER:function(){return r},MIDDLEWARE_FILENAME:function(){return S},MIDDLEWARE_LOCATION_REGEXP:function(){return T},NEXT_BODY_SUFFIX:function(){return f},NEXT_CACHE_IMPLICIT_TAG_ID:function(){return k},NEXT_CACHE_REVALIDATED_TAGS_HEADER:function(){return v},NEXT_CACHE_REVALIDATE_TAG_TOKEN_HEADER:function(){return x},NEXT_CACHE_SOFT_TAGS_HEADER:function(){return g},NEXT_CACHE_SOFT_TAG_MAX_LENGTH:function(){return w},NEXT_CACHE_TAGS_HEADER:function(){return m},NEXT_CACHE_TAG_MAX_ITEMS:function(){return b},NEXT_CACHE_TAG_MAX_LENGTH:function(){return _},NEXT_DATA_SUFFIX:function(){return u},NEXT_INTERCEPTION_MARKER_PREFIX:function(){return a},NEXT_META_SUFFIX:function(){return h},NEXT_QUERY_PARAM_PREFIX:function(){return i},NEXT_RESUME_HEADER:function(){return y},NON_STANDARD_NODE_ENV:function(){return J},PAGES_DIR_ALIAS:function(){return O},PRERENDER_REVALIDATE_HEADER:function(){return n},PRERENDER_REVALIDATE_ONLY_GENERATED_HEADER:function(){return s},PUBLIC_DIR_MIDDLEWARE_CONFLICT:function(){return H},ROOT_DIR_ALIAS:function(){return P},RSC_ACTION_CLIENT_WRAPPER_ALIAS:function(){return M},RSC_ACTION_ENCRYPTION_ALIAS:function(){return D},RSC_ACTION_PROXY_ALIAS:function(){return U},RSC_ACTION_VALIDATE_ALIAS:function(){return N},RSC_CACHE_WRAPPER_ALIAS:function(){return L},RSC_MOD_REF_PROXY_ALIAS:function(){return I},RSC_PREFETCH_SUFFIX:function(){return o},RSC_SEGMENTS_DIR_SUFFIX:function(){return c},RSC_SEGMENT_SUFFIX:function(){return l},RSC_SUFFIX:function(){return d},SERVER_PROPS_EXPORT_ERROR:function(){return q},SERVER_PROPS_GET_INIT_PROPS_CONFLICT:function(){return F},SERVER_PROPS_SSG_CONFLICT:function(){return z},SERVER_RUNTIME:function(){return Q},SSG_FALLBACK_EXPORT_ERROR:function(){return G},SSG_GET_INITIAL_PROPS_CONFLICT:function(){return $},STATIC_STATUS_PAGE_GET_INITIAL_PROPS_ERROR:function(){return B},UNSTABLE_REVALIDATE_RENAME_ERROR:function(){return Z},WEBPACK_LAYERS:function(){return ee},WEBPACK_RESOURCE_QUERIES:function(){return et}});let i="nxtP",a="nxtI",r="x-matched-path",n="x-prerender-revalidate",s="x-prerender-revalidate-if-generated",o=".prefetch.rsc",c=".segments",l=".segment.rsc",d=".rsc",p=".action",u=".json",h=".meta",f=".body",m="x-next-cache-tags",g="x-next-cache-soft-tags",v="x-next-revalidated-tags",x="x-next-revalidate-tag-token",y="next-resume",b=128,_=256,w=1024,k="_N_T_",E=31536e3,A=0xfffffffe,S="middleware",T=`(?:src/)?${S}`,C="instrumentation",O="private-next-pages",R="private-dot-next",P="private-next-root-dir",j="private-next-app-dir",I="next/dist/build/webpack/loaders/next-flight-loader/module-proxy",N="private-next-rsc-action-validate",U="private-next-rsc-server-reference",L="private-next-rsc-cache-wrapper",D="private-next-rsc-action-encryption",M="private-next-rsc-action-client-wrapper",H="You can not have a '_next' folder inside of your public folder. This conflicts with the internal '/_next' route. https://nextjs.org/docs/messages/public-next-folder-conflict",$="You can not use getInitialProps with getStaticProps. To use SSG, please remove your getInitialProps",F="You can not use getInitialProps with getServerSideProps. Please remove getInitialProps.",z="You can not use getStaticProps or getStaticPaths with getServerSideProps. To use SSG, please remove getServerSideProps",B="can not have getInitialProps/getServerSideProps, https://nextjs.org/docs/messages/404-get-initial-props",q="pages with `getServerSideProps` can not be exported. See more info here: https://nextjs.org/docs/messages/gssp-export",W="Your `getStaticProps` function did not return an object. Did you forget to add a `return`?",V="Your `getServerSideProps` function did not return an object. Did you forget to add a `return`?",Z="The `unstable_revalidate` property is available for general use.\nPlease use `revalidate` instead.",K="can not be attached to a page's component and must be exported from the page. See more info here: https://nextjs.org/docs/messages/gssp-component-member",J='You are using a non-standard "NODE_ENV" value in your environment. This creates inconsistencies in the project and is strongly advised against. Read more: https://nextjs.org/docs/messages/non-standard-node-env',G="Pages with `fallback` enabled in `getStaticPaths` can not be exported. See more info here: https://nextjs.org/docs/messages/ssg-fallback-true-export",X=["app","pages","components","lib","src"],Q={edge:"edge",experimentalEdge:"experimental-edge",nodejs:"nodejs"},Y={shared:"shared",reactServerComponents:"rsc",serverSideRendering:"ssr",actionBrowser:"action-browser",api:"api",middleware:"middleware",instrument:"instrument",edgeAsset:"edge-asset",appPagesBrowser:"app-pages-browser"},ee={...Y,GROUP:{builtinReact:[Y.reactServerComponents,Y.actionBrowser],serverOnly:[Y.reactServerComponents,Y.actionBrowser,Y.instrument,Y.middleware],neutralTarget:[Y.api],clientOnly:[Y.serverSideRendering,Y.appPagesBrowser],bundled:[Y.reactServerComponents,Y.actionBrowser,Y.serverSideRendering,Y.appPagesBrowser,Y.shared,Y.instrument],appPages:[Y.reactServerComponents,Y.serverSideRendering,Y.appPagesBrowser,Y.actionBrowser]}},et={edgeSSREntry:"__next_edge_ssr_entry__",metadata:"__next_metadata__",metadataRoute:"__next_metadata_route__",metadataImageMeta:"__next_metadata_image_meta__"}},81791:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{METADATA_BOUNDARY_NAME:function(){return i},OUTLET_BOUNDARY_NAME:function(){return r},VIEWPORT_BOUNDARY_NAME:function(){return a}});let i="__next_metadata_boundary__",a="__next_viewport_boundary__",r="__next_outlet_boundary__"},2543:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"after",{enumerable:!0,get:function(){return r}});let a=i(29294);function r(e){let t=a.workAsyncStorage.getStore();if(!t)throw Error("`after` was called outside a request scope. Read more: https://nextjs.org/docs/messages/next-dynamic-api-wrong-context");let{afterContext:i}=t;return i.after(e)}},95373:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){Object.keys(e).forEach(function(i){"default"===i||Object.prototype.hasOwnProperty.call(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[i]}})})}(i(2543),t)},1301:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{Postpone:function(){return k},abortAndThrowOnSynchronousRequestDataAccess:function(){return _},abortOnSynchronousPlatformIOAccess:function(){return y},accessedDynamicData:function(){return P},annotateDynamicAccess:function(){return L},consumeDynamicAccess:function(){return j},createDynamicTrackingState:function(){return p},createDynamicValidationState:function(){return u},createPostponedAbortSignal:function(){return U},formatDynamicAPIAccesses:function(){return I},getFirstDynamicReason:function(){return h},isDynamicPostpone:function(){return S},isPrerenderInterruptedError:function(){return R},markCurrentScopeAsDynamic:function(){return f},postponeWithTracking:function(){return E},throwIfDisallowedDynamic:function(){return B},throwToInterruptStaticGeneration:function(){return g},trackAllowedDynamicAccess:function(){return z},trackDynamicDataInDynamicRender:function(){return v},trackFallbackParamAccessed:function(){return m},trackSynchronousPlatformIOAccessInDev:function(){return b},trackSynchronousRequestDataAccessInDev:function(){return w},useDynamicRouteParams:function(){return D}});let a=function(e){return e&&e.__esModule?e:{default:e}}(i(23346)),r=i(43943),n=i(84441),s=i(63033),o=i(29294),c=i(97230),l=i(81791),d="function"==typeof a.default.unstable_postpone;function p(e){return{isDebugDynamicAccesses:e,dynamicAccesses:[],syncDynamicExpression:void 0,syncDynamicErrorWithStack:null}}function u(){return{hasSuspendedDynamic:!1,hasDynamicMetadata:!1,hasDynamicViewport:!1,hasSyncDynamicErrors:!1,dynamicErrors:[]}}function h(e){var t;return null==(t=e.dynamicAccesses[0])?void 0:t.expression}function f(e,t,i){if((!t||"cache"!==t.type&&"unstable-cache"!==t.type)&&!e.forceDynamic&&!e.forceStatic){if(e.dynamicShouldError)throw new n.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${i}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender-ppr"===t.type)E(e.route,i,t.dynamicTracking);else if("prerender-legacy"===t.type){t.revalidate=0;let a=new r.DynamicServerError(`Route ${e.route} couldn't be rendered statically because it used ${i}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw e.dynamicUsageDescription=i,e.dynamicUsageStack=a.stack,a}}}}function m(e,t){let i=s.workUnitAsyncStorage.getStore();i&&"prerender-ppr"===i.type&&E(e.route,t,i.dynamicTracking)}function g(e,t,i){let a=new r.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw i.revalidate=0,t.dynamicUsageDescription=e,t.dynamicUsageStack=a.stack,a}function v(e,t){t&&"cache"!==t.type&&"unstable-cache"!==t.type&&("prerender"===t.type||"prerender-legacy"===t.type)&&(t.revalidate=0)}function x(e,t,i){let a=O(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`);i.controller.abort(a);let r=i.dynamicTracking;r&&r.dynamicAccesses.push({stack:r.isDebugDynamicAccesses?Error().stack:void 0,expression:t})}function y(e,t,i,a){let r=a.dynamicTracking;return r&&null===r.syncDynamicErrorWithStack&&(r.syncDynamicExpression=t,r.syncDynamicErrorWithStack=i),x(e,t,a)}function b(e){e.prerenderPhase=!1}function _(e,t,i,a){let r=a.dynamicTracking;throw r&&null===r.syncDynamicErrorWithStack&&(r.syncDynamicExpression=t,r.syncDynamicErrorWithStack=i,!0===a.validating&&(r.syncDynamicLogged=!0)),x(e,t,a),O(`Route ${e} needs to bail out of prerendering at this point because it used ${t}.`)}let w=b;function k({reason:e,route:t}){let i=s.workUnitAsyncStorage.getStore();E(t,e,i&&"prerender-ppr"===i.type?i.dynamicTracking:null)}function E(e,t,i){N(),i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:t}),a.default.unstable_postpone(A(e,t))}function A(e,t){return`Route ${e} needs to bail out of prerendering at this point because it used ${t}. React throws this special object to indicate where. It should not be caught by your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`}function S(e){return"object"==typeof e&&null!==e&&"string"==typeof e.message&&T(e.message)}function T(e){return e.includes("needs to bail out of prerendering at this point because it used")&&e.includes("Learn more: https://nextjs.org/docs/messages/ppr-caught-error")}if(!1===T(A("%%%","^^^")))throw Error("Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js");let C="NEXT_PRERENDER_INTERRUPTED";function O(e){let t=Error(e);return t.digest=C,t}function R(e){return"object"==typeof e&&null!==e&&e.digest===C&&"name"in e&&"message"in e&&e instanceof Error}function P(e){return e.length>0}function j(e,t){return e.dynamicAccesses.push(...t.dynamicAccesses),e.dynamicAccesses}function I(e){return e.filter(e=>"string"==typeof e.stack&&e.stack.length>0).map(({expression:e,stack:t})=>(t=t.split("\n").slice(4).filter(e=>!(e.includes("node_modules/next/")||e.includes(" (<anonymous>)")||e.includes(" (node:"))).join("\n"),`Dynamic API Usage Debug - ${e}:
${t}`))}function N(){if(!d)throw Error("Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js")}function U(e){N();let t=new AbortController;try{a.default.unstable_postpone(e)}catch(e){t.abort(e)}return t.signal}function L(e,t){let i=t.dynamicTracking;i&&i.dynamicAccesses.push({stack:i.isDebugDynamicAccesses?Error().stack:void 0,expression:e})}function D(e){if("undefined"==typeof window){let t=o.workAsyncStorage.getStore();if(t&&t.isStaticGeneration&&t.fallbackRouteParams&&t.fallbackRouteParams.size>0){let i=s.workUnitAsyncStorage.getStore();i&&("prerender"===i.type?a.default.use((0,c.makeHangingPromise)(i.renderSignal,e)):"prerender-ppr"===i.type?E(t.route,e,i.dynamicTracking):"prerender-legacy"===i.type&&g(e,t,i))}}}let M=/\n\s+at Suspense \(<anonymous>\)/,H=RegExp(`\\n\\s+at ${l.METADATA_BOUNDARY_NAME}[\\n\\s]`),$=RegExp(`\\n\\s+at ${l.VIEWPORT_BOUNDARY_NAME}[\\n\\s]`),F=RegExp(`\\n\\s+at ${l.OUTLET_BOUNDARY_NAME}[\\n\\s]`);function z(e,t,i,a,r){if(!F.test(t)){if(H.test(t)){i.hasDynamicMetadata=!0;return}if($.test(t)){i.hasDynamicViewport=!0;return}if(M.test(t)){i.hasSuspendedDynamic=!0;return}if(a.syncDynamicErrorWithStack||r.syncDynamicErrorWithStack){i.hasSyncDynamicErrors=!0;return}else{let a=function(e,t){let i=Error(e);return i.stack="Error: "+e+t,i}(`Route "${e}": A component accessed data, headers, params, searchParams, or a short-lived cache without a Suspense boundary nor a "use cache" above it. We don't have the exact line number added to error messages yet but you can see which component in the stack below. See more info: https://nextjs.org/docs/messages/next-prerender-missing-suspense`,t);i.dynamicErrors.push(a);return}}}function B(e,t,i,a){let r,s,o;if(i.syncDynamicErrorWithStack?(r=i.syncDynamicErrorWithStack,s=i.syncDynamicExpression,o=!0===i.syncDynamicLogged):a.syncDynamicErrorWithStack?(r=a.syncDynamicErrorWithStack,s=a.syncDynamicExpression,o=!0===a.syncDynamicLogged):(r=null,s=void 0,o=!1),t.hasSyncDynamicErrors&&r)throw o||console.error(r),new n.StaticGenBailoutError;let c=t.dynamicErrors;if(c.length){for(let e=0;e<c.length;e++)console.error(c[e]);throw new n.StaticGenBailoutError}if(!t.hasSuspendedDynamic){if(t.hasDynamicMetadata){if(r)throw console.error(r),new n.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`);throw new n.StaticGenBailoutError(`Route "${e}" has a \`generateMetadata\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateMetadata\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`)}if(t.hasDynamicViewport){if(r)throw console.error(r),new n.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that could not finish rendering before ${s} was used. Follow the instructions in the error for this expression to resolve.`);throw new n.StaticGenBailoutError(`Route "${e}" has a \`generateViewport\` that depends on Request data (\`cookies()\`, etc...) or external data (\`fetch(...)\`, etc...) but the rest of the route was static or only used cached data (\`"use cache"\`). If you expected this route to be prerenderable update your \`generateViewport\` to not use Request data and only use cached external data. Otherwise, add \`await connection()\` somewhere within this route to indicate explicitly it should not be prerendered.`)}}}},17434:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"createDedupedByCallsiteServerErrorLoggerDev",{enumerable:!0,get:function(){return c}});let a=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=r(void 0);if(i&&i.has(e))return i.get(e);var a={__proto__:null},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var o=n?Object.getOwnPropertyDescriptor(e,s):null;o&&(o.get||o.set)?Object.defineProperty(a,s,o):a[s]=e[s]}return a.default=e,i&&i.set(e,a),a}(i(23346));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(r=function(e){return e?i:t})(e)}let n={current:null},s="function"==typeof a.cache?a.cache:e=>e,o=console.warn;function c(e){return function(...t){o(e(...t))}}s(e=>{try{o(n.current)}finally{n.current=null}})},97230:(e,t)=>{"use strict";function i(e,t){let i=new Promise((i,a)=>{e.addEventListener("abort",()=>{a(Error(`During prerendering, ${t} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${t} to a different context by using \`setTimeout\`, \`after\`, or similar functions you may observe this error and you should handle it in that context.`))},{once:!0})});return i.catch(a),i}function a(){}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"makeHangingPromise",{enumerable:!0,get:function(){return i}})},57063:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return a}});let i=Symbol.for("react.postpone");function a(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}},34704:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"connection",{enumerable:!0,get:function(){return l}});let a=i(29294),r=i(63033),n=i(1301),s=i(84441),o=i(97230),c=i(96803);function l(){let e=a.workAsyncStorage.getStore(),t=r.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,c.isRequestAPICallableInsideAfter)())throw Error(`Route ${e.route} used "connection" inside "after(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but "after(...)" executes after the request, so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(e.forceStatic)return Promise.resolve(void 0);if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "connection" inside "use cache". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "connection" inside a function cached with "unstable_cache(...)". The \`connection()\` function is used to indicate the subsequent code must only run when there is an actual Request, but caches must be able to be produced before a Request so this function is not allowed in this scope. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new s.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`connection\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type)return(0,o.makeHangingPromise)(t.renderSignal,"`connection()`");"prerender-ppr"===t.type?(0,n.postponeWithTracking)(e.route,"connection",t.dynamicTracking):"prerender-legacy"===t.type&&(0,n.throwToInterruptStaticGeneration)("connection",e,t)}(0,n.trackDynamicDataInDynamicRender)(e,t)}return Promise.resolve(void 0)}},53825:(e,t,i)=>{"use strict";Object.defineProperty(t,"U",{enumerable:!0,get:function(){return u}});let a=i(4013),r=i(24738),n=i(29294),s=i(63033),o=i(1301),c=i(84441),l=i(97230),d=i(17434),p=(i(31445),i(96803));function u(){let e="cookies",t=n.workAsyncStorage.getStore(),i=s.workUnitAsyncStorage.getStore();if(t){if(i&&"after"===i.phase&&!(0,p.isRequestAPICallableInsideAfter)())throw Error(`Route ${t.route} used "cookies" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "cookies" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(t.forceStatic)return f(a.RequestCookiesAdapter.seal(new r.RequestCookies(new Headers({}))));if(i){if("cache"===i.type)throw Error(`Route ${t.route} used "cookies" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===i.type)throw Error(`Route ${t.route} used "cookies" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "cookies" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(t.dynamicShouldError)throw new c.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`cookies\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(i){if("prerender"===i.type)return function(e,t){let i=h.get(t);if(i)return i;let a=(0,l.makeHangingPromise)(t.renderSignal,"`cookies()`");return h.set(t,a),Object.defineProperties(a,{[Symbol.iterator]:{value:function(){let i="`cookies()[Symbol.iterator]()`",a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},size:{get(){let i="`cookies().size`",a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},get:{value:function(){let i;i=0==arguments.length?"`cookies().get()`":`\`cookies().get(${m(arguments[0])})\``;let a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},getAll:{value:function(){let i;i=0==arguments.length?"`cookies().getAll()`":`\`cookies().getAll(${m(arguments[0])})\``;let a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},has:{value:function(){let i;i=0==arguments.length?"`cookies().has()`":`\`cookies().has(${m(arguments[0])})\``;let a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},set:{value:function(){let i;if(0==arguments.length)i="`cookies().set()`";else{let e=arguments[0];i=e?`\`cookies().set(${m(e)}, ...)\``:"`cookies().set(...)`"}let a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},delete:{value:function(){let i;i=0==arguments.length?"`cookies().delete()`":1==arguments.length?`\`cookies().delete(${m(arguments[0])})\``:`\`cookies().delete(${m(arguments[0])}, ...)\``;let a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},clear:{value:function(){let i="`cookies().clear()`",a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},toString:{value:function(){let i="`cookies().toString()`",a=g(e,i);(0,o.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}}}),a}(t.route,i);"prerender-ppr"===i.type?(0,o.postponeWithTracking)(t.route,e,i.dynamicTracking):"prerender-legacy"===i.type&&(0,o.throwToInterruptStaticGeneration)(e,t,i)}(0,o.trackDynamicDataInDynamicRender)(t,i)}let d=(0,s.getExpectedRequestStore)(e);return f((0,a.areCookiesMutableInCurrentPhase)(d)?d.userspaceMutableCookies:d.cookies)}let h=new WeakMap;function f(e){let t=h.get(e);if(t)return t;let i=Promise.resolve(e);return h.set(e,i),Object.defineProperties(i,{[Symbol.iterator]:{value:e[Symbol.iterator]?e[Symbol.iterator].bind(e):v.bind(e)},size:{get:()=>e.size},get:{value:e.get.bind(e)},getAll:{value:e.getAll.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},delete:{value:e.delete.bind(e)},clear:{value:"function"==typeof e.clear?e.clear.bind(e):x.bind(e,i)},toString:{value:e.toString.bind(e)}}),i}function m(e){return"object"==typeof e&&null!==e&&"string"==typeof e.name?`'${e.name}'`:"string"==typeof e?`'${e}'`:"..."}function g(e,t){let i=e?`Route "${e}" `:"This route ";return Error(`${i}used ${t}. \`cookies()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}function v(){return this.getAll().map(e=>[e.name,e]).values()}function x(e){for(let e of this.getAll())this.delete(e.name);return e}(0,d.createDedupedByCallsiteServerErrorLoggerDev)(g)},99863:(e,t,i)=>{"use strict";let a=i(63033),r=i(29294),n=i(1301),s=i(17434),o=i(84441),c=i(43943);new WeakMap;class l{constructor(e){this._provider=e}get isEnabled(){return null!==this._provider&&this._provider.isEnabled}enable(){d("draftMode().enable()"),null!==this._provider&&this._provider.enable()}disable(){d("draftMode().disable()"),null!==this._provider&&this._provider.disable()}}function d(e){let t=r.workAsyncStorage.getStore(),i=a.workUnitAsyncStorage.getStore();if(t){if(i){if("cache"===i.type)throw Error(`Route ${t.route} used "${e}" inside "use cache". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===i.type)throw Error(`Route ${t.route} used "${e}" inside a function cached with "unstable_cache(...)". The enabled status of draftMode can be read in caches but you must not enable or disable draftMode inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`);if("after"===i.phase)throw Error(`Route ${t.route} used "${e}" inside \`after\`. The enabled status of draftMode can be read inside \`after\` but you cannot enable or disable draftMode. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`)}if(t.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${t.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(i){if("prerender"===i.type){let a=Error(`Route ${t.route} used ${e} without first calling \`await connection()\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`);(0,n.abortAndThrowOnSynchronousRequestDataAccess)(t.route,e,a,i)}else if("prerender-ppr"===i.type)(0,n.postponeWithTracking)(t.route,e,i.dynamicTracking);else if("prerender-legacy"===i.type){i.revalidate=0;let a=new c.DynamicServerError(`Route ${t.route} couldn't be rendered statically because it used \`${e}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`);throw t.dynamicUsageDescription=e,t.dynamicUsageStack=a.stack,a}}}}(0,s.createDedupedByCallsiteServerErrorLoggerDev)(function(e,t){let i=e?`Route "${e}" `:"This route ";return Error(`${i}used ${t}. \`draftMode()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)})},50406:(e,t,i)=>{"use strict";Object.defineProperty(t,"b",{enumerable:!0,get:function(){return p}});let a=i(44734),r=i(29294),n=i(63033),s=i(1301),o=i(84441),c=i(97230),l=i(17434),d=(i(31445),i(96803));function p(){let e=r.workAsyncStorage.getStore(),t=n.workUnitAsyncStorage.getStore();if(e){if(t&&"after"===t.phase&&!(0,d.isRequestAPICallableInsideAfter)())throw Error(`Route ${e.route} used "headers" inside "after(...)". This is not supported. If you need this data inside an "after" callback, use "headers" outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`);if(e.forceStatic)return h(a.HeadersAdapter.seal(new Headers({})));if(t){if("cache"===t.type)throw Error(`Route ${e.route} used "headers" inside "use cache". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`);if("unstable-cache"===t.type)throw Error(`Route ${e.route} used "headers" inside a function cached with "unstable_cache(...)". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use "headers" outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`)}if(e.dynamicShouldError)throw new o.StaticGenBailoutError(`Route ${e.route} with \`dynamic = "error"\` couldn't be rendered statically because it used \`headers\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`);if(t){if("prerender"===t.type)return function(e,t){let i=u.get(t);if(i)return i;let a=(0,c.makeHangingPromise)(t.renderSignal,"`headers()`");return u.set(t,a),Object.defineProperties(a,{append:{value:function(){let i=`\`headers().append(${f(arguments[0])}, ...)\``,a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},delete:{value:function(){let i=`\`headers().delete(${f(arguments[0])})\``,a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},get:{value:function(){let i=`\`headers().get(${f(arguments[0])})\``,a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},has:{value:function(){let i=`\`headers().has(${f(arguments[0])})\``,a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},set:{value:function(){let i=`\`headers().set(${f(arguments[0])}, ...)\``,a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},getSetCookie:{value:function(){let i="`headers().getSetCookie()`",a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},forEach:{value:function(){let i="`headers().forEach(...)`",a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},keys:{value:function(){let i="`headers().keys()`",a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},values:{value:function(){let i="`headers().values()`",a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},entries:{value:function(){let i="`headers().entries()`",a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}},[Symbol.iterator]:{value:function(){let i="`headers()[Symbol.iterator]()`",a=m(e,i);(0,s.abortAndThrowOnSynchronousRequestDataAccess)(e,i,a,t)}}}),a}(e.route,t);"prerender-ppr"===t.type?(0,s.postponeWithTracking)(e.route,"headers",t.dynamicTracking):"prerender-legacy"===t.type&&(0,s.throwToInterruptStaticGeneration)("headers",e,t)}(0,s.trackDynamicDataInDynamicRender)(e,t)}return h((0,n.getExpectedRequestStore)("headers").headers)}let u=new WeakMap;function h(e){let t=u.get(e);if(t)return t;let i=Promise.resolve(e);return u.set(e,i),Object.defineProperties(i,{append:{value:e.append.bind(e)},delete:{value:e.delete.bind(e)},get:{value:e.get.bind(e)},has:{value:e.has.bind(e)},set:{value:e.set.bind(e)},getSetCookie:{value:e.getSetCookie.bind(e)},forEach:{value:e.forEach.bind(e)},keys:{value:e.keys.bind(e)},values:{value:e.values.bind(e)},entries:{value:e.entries.bind(e)},[Symbol.iterator]:{value:e[Symbol.iterator].bind(e)}}),i}function f(e){return"string"==typeof e?`'${e}'`:"..."}function m(e,t){let i=e?`Route "${e}" `:"This route ";return Error(`${i}used ${t}. \`headers()\` should be awaited before using its value. Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`)}(0,l.createDedupedByCallsiteServerErrorLoggerDev)(m)},96803:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{describeHasCheckingStringProperty:function(){return o},describeStringPropertyAccess:function(){return s},isRequestAPICallableInsideAfter:function(){return d},throwWithStaticGenerationBailoutError:function(){return c},throwWithStaticGenerationBailoutErrorWithDynamicError:function(){return l},wellKnownProperties:function(){return p}});let a=i(84441),r=i(3295),n=/^[A-Za-z_$][A-Za-z0-9_$]*$/;function s(e,t){return n.test(t)?`\`${e}.${t}\``:`\`${e}[${JSON.stringify(t)}]\``}function o(e,t){let i=JSON.stringify(t);return`\`Reflect.has(${e}, ${i})\`, \`${i} in ${e}\`, or similar`}function c(e,t){throw new a.StaticGenBailoutError(`Route ${e} couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function l(e,t){throw new a.StaticGenBailoutError(`Route ${e} with \`dynamic = "error"\` couldn't be rendered statically because it used ${t}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`)}function d(){let e=r.afterTaskAsyncStorage.getStore();return(null==e?void 0:e.rootTaskSpawnPhase)==="action"}let p=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","valueOf","toLocaleString","then","catch","finally","status","displayName","toJSON","$$typeof","__esModule"])},23346:(e,t,i)=>{"use strict";e.exports=i(70260).vendored["react-rsc"].React},43531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{PageSignatureError:function(){return i},RemovedPageError:function(){return a},RemovedUAError:function(){return r}});class i extends Error{constructor({page:e}){super(`The middleware "${e}" accepts an async API directly with the form:
  
  export function middleware(request, event) {
    return NextResponse.redirect('/new-location')
  }
  
  Read more: https://nextjs.org/docs/messages/middleware-new-signature
  `)}}class a extends Error{constructor(){super(`The request.page has been deprecated in favour of \`URLPattern\`.
  Read more: https://nextjs.org/docs/messages/middleware-request-page
  `)}}class r extends Error{constructor(){super(`The request.ua has been removed in favour of \`userAgent\` function.
  Read more: https://nextjs.org/docs/messages/middleware-parse-user-agent
  `)}}},49217:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{ImageResponse:function(){return a.ImageResponse},NextRequest:function(){return r.NextRequest},NextResponse:function(){return n.NextResponse},URLPattern:function(){return o.URLPattern},after:function(){return c.after},connection:function(){return l.connection},userAgent:function(){return s.userAgent},userAgentFromString:function(){return s.userAgentFromString}});let a=i(78216),r=i(52480),n=i(15884),s=i(90624),o=i(99113),c=i(95373),l=i(34704)},65596:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextURL",{enumerable:!0,get:function(){return d}});let a=i(82146),r=i(50487),n=i(86974),s=i(28724),o=/(?!^https?:\/\/)(127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}|\[::1\]|localhost)/;function c(e,t){return new URL(String(e).replace(o,"localhost"),t&&String(t).replace(o,"localhost"))}let l=Symbol("NextURLInternal");class d{constructor(e,t,i){let a,r;"object"==typeof t&&"pathname"in t||"string"==typeof t?(a=t,r=i||{}):r=i||t||{},this[l]={url:c(e,a??r.base),options:r,basePath:""},this.analyze()}analyze(){var e,t,i,r,o;let c=(0,s.getNextPathnameInfo)(this[l].url.pathname,{nextConfig:this[l].options.nextConfig,parseData:!0,i18nProvider:this[l].options.i18nProvider}),d=(0,n.getHostname)(this[l].url,this[l].options.headers);this[l].domainLocale=this[l].options.i18nProvider?this[l].options.i18nProvider.detectDomainLocale(d):(0,a.detectDomainLocale)(null==(t=this[l].options.nextConfig)?void 0:null==(e=t.i18n)?void 0:e.domains,d);let p=(null==(i=this[l].domainLocale)?void 0:i.defaultLocale)||(null==(o=this[l].options.nextConfig)?void 0:null==(r=o.i18n)?void 0:r.defaultLocale);this[l].url.pathname=c.pathname,this[l].defaultLocale=p,this[l].basePath=c.basePath??"",this[l].buildId=c.buildId,this[l].locale=c.locale??p,this[l].trailingSlash=c.trailingSlash}formatPathname(){return(0,r.formatNextPathnameInfo)({basePath:this[l].basePath,buildId:this[l].buildId,defaultLocale:this[l].options.forceLocale?void 0:this[l].defaultLocale,locale:this[l].locale,pathname:this[l].url.pathname,trailingSlash:this[l].trailingSlash})}formatSearch(){return this[l].url.search}get buildId(){return this[l].buildId}set buildId(e){this[l].buildId=e}get locale(){return this[l].locale??""}set locale(e){var t,i;if(!this[l].locale||!(null==(i=this[l].options.nextConfig)?void 0:null==(t=i.i18n)?void 0:t.locales.includes(e)))throw TypeError(`The NextURL configuration includes no locale "${e}"`);this[l].locale=e}get defaultLocale(){return this[l].defaultLocale}get domainLocale(){return this[l].domainLocale}get searchParams(){return this[l].url.searchParams}get host(){return this[l].url.host}set host(e){this[l].url.host=e}get hostname(){return this[l].url.hostname}set hostname(e){this[l].url.hostname=e}get port(){return this[l].url.port}set port(e){this[l].url.port=e}get protocol(){return this[l].url.protocol}set protocol(e){this[l].url.protocol=e}get href(){let e=this.formatPathname(),t=this.formatSearch();return`${this.protocol}//${this.host}${e}${t}${this.hash}`}set href(e){this[l].url=c(e),this.analyze()}get origin(){return this[l].url.origin}get pathname(){return this[l].url.pathname}set pathname(e){this[l].url.pathname=e}get hash(){return this[l].url.hash}set hash(e){this[l].url.hash=e}get search(){return this[l].url.search}set search(e){this[l].url.search=e}get password(){return this[l].url.password}set password(e){this[l].url.password=e}get username(){return this[l].url.username}set username(e){this[l].url.username=e}get basePath(){return this[l].basePath}set basePath(e){this[l].basePath=e.startsWith("/")?e:`/${e}`}toString(){return this.href}toJSON(){return this.href}[Symbol.for("edge-runtime.inspect.custom")](){return{href:this.href,origin:this.origin,protocol:this.protocol,username:this.username,password:this.password,host:this.host,hostname:this.hostname,port:this.port,pathname:this.pathname,search:this.search,searchParams:this.searchParams,hash:this.hash}}clone(){return new d(String(this),this[l].options)}}},44734:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{HeadersAdapter:function(){return n},ReadonlyHeadersError:function(){return r}});let a=i(5779);class r extends Error{constructor(){super("Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers")}static callable(){throw new r}}class n extends Headers{constructor(e){super(),this.headers=new Proxy(e,{get(t,i,r){if("symbol"==typeof i)return a.ReflectAdapter.get(t,i,r);let n=i.toLowerCase(),s=Object.keys(e).find(e=>e.toLowerCase()===n);if(void 0!==s)return a.ReflectAdapter.get(t,s,r)},set(t,i,r,n){if("symbol"==typeof i)return a.ReflectAdapter.set(t,i,r,n);let s=i.toLowerCase(),o=Object.keys(e).find(e=>e.toLowerCase()===s);return a.ReflectAdapter.set(t,o??i,r,n)},has(t,i){if("symbol"==typeof i)return a.ReflectAdapter.has(t,i);let r=i.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===r);return void 0!==n&&a.ReflectAdapter.has(t,n)},deleteProperty(t,i){if("symbol"==typeof i)return a.ReflectAdapter.deleteProperty(t,i);let r=i.toLowerCase(),n=Object.keys(e).find(e=>e.toLowerCase()===r);return void 0===n||a.ReflectAdapter.deleteProperty(t,n)}})}static seal(e){return new Proxy(e,{get(e,t,i){switch(t){case"append":case"delete":case"set":return r.callable;default:return a.ReflectAdapter.get(e,t,i)}}})}merge(e){return Array.isArray(e)?e.join(", "):e}static from(e){return e instanceof Headers?e:new n(e)}append(e,t){let i=this.headers[e];"string"==typeof i?this.headers[e]=[i,t]:Array.isArray(i)?i.push(t):this.headers[e]=t}delete(e){delete this.headers[e]}get(e){let t=this.headers[e];return void 0!==t?this.merge(t):null}has(e){return void 0!==this.headers[e]}set(e,t){this.headers[e]=t}forEach(e,t){for(let[i,a]of this.entries())e.call(t,a,i,this)}*entries(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase(),i=this.get(t);yield[t,i]}}*keys(){for(let e of Object.keys(this.headers)){let t=e.toLowerCase();yield t}}*values(){for(let e of Object.keys(this.headers)){let t=this.get(e);yield t}}[Symbol.iterator](){return this.entries()}}},5779:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ReflectAdapter",{enumerable:!0,get:function(){return i}});class i{static get(e,t,i){let a=Reflect.get(e,t,i);return"function"==typeof a?a.bind(e):a}static set(e,t,i,a){return Reflect.set(e,t,i,a)}static has(e,t){return Reflect.has(e,t)}static deleteProperty(e,t){return Reflect.deleteProperty(e,t)}}},4013:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{MutableRequestCookiesAdapter:function(){return u},ReadonlyRequestCookiesError:function(){return o},RequestCookiesAdapter:function(){return c},appendMutableCookies:function(){return p},areCookiesMutableInCurrentPhase:function(){return f},getModifiedCookieValues:function(){return d},responseCookiesToRequestCookies:function(){return g},wrapWithMutableAccessCheck:function(){return h}});let a=i(24738),r=i(5779),n=i(29294),s=i(63033);class o extends Error{constructor(){super("Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options")}static callable(){throw new o}}class c{static seal(e){return new Proxy(e,{get(e,t,i){switch(t){case"clear":case"delete":case"set":return o.callable;default:return r.ReflectAdapter.get(e,t,i)}}})}}let l=Symbol.for("next.mutated.cookies");function d(e){let t=e[l];return t&&Array.isArray(t)&&0!==t.length?t:[]}function p(e,t){let i=d(t);if(0===i.length)return!1;let r=new a.ResponseCookies(e),n=r.getAll();for(let e of i)r.set(e);for(let e of n)r.set(e);return!0}class u{static wrap(e,t){let i=new a.ResponseCookies(new Headers);for(let t of e.getAll())i.set(t);let s=[],o=new Set,c=()=>{let e=n.workAsyncStorage.getStore();if(e&&(e.pathWasRevalidated=!0),s=i.getAll().filter(e=>o.has(e.name)),t){let e=[];for(let t of s){let i=new a.ResponseCookies(new Headers);i.set(t),e.push(i.toString())}t(e)}},d=new Proxy(i,{get(e,t,i){switch(t){case l:return s;case"delete":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.delete(...t),d}finally{c()}};case"set":return function(...t){o.add("string"==typeof t[0]?t[0]:t[0].name);try{return e.set(...t),d}finally{c()}};default:return r.ReflectAdapter.get(e,t,i)}}});return d}}function h(e){let t=new Proxy(e,{get(e,i,a){switch(i){case"delete":return function(...i){return m("cookies().delete"),e.delete(...i),t};case"set":return function(...i){return m("cookies().set"),e.set(...i),t};default:return r.ReflectAdapter.get(e,i,a)}}});return t}function f(e){return"action"===e.phase}function m(e){if(!f((0,s.getExpectedRequestStore)(e)))throw new o}function g(e){let t=new a.RequestCookies(new Headers);for(let i of e.getAll())t.set(i);return t}},24738:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{RequestCookies:function(){return a.RequestCookies},ResponseCookies:function(){return a.ResponseCookies},stringifyCookie:function(){return a.stringifyCookie}});let a=i(6003)},78216:(e,t)=>{"use strict";function i(){throw Error('ImageResponse moved from "next/server" to "next/og" since Next.js 14, please import from "next/og" instead')}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageResponse",{enumerable:!0,get:function(){return i}})},52480:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{INTERNALS:function(){return o},NextRequest:function(){return c}});let a=i(65596),r=i(51486),n=i(43531),s=i(24738),o=Symbol("internal request");class c extends Request{constructor(e,t={}){let i="string"!=typeof e&&"url"in e?e.url:String(e);(0,r.validateURL)(i),e instanceof Request?super(e,t):super(i,t);let n=new a.NextURL(i,{headers:(0,r.toNodeOutgoingHttpHeaders)(this.headers),nextConfig:t.nextConfig});this[o]={cookies:new s.RequestCookies(this.headers),nextUrl:n,url:n.toString()}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,nextUrl:this.nextUrl,url:this.url,bodyUsed:this.bodyUsed,cache:this.cache,credentials:this.credentials,destination:this.destination,headers:Object.fromEntries(this.headers),integrity:this.integrity,keepalive:this.keepalive,method:this.method,mode:this.mode,redirect:this.redirect,referrer:this.referrer,referrerPolicy:this.referrerPolicy,signal:this.signal}}get cookies(){return this[o].cookies}get nextUrl(){return this[o].nextUrl}get page(){throw new n.RemovedPageError}get ua(){throw new n.RemovedUAError}get url(){return this[o].url}}},15884:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NextResponse",{enumerable:!0,get:function(){return p}});let a=i(24738),r=i(65596),n=i(51486),s=i(5779),o=i(24738),c=Symbol("internal response"),l=new Set([301,302,303,307,308]);function d(e,t){var i;if(null==e?void 0:null==(i=e.request)?void 0:i.headers){if(!(e.request.headers instanceof Headers))throw Error("request.headers must be an instance of Headers");let i=[];for(let[a,r]of e.request.headers)t.set("x-middleware-request-"+a,r),i.push(a);t.set("x-middleware-override-headers",i.join(","))}}class p extends Response{constructor(e,t={}){super(e,t);let i=this.headers,l=new Proxy(new o.ResponseCookies(i),{get(e,r,n){switch(r){case"delete":case"set":return(...n)=>{let s=Reflect.apply(e[r],e,n),c=new Headers(i);return s instanceof o.ResponseCookies&&i.set("x-middleware-set-cookie",s.getAll().map(e=>(0,a.stringifyCookie)(e)).join(",")),d(t,c),s};default:return s.ReflectAdapter.get(e,r,n)}}});this[c]={cookies:l,url:t.url?new r.NextURL(t.url,{headers:(0,n.toNodeOutgoingHttpHeaders)(i),nextConfig:t.nextConfig}):void 0}}[Symbol.for("edge-runtime.inspect.custom")](){return{cookies:this.cookies,url:this.url,body:this.body,bodyUsed:this.bodyUsed,headers:Object.fromEntries(this.headers),ok:this.ok,redirected:this.redirected,status:this.status,statusText:this.statusText,type:this.type}}get cookies(){return this[c].cookies}static json(e,t){let i=Response.json(e,t);return new p(i.body,i)}static redirect(e,t){let i="number"==typeof t?t:(null==t?void 0:t.status)??307;if(!l.has(i))throw RangeError('Failed to execute "redirect" on "response": Invalid status code');let a="object"==typeof t?t:{},r=new Headers(null==a?void 0:a.headers);return r.set("Location",(0,n.validateURL)(e)),new p(null,{...a,headers:r,status:i})}static rewrite(e,t){let i=new Headers(null==t?void 0:t.headers);return i.set("x-middleware-rewrite",(0,n.validateURL)(e)),d(t,i),new p(null,{...t,headers:i})}static next(e){let t=new Headers(null==e?void 0:e.headers);return t.set("x-middleware-next","1"),d(e,t),new p(null,{...e,headers:t})}}},99113:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"URLPattern",{enumerable:!0,get:function(){return i}});let i="undefined"==typeof URLPattern?void 0:URLPattern},90624:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{isBot:function(){return r},userAgent:function(){return s},userAgentFromString:function(){return n}});let a=function(e){return e&&e.__esModule?e:{default:e}}(i(26699));function r(e){return/Googlebot|Mediapartners-Google|AdsBot-Google|googleweblight|Storebot-Google|Google-PageRenderer|Google-InspectionTool|Bingbot|BingPreview|Slurp|DuckDuckBot|baiduspider|yandex|sogou|LinkedInBot|bitlybot|tumblr|vkShare|quora link preview|facebookexternalhit|facebookcatalog|Twitterbot|applebot|redditbot|Slackbot|Discordbot|WhatsApp|SkypeUriPreview|ia_archiver/i.test(e)}function n(e){return{...(0,a.default)(e),isBot:void 0!==e&&r(e)}}function s({headers:e}){return n(e.get("user-agent")||void 0)}},51486:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{fromNodeOutgoingHttpHeaders:function(){return r},normalizeNextQueryParam:function(){return c},splitCookiesString:function(){return n},toNodeOutgoingHttpHeaders:function(){return s},validateURL:function(){return o}});let a=i(52441);function r(e){let t=new Headers;for(let[i,a]of Object.entries(e))for(let e of Array.isArray(a)?a:[a])void 0!==e&&("number"==typeof e&&(e=e.toString()),t.append(i,e));return t}function n(e){var t,i,a,r,n,s=[],o=0;function c(){for(;o<e.length&&/\s/.test(e.charAt(o));)o+=1;return o<e.length}for(;o<e.length;){for(t=o,n=!1;c();)if(","===(i=e.charAt(o))){for(a=o,o+=1,c(),r=o;o<e.length&&"="!==(i=e.charAt(o))&&";"!==i&&","!==i;)o+=1;o<e.length&&"="===e.charAt(o)?(n=!0,o=r,s.push(e.substring(t,a)),t=o):o=a+1}else o+=1;(!n||o>=e.length)&&s.push(e.substring(t,e.length))}return s}function s(e){let t={},i=[];if(e)for(let[a,r]of e.entries())"set-cookie"===a.toLowerCase()?(i.push(...n(r)),t[a]=1===i.length?i[0]:i):t[a]=r;return t}function o(e){try{return String(new URL(String(e)))}catch(t){throw Error(`URL is malformed "${String(e)}". Please use only absolute URLs - https://nextjs.org/docs/messages/middleware-relative-urls`,{cause:t})}}function c(e,t){for(let i of[a.NEXT_QUERY_PARAM_PREFIX,a.NEXT_INTERCEPTION_MARKER_PREFIX])e!==i&&e.startsWith(i)&&t(e.substring(i.length))}},86974:(e,t)=>{"use strict";function i(e,t){let i;if((null==t?void 0:t.host)&&!Array.isArray(t.host))i=t.host.toString().split(":",1)[0];else{if(!e.hostname)return;i=e.hostname}return i.toLowerCase()}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getHostname",{enumerable:!0,get:function(){return i}})},82146:(e,t)=>{"use strict";function i(e,t,i){if(e)for(let n of(i&&(i=i.toLowerCase()),e)){var a,r;if(t===(null==(a=n.domain)?void 0:a.split(":",1)[0].toLowerCase())||i===n.defaultLocale.toLowerCase()||(null==(r=n.locales)?void 0:r.some(e=>e.toLowerCase()===i)))return n}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"detectDomainLocale",{enumerable:!0,get:function(){return i}})},41545:(e,t)=>{"use strict";function i(e,t){let i;let a=e.split("/");return(t||[]).some(t=>!!a[1]&&a[1].toLowerCase()===t.toLowerCase()&&(i=t,a.splice(1,1),e=a.join("/")||"/",!0)),{pathname:e,detectedLocale:i}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"normalizeLocalePath",{enumerable:!0,get:function(){return i}})},43548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var i in t)Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}(t,{BailoutToCSRError:function(){return a},isBailoutToCSRError:function(){return r}});let i="BAILOUT_TO_CLIENT_SIDE_RENDERING";class a extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=i}}function r(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===i}},51436:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLocale",{enumerable:!0,get:function(){return n}});let a=i(82088),r=i(61035);function n(e,t,i,n){if(!t||t===i)return e;let s=e.toLowerCase();return!n&&((0,r.pathHasPrefix)(s,"/api")||(0,r.pathHasPrefix)(s,"/"+t.toLowerCase()))?e:(0,a.addPathPrefix)(e,"/"+t)}},82088:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathPrefix",{enumerable:!0,get:function(){return r}});let a=i(85307);function r(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:r,hash:n}=(0,a.parsePath)(e);return""+t+i+r+n}},87931:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addPathSuffix",{enumerable:!0,get:function(){return r}});let a=i(85307);function r(e,t){if(!e.startsWith("/")||!t)return e;let{pathname:i,query:r,hash:n}=(0,a.parsePath)(e);return""+i+t+r+n}},50487:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"formatNextPathnameInfo",{enumerable:!0,get:function(){return o}});let a=i(33273),r=i(82088),n=i(87931),s=i(51436);function o(e){let t=(0,s.addLocale)(e.pathname,e.locale,e.buildId?void 0:e.defaultLocale,e.ignorePrefix);return(e.buildId||!e.trailingSlash)&&(t=(0,a.removeTrailingSlash)(t)),e.buildId&&(t=(0,n.addPathSuffix)((0,r.addPathPrefix)(t,"/_next/data/"+e.buildId),"/"===e.pathname?"index.json":".json")),t=(0,r.addPathPrefix)(t,e.basePath),!e.buildId&&e.trailingSlash?t.endsWith("/")?t:(0,n.addPathSuffix)(t,"/"):(0,a.removeTrailingSlash)(t)}},28724:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getNextPathnameInfo",{enumerable:!0,get:function(){return s}});let a=i(41545),r=i(8797),n=i(61035);function s(e,t){var i,s;let{basePath:o,i18n:c,trailingSlash:l}=null!=(i=t.nextConfig)?i:{},d={pathname:e,trailingSlash:"/"!==e?e.endsWith("/"):l};o&&(0,n.pathHasPrefix)(d.pathname,o)&&(d.pathname=(0,r.removePathPrefix)(d.pathname,o),d.basePath=o);let p=d.pathname;if(d.pathname.startsWith("/_next/data/")&&d.pathname.endsWith(".json")){let e=d.pathname.replace(/^\/_next\/data\//,"").replace(/\.json$/,"").split("/"),i=e[0];d.buildId=i,p="index"!==e[1]?"/"+e.slice(1).join("/"):"/",!0===t.parseData&&(d.pathname=p)}if(c){let e=t.i18nProvider?t.i18nProvider.analyze(d.pathname):(0,a.normalizeLocalePath)(d.pathname,c.locales);d.locale=e.detectedLocale,d.pathname=null!=(s=e.pathname)?s:d.pathname,!e.detectedLocale&&d.buildId&&(e=t.i18nProvider?t.i18nProvider.analyze(p):(0,a.normalizeLocalePath)(p,c.locales)).detectedLocale&&(d.locale=e.detectedLocale)}return d}},85307:(e,t)=>{"use strict";function i(e){let t=e.indexOf("#"),i=e.indexOf("?"),a=i>-1&&(t<0||i<t);return a||t>-1?{pathname:e.substring(0,a?i:t),query:a?e.substring(i,t>-1?t:void 0):"",hash:t>-1?e.slice(t):""}:{pathname:e,query:"",hash:""}}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"parsePath",{enumerable:!0,get:function(){return i}})},61035:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"pathHasPrefix",{enumerable:!0,get:function(){return r}});let a=i(85307);function r(e,t){if("string"!=typeof e)return!1;let{pathname:i}=(0,a.parsePath)(e);return i===t||i.startsWith(t+"/")}},8797:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removePathPrefix",{enumerable:!0,get:function(){return r}});let a=i(61035);function r(e,t){if(!(0,a.pathHasPrefix)(e,t))return e;let i=e.slice(t.length);return i.startsWith("/")?i:"/"+i}},33273:(e,t)=>{"use strict";function i(e){return e.replace(/\/$/,"")||"/"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"removeTrailingSlash",{enumerable:!0,get:function(){return i}})},82498:e=>{"use strict";class t{constructor(e){this.str=(e||"").toString(),this.operatorCurrent="",this.operatorExpecting="",this.node=null,this.escaped=!1,this.list=[],this.operators={'"':'"',"(":")","<":">",",":"",":":";",";":""}}tokenize(){let e=[];for(let e=0,t=this.str.length;e<t;e++){let i=this.str.charAt(e),a=e<t-1?this.str.charAt(e+1):null;this.checkChar(i,a)}return this.list.forEach(t=>{t.value=(t.value||"").toString().trim(),t.value&&e.push(t)}),e}checkChar(e,t){if(this.escaped);else if(e===this.operatorExpecting){this.node={type:"operator",value:e},t&&![" ","	","\r","\n",",",";"].includes(t)&&(this.node.noBreak=!0),this.list.push(this.node),this.node=null,this.operatorExpecting="",this.escaped=!1;return}else if(!this.operatorExpecting&&e in this.operators){this.node={type:"operator",value:e},this.list.push(this.node),this.node=null,this.operatorExpecting=this.operators[e],this.escaped=!1;return}else if(['"',"'"].includes(this.operatorExpecting)&&"\\"===e){this.escaped=!0;return}this.node||(this.node={type:"text",value:""},this.list.push(this.node)),"\n"===e&&(e=" "),(e.charCodeAt(0)>=33||[" ","	"].includes(e))&&(this.node.value+=e),this.escaped=!1}}e.exports=function e(i,a){a=a||{};let r=new t(i).tokenize(),n=[],s=[],o=[];if(r.forEach(e=>{"operator"===e.type&&(","===e.value||";"===e.value)?(s.length&&n.push(s),s=[]):s.push(e)}),s.length&&n.push(s),n.forEach(t=>{(t=function(t){let i,a,r,n=!1,s="text",o=[],c={address:[],comment:[],group:[],text:[]};for(a=0,r=t.length;a<r;a++){let e=t[a],i=a?t[a-1]:null;if("operator"===e.type)switch(e.value){case"<":s="address";break;case"(":s="comment";break;case":":s="group",n=!0;break;default:s="text"}else e.value&&("address"===s&&(e.value=e.value.replace(/^[^<]*<\s*/,"")),i&&i.noBreak&&c[s].length?c[s][c[s].length-1]+=e.value:c[s].push(e.value))}if(!c.text.length&&c.comment.length&&(c.text=c.comment,c.comment=[]),n)c.text=c.text.join(" "),o.push({name:c.text||i&&i.name,group:c.group.length?e(c.group.join(",")):[]});else{if(!c.address.length&&c.text.length){for(a=c.text.length-1;a>=0;a--)if(c.text[a].match(/^[^@\s]+@[^@\s]+$/)){c.address=c.text.splice(a,1);break}let e=function(e){return c.address.length?e:(c.address=[e.trim()]," ")};if(!c.address.length)for(a=c.text.length-1;a>=0&&(c.text[a]=c.text[a].replace(/\s*\b[^@\s]+@[^\s]+\b\s*/,e).trim(),!c.address.length);a--);}if(!c.text.length&&c.comment.length&&(c.text=c.comment,c.comment=[]),c.address.length>1&&(c.text=c.text.concat(c.address.splice(1))),c.text=c.text.join(" "),c.address=c.address.join(" "),!c.address&&n)return[];(i={address:c.address||c.text||"",name:c.text||c.address||""}).address===i.name&&((i.address||"").match(/@/)?i.name="":i.address=""),o.push(i)}return o}(t)).length&&(o=o.concat(t))}),a.flatten){let e=[],t=i=>{i.forEach(i=>{if(i.group)return t(i.group);e.push(i)})};return t(o),e}return o}},93970:(e,t,i)=>{"use strict";let a=i(27910).Transform;function r(e){return"string"==typeof e&&(e=Buffer.from(e,"utf-8")),e.toString("base64")}function n(e,t){if(e=(e||"").toString(),t=t||76,e.length<=t)return e;let i=[],a=0,r=1024*t;for(;a<e.length;){let n=e.substr(a,r).replace(RegExp(".{"+t+"}","g"),"$&\r\n").trim();i.push(n),a+=r}return i.join("\r\n").trim()}class s extends a{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this._remainingBytes=!1,this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){if("buffer"!==t&&(e=Buffer.from(e,t)),!e||!e.length)return setImmediate(i);this.inputBytes+=e.length,this._remainingBytes&&this._remainingBytes.length&&(e=Buffer.concat([this._remainingBytes,e],this._remainingBytes.length+e.length),this._remainingBytes=!1),e.length%3?(this._remainingBytes=e.slice(e.length-e.length%3),e=e.slice(0,e.length-e.length%3)):this._remainingBytes=!1;let a=this._curLine+r(e);if(this.options.lineLength){let e=(a=n(a,this.options.lineLength)).lastIndexOf("\n");e<0?(this._curLine=a,a=""):e===a.length-1?this._curLine="":(this._curLine=a.substr(e+1),a=a.substr(0,e+1))}a&&(this.outputBytes+=a.length,this.push(Buffer.from(a,"ascii"))),setImmediate(i)}_flush(e){this._remainingBytes&&this._remainingBytes.length&&(this._curLine+=r(this._remainingBytes)),this._curLine&&(this._curLine=n(this._curLine,this.options.lineLength),this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii"),this._curLine=""),e()}}e.exports={encode:r,wrap:n,Encoder:s}},57262:(e,t,i)=>{"use strict";let a=i(21569),r=i(91668),n=i(79893),s=i(27910).PassThrough,o=i(29021),c=i(33873),l=i(55511);class d{constructor(e,t,i,a){this.options=e||{},this.keys=t,this.cacheTreshold=Number(this.options.cacheTreshold)||131072,this.hashAlgo=this.options.hashAlgo||"sha256",this.cacheDir=this.options.cacheDir||!1,this.chunks=[],this.chunklen=0,this.readPos=0,this.cachePath=!!this.cacheDir&&c.join(this.cacheDir,"message."+Date.now()+"-"+l.randomBytes(14).toString("hex")),this.cache=!1,this.headers=!1,this.bodyHash=!1,this.parser=!1,this.relaxedBody=!1,this.input=i,this.output=a,this.output.usingCache=!1,this.hasErrored=!1,this.input.on("error",e=>{this.hasErrored=!0,this.cleanup(),a.emit("error",e)})}cleanup(){this.cache&&this.cachePath&&o.unlink(this.cachePath,()=>!1)}createReadCache(){this.cache=o.createReadStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.output.emit("error",e)}),this.cache.once("close",()=>{this.cleanup()}),this.cache.pipe(this.output)}sendNextChunk(){if(this.hasErrored)return;if(this.readPos>=this.chunks.length)return this.cache?this.createReadCache():this.output.end();let e=this.chunks[this.readPos++];if(!1===this.output.write(e))return this.output.once("drain",()=>{this.sendNextChunk()});setImmediate(()=>this.sendNextChunk())}sendSignedOutput(){let e=0,t=()=>{if(e>=this.keys.length)return this.output.write(this.parser.rawHeaders),setImmediate(()=>this.sendNextChunk());let i=this.keys[e++],a=n(this.headers,this.hashAlgo,this.bodyHash,{domainName:i.domainName,keySelector:i.keySelector,privateKey:i.privateKey,headerFieldNames:this.options.headerFieldNames,skipFields:this.options.skipFields});return a&&this.output.write(Buffer.from(a+"\r\n")),setImmediate(t)};if(this.bodyHash&&this.headers)return t();this.output.write(this.parser.rawHeaders),this.sendNextChunk()}createWriteCache(){this.output.usingCache=!0,this.cache=o.createWriteStream(this.cachePath),this.cache.once("error",e=>{this.cleanup(),this.relaxedBody.unpipe(this.cache),this.relaxedBody.on("readable",()=>{for(;null!==this.relaxedBody.read(););}),this.hasErrored=!0,this.output.emit("error",e)}),this.cache.once("close",()=>{this.sendSignedOutput()}),this.relaxedBody.removeAllListeners("readable"),this.relaxedBody.pipe(this.cache)}signStream(){this.parser=new a,this.relaxedBody=new r({hashAlgo:this.hashAlgo}),this.parser.on("headers",e=>{this.headers=e}),this.relaxedBody.on("hash",e=>{this.bodyHash=e}),this.relaxedBody.on("readable",()=>{let e;if(!this.cache){for(;null!==(e=this.relaxedBody.read());)if(this.chunks.push(e),this.chunklen+=e.length,this.chunklen>=this.cacheTreshold&&this.cachePath)return this.createWriteCache()}}),this.relaxedBody.on("end",()=>{this.cache||this.sendSignedOutput()}),this.parser.pipe(this.relaxedBody),setImmediate(()=>this.input.pipe(this.parser))}}class p{constructor(e){this.options=e||{},this.keys=[].concat(this.options.keys||{domainName:e.domainName,keySelector:e.keySelector,privateKey:e.privateKey})}sign(e,t){let i=new s,a=e,r=!1;Buffer.isBuffer(e)?(r=e,a=new s):"string"==typeof e&&(r=Buffer.from(e),a=new s);let n=this.options;t&&Object.keys(t).length&&(n={},Object.keys(this.options||{}).forEach(e=>{n[e]=this.options[e]}),Object.keys(t||{}).forEach(e=>{e in n||(n[e]=t[e])}));let o=new d(n,this.keys,a,i);return setImmediate(()=>{o.signStream(),r&&setImmediate(()=>{a.end(r)})}),i}}e.exports=p},21569:(e,t,i)=>{"use strict";let a=i(27910).Transform;class r extends a{constructor(e){super(e),this.lastBytes=Buffer.alloc(4),this.headersParsed=!1,this.headerBytes=0,this.headerChunks=[],this.rawHeaders=!1,this.bodySize=0}updateLastBytes(e){let t=this.lastBytes.length,i=Math.min(e.length,t);for(let e=0,a=t-i;e<a;e++)this.lastBytes[e]=this.lastBytes[e+i];for(let a=1;a<=i;a++)this.lastBytes[t-a]=e[e.length-a]}checkHeaders(e){if(this.headersParsed)return!0;let t=this.lastBytes.length,i=0;this.curLinePos=0;for(let a=0,r=this.lastBytes.length+e.length;a<r;a++)if(10===(a<t?this.lastBytes[a]:e[a-t])&&a){let r=a-1<t?this.lastBytes[a-1]:e[a-1-t],n=a>1&&(a-2<t?this.lastBytes[a-2]:e[a-2-t]);if(10===r||13===r&&10===n){this.headersParsed=!0,i=a-t+1,this.headerBytes+=i;break}}if(this.headersParsed){if(this.headerChunks.push(e.slice(0,i)),this.rawHeaders=Buffer.concat(this.headerChunks,this.headerBytes),this.headerChunks=null,this.emit("headers",this.parseHeaders()),e.length-1>i){let t=e.slice(i);this.bodySize+=t.length,setImmediate(()=>this.push(t))}return!1}return this.headerBytes+=e.length,this.headerChunks.push(e),this.updateLastBytes(e),!1}_transform(e,t,i){let a;if(!e||!e.length)return i();"string"==typeof e&&(e=Buffer.from(e,t));try{a=this.checkHeaders(e)}catch(e){return i(e)}a&&(this.bodySize+=e.length,this.push(e)),setImmediate(i)}_flush(e){if(this.headerChunks){let e=Buffer.concat(this.headerChunks,this.headerBytes);this.bodySize+=e.length,this.push(e),this.headerChunks=null}e()}parseHeaders(){let e=(this.rawHeaders||"").toString().split(/\r?\n/);for(let t=e.length-1;t>0;t--)/^\s/.test(e[t])&&(e[t-1]+="\n"+e[t],e.splice(t,1));return e.filter(e=>e.trim()).map(e=>({key:e.substr(0,e.indexOf(":")).trim().toLowerCase(),line:e}))}}e.exports=r},91668:(e,t,i)=>{"use strict";let a=i(27910).Transform,r=i(55511);class n extends a{constructor(e){super(),e=e||{},this.chunkBuffer=[],this.chunkBufferLen=0,this.bodyHash=r.createHash(e.hashAlgo||"sha1"),this.remainder="",this.byteLength=0,this.debug=e.debug,this._debugBody=!!e.debug&&[]}updateHash(e){let t;let i="",a="file";for(let t=e.length-1;t>=0;t--){let r=e[t];if("file"===a&&(10===r||13===r));else if("file"===a&&(9===r||32===r))a="line";else if("line"===a&&(9===r||32===r));else if(("file"===a||"line"===a)&&(a="body",t===e.length-1))break;if(0===t){if("file"===a&&(!this.remainder||/[\r\n]$/.test(this.remainder))||"line"===a&&(!this.remainder||/[ \t]$/.test(this.remainder))){this.remainder+=e.toString("binary");return}if("line"===a||"file"===a){i=e.toString("binary"),e=!1;break}}if("body"===a){i=e.slice(t+1).toString("binary"),e=e.slice(0,t+1);break}}let r=!!this.remainder;if(e&&!r)for(let t=0,i=e.length;t<i;t++){if(t&&10===e[t]&&13!==e[t-1]||t&&13===e[t]&&32===e[t-1]){r=!0;break}if(t&&32===e[t]&&32===e[t-1]){r=!0;break}if(9===e[t]){r=!0;break}}r?(t=this.remainder+(e?e.toString("binary"):""),this.remainder=i,t=t.replace(/\r?\n/g,"\n").replace(/[ \t]*$/gm,"").replace(/[ \t]+/gm," ").replace(/\n/g,"\r\n"),e=Buffer.from(t,"binary")):i&&(this.remainder=i),this.debug&&this._debugBody.push(e),this.bodyHash.update(e)}_transform(e,t,i){if(!e||!e.length)return i();"string"==typeof e&&(e=Buffer.from(e,t)),this.updateHash(e),this.byteLength+=e.length,this.push(e),i()}_flush(e){/[\r\n]$/.test(this.remainder)&&this.byteLength>2&&this.bodyHash.update(Buffer.from("\r\n")),this.byteLength||this.push(Buffer.from("\r\n")),this.emit("hash",this.bodyHash.digest("base64"),!!this.debug&&Buffer.concat(this._debugBody)),e()}}e.exports=n},79893:(e,t,i)=>{"use strict";let a=i(15478),r=i(45437),n=i(55511);function s(e,t,i){let a=new Set,r=new Set,n=new Map;(i||"").toLowerCase().split(":").forEach(e=>{r.add(e.trim())}),(t||"").toLowerCase().split(":").filter(e=>!r.has(e.trim())).forEach(e=>{a.add(e.trim())});for(let t=e.length-1;t>=0;t--){let i=e[t];a.has(i.key)&&!n.has(i.key)&&n.set(i.key,o(i.line))}let s=[],c=[];return a.forEach(e=>{n.has(e)&&(c.push(e),s.push(e+":"+n.get(e)))}),{headers:s.join("\r\n")+"\r\n",fieldNames:c.join(":")}}function o(e){return e.substr(e.indexOf(":")+1).replace(/\r?\n/g,"").replace(/\s+/g," ").trim()}e.exports=(e,t,i,c)=>{let l,d;let p=s(e,(c=c||{}).headerFieldNames||"From:Sender:Reply-To:Subject:Date:Message-ID:To:Cc:MIME-Version:Content-Type:Content-Transfer-Encoding:Content-ID:Content-Description:Resent-Date:Resent-From:Resent-Sender:Resent-To:Resent-Cc:Resent-Message-ID:In-Reply-To:References:List-Id:List-Help:List-Unsubscribe:List-Subscribe:List-Post:List-Owner:List-Archive",c.skipFields),u=function(e,t,i,n,s){let o=["v=1","a=rsa-"+n,"c=relaxed/relaxed","d="+a.toASCII(e),"q=dns/txt","s="+t,"bh="+s,"h="+i].join("; ");return r.foldLines("DKIM-Signature: "+o,76)+";\r\n b="}(c.domainName,c.keySelector,p.fieldNames,t,i);p.headers+="dkim-signature:"+o(u),(l=n.createSign(("rsa-"+t).toUpperCase())).update(p.headers);try{d=l.sign(c.privateKey,"base64")}catch(e){return!1}return u+d.replace(/(^.{73}|.{75}(?!\r?\n|\r))/g,"$&\r\n ").trim()},e.exports.relaxedHeaders=s},18306:(e,t,i)=>{"use strict";let a=i(79551);class r{constructor(e){this.options=e||{},this.cookies=[]}set(e,t){let i,r=a.parse(t||""),n=this.parse(e);return n.domain?(i=n.domain.replace(/^\./,""),(r.hostname.length<i.length||("."+r.hostname).substr(-i.length+1)!=="."+i)&&(n.domain=r.hostname)):n.domain=r.hostname,n.path||(n.path=this.getPath(r.pathname)),n.expires||(n.expires=new Date(Date.now()+1e3*(Number(this.options.sessionTimeout||1800)||1800))),this.add(n)}get(e){return this.list(e).map(e=>e.name+"="+e.value).join("; ")}list(e){let t,i,a=[];for(t=this.cookies.length-1;t>=0;t--){if(i=this.cookies[t],this.isExpired(i)){this.cookies.splice(t,t);continue}this.match(i,e)&&a.unshift(i)}return a}parse(e){let t={};return(e||"").toString().split(";").forEach(e=>{let i,a=e.split("="),r=a.shift().trim().toLowerCase(),n=a.join("=").trim();if(r)switch(r){case"expires":"Invalid Date"!==(n=new Date(n)).toString()&&(t.expires=n);break;case"path":t.path=n;break;case"domain":(i=n.toLowerCase()).length&&"."!==i.charAt(0)&&(i="."+i),t.domain=i;break;case"max-age":t.expires=new Date(Date.now()+1e3*(Number(n)||0));break;case"secure":t.secure=!0;break;case"httponly":t.httponly=!0;break;default:t.name||(t.name=r,t.value=n)}}),t}match(e,t){let i=a.parse(t||"");return(i.hostname===e.domain||"."===e.domain.charAt(0)&&("."+i.hostname).substr(-e.domain.length)===e.domain)&&this.getPath(i.pathname).substr(0,e.path.length)===e.path&&(!e.secure||"https:"===i.protocol)}add(e){let t,i;if(!e||!e.name)return!1;for(t=0,i=this.cookies.length;t<i;t++)if(this.compare(this.cookies[t],e)){if(this.isExpired(e))return this.cookies.splice(t,1),!1;return this.cookies[t]=e,!0}return this.isExpired(e)||this.cookies.push(e),!0}compare(e,t){return e.name===t.name&&e.path===t.path&&e.domain===t.domain&&e.secure===t.secure&&e.httponly==e.httponly}isExpired(e){return e.expires&&e.expires<new Date||!e.value}getPath(e){let t=(e||"/").split("/");return t.pop(),"/"!==(t=t.join("/").trim()).charAt(0)&&(t="/"+t),"/"!==t.substr(-1)&&(t+="/"),t}}e.exports=r},76547:(e,t,i)=>{"use strict";let a=i(81630),r=i(55591),n=i(79551),s=i(74075),o=i(27910).PassThrough,c=i(18306),l=i(91423),d=i(91645);e.exports=function(e,t){return function e(t,i){let p,u,h;(i=i||{}).fetchRes=i.fetchRes||new o,i.cookies=i.cookies||new c,i.redirects=i.redirects||0,i.maxRedirects=isNaN(i.maxRedirects)?5:i.maxRedirects,i.cookie&&([].concat(i.cookie||[]).forEach(e=>{i.cookies.set(e,t)}),i.cookie=!1);let f=i.fetchRes,m=n.parse(t),g=(i.method||"").toString().trim().toUpperCase()||"GET",v=!1,x="https:"===m.protocol?r:a,y={"accept-encoding":"gzip,deflate","user-agent":"nodemailer/"+l.version};if(Object.keys(i.headers||{}).forEach(e=>{y[e.toLowerCase().trim()]=i.headers[e]}),i.userAgent&&(y["user-agent"]=i.userAgent),m.auth&&(y.Authorization="Basic "+Buffer.from(m.auth).toString("base64")),(p=i.cookies.get(t))&&(y.cookie=p),i.body){if(!1!==i.contentType&&(y["Content-Type"]=i.contentType||"application/x-www-form-urlencoded"),"function"==typeof i.body.pipe)y["Transfer-Encoding"]="chunked",(u=i.body).on("error",e=>{v||(v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e))});else{if(i.body instanceof Buffer)u=i.body;else if("object"==typeof i.body)try{u=Buffer.from(Object.keys(i.body).map(e=>{let t=i.body[e].toString().trim();return encodeURIComponent(e)+"="+encodeURIComponent(t)}).join("&"))}catch(e){if(v)return;v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e);return}else u=Buffer.from(i.body.toString().trim());y["Content-Type"]=i.contentType||"application/x-www-form-urlencoded",y["Content-Length"]=u.length}g=(i.method||"").toString().trim().toUpperCase()||"POST"}let b={method:g,host:m.hostname,path:m.path,port:m.port?m.port:"https:"===m.protocol?443:80,headers:y,rejectUnauthorized:!1,agent:!1};i.tls&&Object.keys(i.tls).forEach(e=>{b[e]=i.tls[e]}),"https:"!==m.protocol||!m.hostname||m.hostname===b.host||d.isIP(m.hostname)||b.servername||(b.servername=m.hostname);try{h=x.request(b)}catch(e){return v=!0,setImmediate(()=>{e.type="FETCH",e.sourceUrl=t,f.emit("error",e)}),f}return i.timeout&&h.setTimeout(i.timeout,()=>{if(v)return;v=!0,h.abort();let e=Error("Request Timeout");e.type="FETCH",e.sourceUrl=t,f.emit("error",e)}),h.on("error",e=>{v||(v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e))}),h.on("response",a=>{let r;if(!v){switch(a.headers["content-encoding"]){case"gzip":case"deflate":r=s.createUnzip()}if(a.headers["set-cookie"]&&[].concat(a.headers["set-cookie"]||[]).forEach(e=>{i.cookies.set(e,t)}),[301,302,303,307,308].includes(a.statusCode)&&a.headers.location){if(i.redirects++,i.redirects>i.maxRedirects){v=!0;let e=Error("Maximum redirect count exceeded");e.type="FETCH",e.sourceUrl=t,f.emit("error",e),h.abort();return}return i.method="GET",i.body=!1,e(n.resolve(t,a.headers.location),i)}if(f.statusCode=a.statusCode,f.headers=a.headers,a.statusCode>=300&&!i.allowErrorResponse){v=!0;let e=Error("Invalid status code "+a.statusCode);e.type="FETCH",e.sourceUrl=t,f.emit("error",e),h.abort();return}a.on("error",e=>{v||(v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e),h.abort())}),r?(a.pipe(r).pipe(f),r.on("error",e=>{v||(v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e),h.abort())})):a.pipe(f)}}),setImmediate(()=>{if(u)try{if("function"==typeof u.pipe)return u.pipe(h);h.write(u)}catch(e){v=!0,e.type="FETCH",e.sourceUrl=t,f.emit("error",e);return}h.end()}),f}(e,t)},e.exports.Cookies=c},86577:(e,t,i)=>{"use strict";let a=i(91423),r=i(63336);class n{constructor(e){e=e||{},this.options=e||{},this.name="JSONTransport",this.version=a.version,this.logger=r.getLogger(this.options,{component:this.options.component||"json-transport"})}send(e,t){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),a=e.message.messageId(),r=[].concat(i.to||[]);r.length>3&&r.push("...and "+r.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:a},"Composing JSON structure of %s to <%s>",a,r.join(", ")),setImmediate(()=>{e.normalize((e,r)=>e?(this.logger.error({err:e,tnx:"send",messageId:a},"Failed building JSON structure for %s. %s",a,e.message),t(e)):(delete r.envelope,delete r.normalizedHeaders,t(null,{envelope:i,messageId:a,message:this.options.skipEncoding?r:JSON.stringify(r)})))})}}e.exports=n},39947:(e,t,i)=>{"use strict";let a=i(47546),r=i(45437),n=i(63336).parseDataURI;class s{constructor(e){this.mail=e||{},this.message=!1}compile(){return this._alternatives=this.getAlternatives(),this._htmlNode=this._alternatives.filter(e=>/^text\/html\b/i.test(e.contentType)).pop(),this._attachments=this.getAttachments(!!this._htmlNode),this._useRelated=!!(this._htmlNode&&this._attachments.related.length),this._useAlternative=this._alternatives.length>1,this._useMixed=this._attachments.attached.length>1||this._alternatives.length&&1===this._attachments.attached.length,this.mail.raw?this.message=new a("message/rfc822",{newline:this.mail.newline}).setRaw(this.mail.raw):this._useMixed?this.message=this._createMixed():this._useAlternative?this.message=this._createAlternative():this._useRelated?this.message=this._createRelated():this.message=this._createContentNode(!1,[].concat(this._alternatives||[]).concat(this._attachments.attached||[]).shift()||{contentType:"text/plain",content:""}),this.mail.headers&&this.message.addHeader(this.mail.headers),["from","sender","to","cc","bcc","reply-to","in-reply-to","references","subject","message-id","date"].forEach(e=>{let t=e.replace(/-(\w)/g,(e,t)=>t.toUpperCase());this.mail[t]&&this.message.setHeader(e,this.mail[t])}),this.mail.envelope&&this.message.setEnvelope(this.mail.envelope),this.message.messageId(),this.message}getAttachments(e){let t,i;let a=[].concat(this.mail.attachments||[]).map((e,t)=>{let i;let a=/^message\//i.test(e.contentType);/^data:/i.test(e.path||e.href)&&(e=this._processDataUrl(e));let n=e.contentType||r.detectMimeType(e.filename||e.path||e.href||"bin"),s=/^image\//i.test(n);return i={contentType:n,contentDisposition:e.contentDisposition||(a||s&&e.cid?"inline":"attachment"),contentTransferEncoding:"contentTransferEncoding"in e?e.contentTransferEncoding:"base64"},e.filename?i.filename=e.filename:!a&&!1!==e.filename&&(i.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(t+1),0>i.filename.indexOf(".")&&(i.filename+="."+r.detectExtension(i.contentType))),/^https?:\/\//i.test(e.path)&&(e.href=e.path,e.path=void 0),e.cid&&(i.cid=e.cid),e.raw?i.raw=e.raw:e.path?i.content={path:e.path}:e.href?i.content={href:e.href,httpHeaders:e.httpHeaders}:i.content=e.content||"",e.encoding&&(i.encoding=e.encoding),e.headers&&(i.headers=e.headers),i});return(this.mail.icalEvent&&(t="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},i={},Object.keys(t).forEach(e=>{i[e]=t[e]}),i.contentType="application/ics",i.headers||(i.headers={}),i.filename=i.filename||"invite.ics",i.headers["Content-Disposition"]="attachment",i.headers["Content-Transfer-Encoding"]="base64"),e)?{attached:a.filter(e=>!e.cid).concat(i||[]),related:a.filter(e=>!!e.cid)}:{attached:a.concat(i||[]),related:[]}}getAlternatives(){let e=[],t,i,a,n,s,o;return this.mail.text&&((t="object"==typeof this.mail.text&&(this.mail.text.content||this.mail.text.path||this.mail.text.href||this.mail.text.raw)?this.mail.text:{content:this.mail.text}).contentType="text/plain; charset=utf-8"),this.mail.watchHtml&&((a="object"==typeof this.mail.watchHtml&&(this.mail.watchHtml.content||this.mail.watchHtml.path||this.mail.watchHtml.href||this.mail.watchHtml.raw)?this.mail.watchHtml:{content:this.mail.watchHtml}).contentType="text/watch-html; charset=utf-8"),this.mail.amp&&((n="object"==typeof this.mail.amp&&(this.mail.amp.content||this.mail.amp.path||this.mail.amp.href||this.mail.amp.raw)?this.mail.amp:{content:this.mail.amp}).contentType="text/x-amp-html; charset=utf-8"),this.mail.icalEvent&&(s="object"==typeof this.mail.icalEvent&&(this.mail.icalEvent.content||this.mail.icalEvent.path||this.mail.icalEvent.href||this.mail.icalEvent.raw)?this.mail.icalEvent:{content:this.mail.icalEvent},o={},Object.keys(s).forEach(e=>{o[e]=s[e]}),o.content&&"object"==typeof o.content&&(o.content._resolve=!0),o.filename=!1,o.contentType="text/calendar; charset=utf-8; method="+(o.method||"PUBLISH").toString().trim().toUpperCase(),o.headers||(o.headers={})),this.mail.html&&((i="object"==typeof this.mail.html&&(this.mail.html.content||this.mail.html.path||this.mail.html.href||this.mail.html.raw)?this.mail.html:{content:this.mail.html}).contentType="text/html; charset=utf-8"),[].concat(t||[]).concat(a||[]).concat(n||[]).concat(i||[]).concat(o||[]).concat(this.mail.alternatives||[]).forEach(t=>{let i;/^data:/i.test(t.path||t.href)&&(t=this._processDataUrl(t)),i={contentType:t.contentType||r.detectMimeType(t.filename||t.path||t.href||"txt"),contentTransferEncoding:t.contentTransferEncoding},t.filename&&(i.filename=t.filename),/^https?:\/\//i.test(t.path)&&(t.href=t.path,t.path=void 0),t.raw?i.raw=t.raw:t.path?i.content={path:t.path}:t.href?i.content={href:t.href}:i.content=t.content||"",t.encoding&&(i.encoding=t.encoding),t.headers&&(i.headers=t.headers),e.push(i)}),e}_createMixed(e){let t;return t=e?e.createChild("multipart/mixed",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new a("multipart/mixed",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._useAlternative?this._createAlternative(t):this._useRelated&&this._createRelated(t),[].concat(!this._useAlternative&&this._alternatives||[]).concat(this._attachments.attached||[]).forEach(e=>{this._useRelated&&e===this._htmlNode||this._createContentNode(t,e)}),t}_createAlternative(e){let t;return t=e?e.createChild("multipart/alternative",{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new a("multipart/alternative",{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._alternatives.forEach(e=>{this._useRelated&&this._htmlNode===e?this._createRelated(t):this._createContentNode(t,e)}),t}_createRelated(e){let t;return t=e?e.createChild('multipart/related; type="text/html"',{disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new a('multipart/related; type="text/html"',{baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),this._createContentNode(t,this._htmlNode),this._attachments.related.forEach(e=>this._createContentNode(t,e)),t}_createContentNode(e,t){let i;(t=t||{}).content=t.content||"";let r=(t.encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");return i=e?e.createChild(t.contentType,{filename:t.filename,textEncoding:this.mail.textEncoding,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}):new a(t.contentType,{filename:t.filename,baseBoundary:this.mail.baseBoundary,textEncoding:this.mail.textEncoding,boundaryPrefix:this.mail.boundaryPrefix,disableUrlAccess:this.mail.disableUrlAccess,disableFileAccess:this.mail.disableFileAccess,normalizeHeaderKey:this.mail.normalizeHeaderKey,newline:this.mail.newline}),t.headers&&i.addHeader(t.headers),t.cid&&i.setHeader("Content-Id","<"+t.cid.replace(/[<>]/g,"")+">"),t.contentTransferEncoding?i.setHeader("Content-Transfer-Encoding",t.contentTransferEncoding):this.mail.encoding&&/^text\//i.test(t.contentType)&&i.setHeader("Content-Transfer-Encoding",this.mail.encoding),(!/^text\//i.test(t.contentType)||t.contentDisposition)&&i.setHeader("Content-Disposition",t.contentDisposition||(t.cid&&/^image\//i.test(t.contentType)?"inline":"attachment")),"string"!=typeof t.content||["utf8","usascii","ascii"].includes(r)||(t.content=Buffer.from(t.content,r)),t.raw?i.setRaw(t.raw):i.setContent(t.content),i}_processDataUrl(e){let t;return(e.path||e.href).match(/^data:/)&&(t=n(e.path||e.href)),t&&(e.content=t.data,e.contentType=e.contentType||t.contentType,"path"in e&&(e.path=!1),"href"in e&&(e.href=!1)),e}}e.exports=s},35327:(e,t,i)=>{"use strict";let a=i(94735),r=i(63336),n=i(65111),s=i(39947),o=i(57262),c=i(81031),l=i(28354),d=i(79551),p=i(91423),u=i(206),h=i(91645),f=i(14985),m=i(55511);class g extends a{constructor(e,t,i){super(),this.options=t||{},this._defaults=i||{},this._defaultPlugins={compile:[(...e)=>this._convertDataImages(...e)],stream:[]},this._userPlugins={compile:[],stream:[]},this.meta=new Map,this.dkim=!!this.options.dkim&&new o(this.options.dkim),this.transporter=e,this.transporter.mailer=this,this.logger=r.getLogger(this.options,{component:this.options.component||"mail"}),this.logger.debug({tnx:"create"},"Creating transport: %s",this.getVersionString()),"function"==typeof this.transporter.on&&(this.transporter.on("log",e=>{this.logger.debug({tnx:"transport"},"%s: %s",e.type,e.message)}),this.transporter.on("error",e=>{this.logger.error({err:e,tnx:"transport"},"Transport Error: %s",e.message),this.emit("error",e)}),this.transporter.on("idle",(...e)=>{this.emit("idle",...e)})),["close","isIdle","verify"].forEach(e=>{this[e]=(...t)=>"function"==typeof this.transporter[e]?("verify"===e&&"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1),this.transporter[e](...t)):(this.logger.warn({tnx:"transport",methodName:e},"Non existing method %s called for transport",e),!1)}),this.options.proxy&&"string"==typeof this.options.proxy&&this.setupProxy(this.options.proxy)}use(e,t){return e=(e||"").toString(),this._userPlugins.hasOwnProperty(e)?this._userPlugins[e].push(t):this._userPlugins[e]=[t],this}sendMail(e,t=null){let i;t||(i=new Promise((e,i)=>{t=r.callbackPromise(e,i)})),"function"==typeof this.getSocket&&(this.transporter.getSocket=this.getSocket,this.getSocket=!1);let a=new u(this,e);return this.logger.debug({tnx:"transport",name:this.transporter.name,version:this.transporter.version,action:"send"},"Sending mail using %s/%s",this.transporter.name,this.transporter.version),this._processPlugins("compile",a,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"compile"},"PluginCompile Error: %s",e.message),t(e);a.message=new s(a.data).compile(),a.setMailerHeader(),a.setPriorityHeaders(),a.setListHeaders(),this._processPlugins("stream",a,e=>{if(e)return this.logger.error({err:e,tnx:"plugin",action:"stream"},"PluginStream Error: %s",e.message),t(e);(a.data.dkim||this.dkim)&&a.message.processFunc(e=>{let t=a.data.dkim?new o(a.data.dkim):this.dkim;return this.logger.debug({tnx:"DKIM",messageId:a.message.messageId(),dkimDomains:t.keys.map(e=>e.keySelector+"."+e.domainName).join(", ")},"Signing outgoing message with %s keys",t.keys.length),t.sign(e,a.data._dkim)}),this.transporter.send(a,(...e)=>{e[0]&&this.logger.error({err:e[0],tnx:"transport",action:"send"},"Send Error: %s",e[0].message),t(...e)})})}),i}getVersionString(){return l.format("%s (%s; +%s; %s/%s)",p.name,p.version,p.homepage,this.transporter.name,this.transporter.version)}_processPlugins(e,t,i){if(e=(e||"").toString(),!this._userPlugins.hasOwnProperty(e))return i();let a=this._userPlugins[e]||[],r=this._defaultPlugins[e]||[];if(a.length&&this.logger.debug({tnx:"transaction",pluginCount:a.length,step:e},"Using %s plugins for %s",a.length,e),a.length+r.length===0)return i();let n=0,s="default",o=()=>{let e="default"===s?r:a;if(n>=e.length){if("default"!==s||!a.length)return i();s="user",n=0,e=a}(0,e[n++])(t,e=>{if(e)return i(e);o()})};o()}setupProxy(e){let t=d.parse(e);this.getSocket=(e,i)=>{let a=t.protocol.replace(/:$/,"").toLowerCase();if(this.meta.has("proxy_handler_"+a))return this.meta.get("proxy_handler_"+a)(t,e,i);switch(a){case"http":case"https":c(t.href,e.port,e.host,(e,t)=>e?i(e):i(null,{connection:t}));return;case"socks":case"socks5":case"socks4":case"socks4a":{if(!this.meta.has("proxy_socks_module"))return i(Error("Socks module not loaded"));let a=a=>{let r=!!this.meta.get("proxy_socks_module").SocksClient,n=r?this.meta.get("proxy_socks_module").SocksClient:this.meta.get("proxy_socks_module"),s=Number(t.protocol.replace(/\D/g,""))||5,o={proxy:{ipaddress:a,port:Number(t.port),type:s},[r?"destination":"target"]:{host:e.host,port:e.port},command:"connect"};if(t.auth){let e=decodeURIComponent(t.auth.split(":").shift()),i=decodeURIComponent(t.auth.split(":").pop());r?(o.proxy.userId=e,o.proxy.password=i):4===s?o.userid=e:o.authentication={username:e,password:i}}n.createConnection(o,(e,t)=>e?i(e):i(null,{connection:t.socket||t}))};if(h.isIP(t.hostname))return a(t.hostname);return f.resolve(t.hostname,(e,t)=>{if(e)return i(e);a(Array.isArray(t)?t[0]:t)})}}i(Error("Unknown proxy configuration"))}}_convertDataImages(e,t){if(!this.options.attachDataUrls&&!e.data.attachDataUrls||!e.data.html)return t();e.resolveContent(e.data,"html",(i,a)=>{if(i)return t(i);let r=0;a=(a||"").toString().replace(/(<img\b[^<>]{0,1024} src\s{0,20}=[\s"']{0,20})(data:([^;]+);[^"'>\s]+)/gi,(t,i,a,s)=>{let o=m.randomBytes(10).toString("hex")+"@localhost";return e.data.attachments||(e.data.attachments=[]),Array.isArray(e.data.attachments)||(e.data.attachments=[].concat(e.data.attachments||[])),e.data.attachments.push({path:a,cid:o,filename:"image-"+ ++r+"."+n.detectExtension(s)}),i+"cid:"+o}),e.data.html=a,t()})}set(e,t){return this.meta.set(e,t)}get(e){return this.meta.get(e)}}e.exports=g},206:(e,t,i)=>{"use strict";let a=i(63336),r=i(47546),n=i(45437);class s{constructor(e,t){this.mailer=e,this.data={},this.message=null,t=t||{};let i=e.options||{},a=e._defaults||{};Object.keys(t).forEach(e=>{this.data[e]=t[e]}),this.data.headers=this.data.headers||{},Object.keys(a).forEach(e=>{e in this.data?"headers"===e&&Object.keys(a.headers).forEach(e=>{e in this.data.headers||(this.data.headers[e]=a.headers[e])}):this.data[e]=a[e]}),["disableFileAccess","disableUrlAccess","normalizeHeaderKey"].forEach(e=>{e in i&&(this.data[e]=i[e])})}resolveContent(...e){return a.resolveContent(...e)}resolveAll(e){let t=[[this.data,"html"],[this.data,"text"],[this.data,"watchHtml"],[this.data,"amp"],[this.data,"icalEvent"]];this.data.alternatives&&this.data.alternatives.length&&this.data.alternatives.forEach((e,i)=>{t.push([this.data.alternatives,i])}),this.data.attachments&&this.data.attachments.length&&this.data.attachments.forEach((e,i)=>{!e.filename&&(e.filename=(e.path||e.href||"").split("/").pop().split("?").shift()||"attachment-"+(i+1),0>e.filename.indexOf(".")&&(e.filename+="."+n.detectExtension(e.contentType))),e.contentType||(e.contentType=n.detectMimeType(e.filename||e.path||e.href||"bin")),t.push([this.data.attachments,i])});let i=new r;["from","to","cc","bcc","sender","replyTo"].forEach(e=>{let t;this.message?t=[].concat(i._parseAddresses(this.message.getHeader("replyTo"===e?"reply-to":e))||[]):this.data[e]&&(t=[].concat(i._parseAddresses(this.data[e])||[])),t&&t.length?this.data[e]=t:e in this.data&&(this.data[e]=null)}),["from","sender"].forEach(e=>{this.data[e]&&(this.data[e]=this.data[e].shift())});let s=0,o=()=>{if(s>=t.length)return e(null,this.data);let i=t[s++];if(!i[0]||!i[0][i[1]])return o();a.resolveContent(...i,(t,a)=>{if(t)return e(t);let r={content:a};i[0][i[1]]&&"object"==typeof i[0][i[1]]&&!Buffer.isBuffer(i[0][i[1]])&&Object.keys(i[0][i[1]]).forEach(e=>{e in r||["content","path","href","raw"].includes(e)||(r[e]=i[0][i[1]][e])}),i[0][i[1]]=r,o()})};setImmediate(()=>o())}normalize(e){let t=this.data.envelope||this.message.getEnvelope(),i=this.message.messageId();this.resolveAll((a,r)=>a?e(a):(r.envelope=t,r.messageId=i,["html","text","watchHtml","amp"].forEach(e=>{r[e]&&r[e].content&&("string"==typeof r[e].content?r[e]=r[e].content:Buffer.isBuffer(r[e].content)&&(r[e]=r[e].content.toString()))}),r.icalEvent&&Buffer.isBuffer(r.icalEvent.content)&&(r.icalEvent.content=r.icalEvent.content.toString("base64"),r.icalEvent.encoding="base64"),r.alternatives&&r.alternatives.length&&r.alternatives.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),r.attachments&&r.attachments.length&&r.attachments.forEach(e=>{e&&e.content&&Buffer.isBuffer(e.content)&&(e.content=e.content.toString("base64"),e.encoding="base64")}),r.normalizedHeaders={},Object.keys(r.headers||{}).forEach(e=>{let t=[].concat(r.headers[e]||[]).shift();(t=t&&t.value||t)&&(["references","in-reply-to","message-id","content-id"].includes(e)&&(t=this.message._encodeHeaderValue(e,t)),r.normalizedHeaders[e]=t)}),r.list&&"object"==typeof r.list&&this._getListHeaders(r.list).forEach(e=>{r.normalizedHeaders[e.key]=e.value.map(e=>e&&e.value||e).join(", ")}),r.references&&(r.normalizedHeaders.references=this.message._encodeHeaderValue("references",r.references)),r.inReplyTo&&(r.normalizedHeaders["in-reply-to"]=this.message._encodeHeaderValue("in-reply-to",r.inReplyTo)),e(null,r)))}setMailerHeader(){this.message&&this.data.xMailer&&this.message.setHeader("X-Mailer",this.data.xMailer)}setPriorityHeaders(){if(this.message&&this.data.priority)switch((this.data.priority||"").toString().toLowerCase()){case"high":this.message.setHeader("X-Priority","1 (Highest)"),this.message.setHeader("X-MSMail-Priority","High"),this.message.setHeader("Importance","High");break;case"low":this.message.setHeader("X-Priority","5 (Lowest)"),this.message.setHeader("X-MSMail-Priority","Low"),this.message.setHeader("Importance","Low")}}setListHeaders(){this.message&&this.data.list&&"object"==typeof this.data.list&&this.data.list&&"object"==typeof this.data.list&&this._getListHeaders(this.data.list).forEach(e=>{e.value.forEach(t=>{this.message.addHeader(e.key,t)})})}_getListHeaders(e){return Object.keys(e).map(t=>({key:"list-"+t.toLowerCase().trim(),value:[].concat(e[t]||[]).map(e=>({prepared:!0,foldLines:!0,value:[].concat(e||[]).map(e=>{if("string"==typeof e&&(e={url:e}),e&&e.url){if("id"===t.toLowerCase().trim()){let t=e.comment||"";return t=n.isPlainText(t)?'"'+t+'"':n.encodeWord(t),(e.comment?t+" ":"")+this._formatListUrl(e.url).replace(/^<[^:]+\/{,2}/,"")}let i=e.comment||"";return n.isPlainText(i)||(i=n.encodeWord(i)),this._formatListUrl(e.url)+(e.comment?" ("+i+")":"")}return""}).filter(e=>e).join(", ")}))}))}_formatListUrl(e){return(e=e.replace(/[\s<]+|[\s>]+/g,""),/^(https?|mailto|ftp):/.test(e))?"<"+e+">":/^[^@]+@[^@]+$/.test(e)?"<mailto:"+e+">":"<http://"+e+">"}}e.exports=s},45437:(e,t,i)=>{"use strict";let a=i(93970),r=i(80860),n=i(65111);e.exports={isPlainText:(e,t)=>!("string"!=typeof e||(t?/[\x00-\x08\x0b\x0c\x0e-\x1f"\u0080-\uFFFF]/:/[\x00-\x08\x0b\x0c\x0e-\x1f\u0080-\uFFFF]/).test(e)),hasLongerLines:(e,t)=>e.length>131072||RegExp("^.{"+(t+1)+",}","m").test(e),encodeWord(e,t,i){let n;t=(t||"Q").toString().toUpperCase().trim().charAt(0);let s="UTF-8";if((i=i||0)&&i>7+s.length&&(i-=7+s.length),"Q"===t?n=r.encode(e).replace(/[^a-z0-9!*+\-/=]/gi,e=>{let t=e.charCodeAt(0).toString(16).toUpperCase();return" "===e?"_":"="+(1===t.length?"0"+t:t)}):"B"===t&&(n="string"==typeof e?e:a.encode(e),i=i?Math.max(3,(i-i%4)/4*3):0),i&&("B"!==t?n:a.encode(e)).length>i){if("Q"===t)n=this.splitMimeEncodedString(n,i).join("?= =?"+s+"?"+t+"?");else{let e=[],r="";for(let t=0,s=n.length;t<s;t++){let o=n.charAt(t);/[\ud83c\ud83d\ud83e]/.test(o)&&t<s-1&&(o+=n.charAt(++t)),Buffer.byteLength(r+o)<=i||0===t?r+=o:(e.push(a.encode(r)),r=o)}r&&e.push(a.encode(r)),n=e.length>1?e.join("?= =?"+s+"?"+t+"?"):e.join("")}}else"B"===t&&(n=a.encode(e));return"=?"+s+"?"+t+"?"+n+("?="===n.substr(-2)?"":"?=")},encodeWords(e,t,i,a){i=i||0;let r=e.match(/(?:^|\s)([^\s]*["\u0080-\uFFFF])/);if(!r)return e;if(a)return this.encodeWord(e,t,i);let n=e.match(/(["\u0080-\uFFFF][^\s]*)[^"\u0080-\uFFFF]*$/);if(!n)return e;let s=r.index+(r[0].match(/[^\s]/)||{index:0}).index,o=n.index+(n[1]||"").length;return(s?e.substr(0,s):"")+this.encodeWord(e.substring(s,o),t||"Q",i)+(o<e.length?e.substr(o):"")},buildHeaderValue(e){let t=[];return Object.keys(e.params||{}).forEach(i=>{let a=e.params[i];!this.isPlainText(a,!0)||a.length>=75?this.buildHeaderParam(i,a,50).forEach(e=>{/[\s"\\;:/=(),<>@[\]?]|^[-']|'$/.test(e.value)&&"*"!==e.key.substr(-1)?t.push(e.key+"="+JSON.stringify(e.value)):t.push(e.key+"="+e.value)}):/[\s'"\\;:/=(),<>@[\]?]|^-/.test(a)?t.push(i+"="+JSON.stringify(a)):t.push(i+"="+a)}),e.value+(t.length?"; "+t.join("; "):"")},buildHeaderParam(e,t,i){let a,r,n,s,o,c,l=[],d="string"==typeof t?t:(t||"").toString(),p=0;if(i=i||50,this.isPlainText(t,!0)){if(d.length<=i)return[{key:e,value:d}];(d=d.replace(RegExp(".{"+i+"}","g"),e=>(l.push({line:e}),"")))&&l.push({line:d})}else{if(/[\uD800-\uDBFF]/.test(d)){for(o=0,a=[],c=d.length;o<c;o++)(n=(r=d.charAt(o)).charCodeAt(0))>=55296&&n<=56319&&o<c-1?(r+=d.charAt(o+1),a.push(r),o++):a.push(r);d=a}s="utf-8''";let e=!0;for(o=0,p=0,c=d.length;o<c;o++){if(r=d[o],e)r=this.safeEncodeURIComponent(r);else if((r=" "===r?r:this.safeEncodeURIComponent(r))!==d[o]){if((this.safeEncodeURIComponent(s)+r).length>=i)l.push({line:s,encoded:e}),s="",p=o-1;else{e=!0,o=p,s="";continue}}(s+r).length>=i?(l.push({line:s,encoded:e}),s=r=" "===d[o]?" ":this.safeEncodeURIComponent(d[o]),r===d[o]?(e=!1,p=o-1):e=!0):s+=r}s&&l.push({line:s,encoded:e})}return l.map((t,i)=>({key:e+"*"+i+(t.encoded?"*":""),value:t.line}))},parseHeaderValue(e){let t,i={value:!1,params:{}},a=!1,r="",n="value",s=!1,o=!1;for(let c=0,l=e.length;c<l;c++)if(t=e.charAt(c),"key"===n){if("="===t){a=r.trim().toLowerCase(),n="value",r="";continue}r+=t}else{if(o)r+=t;else if("\\"===t){o=!0;continue}else s&&t===s?s=!1:s||'"'!==t?s||";"!==t?r+=t:(!1===a?i.value=r.trim():i.params[a]=r.trim(),n="key",r=""):s=t;o=!1}return"value"===n?!1===a?i.value=r.trim():i.params[a]=r.trim():r.trim()&&(i.params[r.trim().toLowerCase()]=""),Object.keys(i.params).forEach(e=>{let t,a,r,n;(r=e.match(/(\*(\d+)|\*(\d+)\*|\*)$/))&&(t=e.substr(0,r.index),a=Number(r[2]||r[3])||0,i.params[t]&&"object"==typeof i.params[t]||(i.params[t]={charset:!1,values:[]}),n=i.params[e],0===a&&"*"===r[0].substr(-1)&&(r=n.match(/^([^']*)'[^']*'(.*)$/))&&(i.params[t].charset=r[1]||"iso-8859-1",n=r[2]),i.params[t].values[a]=n,delete i.params[e])}),Object.keys(i.params).forEach(e=>{let t;i.params[e]&&Array.isArray(i.params[e].values)&&(t=i.params[e].values.map(e=>e||"").join(""),i.params[e].charset?i.params[e]="=?"+i.params[e].charset+"?Q?"+t.replace(/[=?_\s]/g,e=>{let t=e.charCodeAt(0).toString(16);return" "===e?"_":"%"+(t.length<2?"0":"")+t}).replace(/%/g,"=")+"?=":i.params[e]=t)}),i},detectExtension:e=>n.detectExtension(e),detectMimeType:e=>n.detectMimeType(e),foldLines(e,t,i){e=(e||"").toString(),t=t||76;let a=0,r=e.length,n="",s,o;for(;a<r;){if((s=e.substr(a,t)).length<t){n+=s;break}if(o=s.match(/^[^\n\r]*(\r?\n|\r)/)){n+=s=o[0],a+=s.length;continue}(o=s.match(/(\s+)[^\s]*$/))&&o[0].length-(i?(o[1]||"").length:0)<s.length?s=s.substr(0,s.length-(o[0].length-(i?(o[1]||"").length:0))):(o=e.substr(a+s.length).match(/^[^\s]+(\s*)/))&&(s+=o[0].substr(0,o[0].length-(i?0:(o[1]||"").length))),n+=s,(a+=s.length)<r&&(n+="\r\n")}return n},splitMimeEncodedString:(e,t)=>{let i,a,r,n,s=[];for(t=Math.max(t||0,12);e.length;){for((a=(i=e.substr(0,t)).match(/[=][0-9A-F]?$/i))&&(i=i.substr(0,a.index)),n=!1;!n;)n=!0,(a=e.substr(i.length).match(/^[=]([0-9A-F]{2})/i))&&(r=parseInt(a[1],16))<194&&r>127&&(i=i.substr(0,i.length-3),n=!1);i.length&&s.push(i),e=e.substr(i.length)}return s},encodeURICharComponent:e=>{let t="",i=e.charCodeAt(0).toString(16).toUpperCase();if(i.length%2&&(i="0"+i),i.length>2)for(let e=0,a=i.length/2;e<a;e++)t+="%"+i.substr(e,2);else t+="%"+i;return t},safeEncodeURIComponent(e){e=(e||"").toString();try{e=encodeURIComponent(e)}catch(t){return e.replace(/[^\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]+/g,"")}return e.replace(/[\x00-\x1F *'()<>@,;:\\"[\]?=\u007F-\uFFFF]/g,e=>this.encodeURICharComponent(e))}}},65111:(e,t,i)=>{"use strict";let a=i(33873),r="application/octet-stream",n=new Map([["application/acad","dwg"],["application/applixware","aw"],["application/arj","arj"],["application/atom+xml","xml"],["application/atomcat+xml","atomcat"],["application/atomsvc+xml","atomsvc"],["application/base64",["mm","mme"]],["application/binhex","hqx"],["application/binhex4","hqx"],["application/book",["book","boo"]],["application/ccxml+xml,","ccxml"],["application/cdf","cdf"],["application/cdmi-capability","cdmia"],["application/cdmi-container","cdmic"],["application/cdmi-domain","cdmid"],["application/cdmi-object","cdmio"],["application/cdmi-queue","cdmiq"],["application/clariscad","ccad"],["application/commonground","dp"],["application/cu-seeme","cu"],["application/davmount+xml","davmount"],["application/drafting","drw"],["application/dsptype","tsp"],["application/dssc+der","dssc"],["application/dssc+xml","xdssc"],["application/dxf","dxf"],["application/ecmascript",["js","es"]],["application/emma+xml","emma"],["application/envoy","evy"],["application/epub+zip","epub"],["application/excel",["xls","xl","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/exi","exi"],["application/font-tdpfr","pfr"],["application/fractals","fif"],["application/freeloader","frl"],["application/futuresplash","spl"],["application/geo+json","geojson"],["application/gnutar","tgz"],["application/groupwise","vew"],["application/hlp","hlp"],["application/hta","hta"],["application/hyperstudio","stk"],["application/i-deas","unv"],["application/iges",["iges","igs"]],["application/inf","inf"],["application/internet-property-stream","acx"],["application/ipfix","ipfix"],["application/java","class"],["application/java-archive","jar"],["application/java-byte-code","class"],["application/java-serialized-object","ser"],["application/java-vm","class"],["application/javascript","js"],["application/json","json"],["application/lha","lha"],["application/lzx","lzx"],["application/mac-binary","bin"],["application/mac-binhex","hqx"],["application/mac-binhex40","hqx"],["application/mac-compactpro","cpt"],["application/macbinary","bin"],["application/mads+xml","mads"],["application/marc","mrc"],["application/marcxml+xml","mrcx"],["application/mathematica","ma"],["application/mathml+xml","mathml"],["application/mbedlet","mbd"],["application/mbox","mbox"],["application/mcad","mcd"],["application/mediaservercontrol+xml","mscml"],["application/metalink4+xml","meta4"],["application/mets+xml","mets"],["application/mime","aps"],["application/mods+xml","mods"],["application/mp21","m21"],["application/mp4","mp4"],["application/mspowerpoint",["ppt","pot","pps","ppz"]],["application/msword",["doc","dot","w6w","wiz","word"]],["application/mswrite","wri"],["application/mxf","mxf"],["application/netmc","mcp"],["application/octet-stream",["*"]],["application/oda","oda"],["application/oebps-package+xml","opf"],["application/ogg","ogx"],["application/olescript","axs"],["application/onenote","onetoc"],["application/patch-ops-error+xml","xer"],["application/pdf","pdf"],["application/pgp-encrypted","asc"],["application/pgp-signature","pgp"],["application/pics-rules","prf"],["application/pkcs-12","p12"],["application/pkcs-crl","crl"],["application/pkcs10","p10"],["application/pkcs7-mime",["p7c","p7m"]],["application/pkcs7-signature","p7s"],["application/pkcs8","p8"],["application/pkix-attr-cert","ac"],["application/pkix-cert",["cer","crt"]],["application/pkix-crl","crl"],["application/pkix-pkipath","pkipath"],["application/pkixcmp","pki"],["application/plain","text"],["application/pls+xml","pls"],["application/postscript",["ps","ai","eps"]],["application/powerpoint","ppt"],["application/pro_eng",["part","prt"]],["application/prs.cww","cww"],["application/pskc+xml","pskcxml"],["application/rdf+xml","rdf"],["application/reginfo+xml","rif"],["application/relax-ng-compact-syntax","rnc"],["application/resource-lists+xml","rl"],["application/resource-lists-diff+xml","rld"],["application/ringing-tones","rng"],["application/rls-services+xml","rs"],["application/rsd+xml","rsd"],["application/rss+xml","xml"],["application/rtf",["rtf","rtx"]],["application/sbml+xml","sbml"],["application/scvp-cv-request","scq"],["application/scvp-cv-response","scs"],["application/scvp-vp-request","spq"],["application/scvp-vp-response","spp"],["application/sdp","sdp"],["application/sea","sea"],["application/set","set"],["application/set-payment-initiation","setpay"],["application/set-registration-initiation","setreg"],["application/shf+xml","shf"],["application/sla","stl"],["application/smil",["smi","smil"]],["application/smil+xml","smi"],["application/solids","sol"],["application/sounder","sdr"],["application/sparql-query","rq"],["application/sparql-results+xml","srx"],["application/srgs","gram"],["application/srgs+xml","grxml"],["application/sru+xml","sru"],["application/ssml+xml","ssml"],["application/step",["step","stp"]],["application/streamingmedia","ssm"],["application/tei+xml","tei"],["application/thraud+xml","tfi"],["application/timestamped-data","tsd"],["application/toolbook","tbk"],["application/vda","vda"],["application/vnd.3gpp.pic-bw-large","plb"],["application/vnd.3gpp.pic-bw-small","psb"],["application/vnd.3gpp.pic-bw-var","pvb"],["application/vnd.3gpp2.tcap","tcap"],["application/vnd.3m.post-it-notes","pwn"],["application/vnd.accpac.simply.aso","aso"],["application/vnd.accpac.simply.imp","imp"],["application/vnd.acucobol","acu"],["application/vnd.acucorp","atc"],["application/vnd.adobe.air-application-installer-package+zip","air"],["application/vnd.adobe.fxp","fxp"],["application/vnd.adobe.xdp+xml","xdp"],["application/vnd.adobe.xfdf","xfdf"],["application/vnd.ahead.space","ahead"],["application/vnd.airzip.filesecure.azf","azf"],["application/vnd.airzip.filesecure.azs","azs"],["application/vnd.amazon.ebook","azw"],["application/vnd.americandynamics.acc","acc"],["application/vnd.amiga.ami","ami"],["application/vnd.android.package-archive","apk"],["application/vnd.anser-web-certificate-issue-initiation","cii"],["application/vnd.anser-web-funds-transfer-initiation","fti"],["application/vnd.antix.game-component","atx"],["application/vnd.apple.installer+xml","mpkg"],["application/vnd.apple.mpegurl","m3u8"],["application/vnd.aristanetworks.swi","swi"],["application/vnd.audiograph","aep"],["application/vnd.blueice.multipass","mpm"],["application/vnd.bmi","bmi"],["application/vnd.businessobjects","rep"],["application/vnd.chemdraw+xml","cdxml"],["application/vnd.chipnuts.karaoke-mmd","mmd"],["application/vnd.cinderella","cdy"],["application/vnd.claymore","cla"],["application/vnd.cloanto.rp9","rp9"],["application/vnd.clonk.c4group","c4g"],["application/vnd.cluetrust.cartomobile-config","c11amc"],["application/vnd.cluetrust.cartomobile-config-pkg","c11amz"],["application/vnd.commonspace","csp"],["application/vnd.contact.cmsg","cdbcmsg"],["application/vnd.cosmocaller","cmc"],["application/vnd.crick.clicker","clkx"],["application/vnd.crick.clicker.keyboard","clkk"],["application/vnd.crick.clicker.palette","clkp"],["application/vnd.crick.clicker.template","clkt"],["application/vnd.crick.clicker.wordbank","clkw"],["application/vnd.criticaltools.wbs+xml","wbs"],["application/vnd.ctc-posml","pml"],["application/vnd.cups-ppd","ppd"],["application/vnd.curl.car","car"],["application/vnd.curl.pcurl","pcurl"],["application/vnd.data-vision.rdz","rdz"],["application/vnd.denovo.fcselayout-link","fe_launch"],["application/vnd.dna","dna"],["application/vnd.dolby.mlp","mlp"],["application/vnd.dpgraph","dpg"],["application/vnd.dreamfactory","dfac"],["application/vnd.dvb.ait","ait"],["application/vnd.dvb.service","svc"],["application/vnd.dynageo","geo"],["application/vnd.ecowin.chart","mag"],["application/vnd.enliven","nml"],["application/vnd.epson.esf","esf"],["application/vnd.epson.msf","msf"],["application/vnd.epson.quickanime","qam"],["application/vnd.epson.salt","slt"],["application/vnd.epson.ssf","ssf"],["application/vnd.eszigno3+xml","es3"],["application/vnd.ezpix-album","ez2"],["application/vnd.ezpix-package","ez3"],["application/vnd.fdf","fdf"],["application/vnd.fdsn.seed","seed"],["application/vnd.flographit","gph"],["application/vnd.fluxtime.clip","ftc"],["application/vnd.framemaker","fm"],["application/vnd.frogans.fnc","fnc"],["application/vnd.frogans.ltf","ltf"],["application/vnd.fsc.weblaunch","fsc"],["application/vnd.fujitsu.oasys","oas"],["application/vnd.fujitsu.oasys2","oa2"],["application/vnd.fujitsu.oasys3","oa3"],["application/vnd.fujitsu.oasysgp","fg5"],["application/vnd.fujitsu.oasysprs","bh2"],["application/vnd.fujixerox.ddd","ddd"],["application/vnd.fujixerox.docuworks","xdw"],["application/vnd.fujixerox.docuworks.binder","xbd"],["application/vnd.fuzzysheet","fzs"],["application/vnd.genomatix.tuxedo","txd"],["application/vnd.geogebra.file","ggb"],["application/vnd.geogebra.tool","ggt"],["application/vnd.geometry-explorer","gex"],["application/vnd.geonext","gxt"],["application/vnd.geoplan","g2w"],["application/vnd.geospace","g3w"],["application/vnd.gmx","gmx"],["application/vnd.google-earth.kml+xml","kml"],["application/vnd.google-earth.kmz","kmz"],["application/vnd.grafeq","gqf"],["application/vnd.groove-account","gac"],["application/vnd.groove-help","ghf"],["application/vnd.groove-identity-message","gim"],["application/vnd.groove-injector","grv"],["application/vnd.groove-tool-message","gtm"],["application/vnd.groove-tool-template","tpl"],["application/vnd.groove-vcard","vcg"],["application/vnd.hal+xml","hal"],["application/vnd.handheld-entertainment+xml","zmm"],["application/vnd.hbci","hbci"],["application/vnd.hhe.lesson-player","les"],["application/vnd.hp-hpgl",["hgl","hpg","hpgl"]],["application/vnd.hp-hpid","hpid"],["application/vnd.hp-hps","hps"],["application/vnd.hp-jlyt","jlt"],["application/vnd.hp-pcl","pcl"],["application/vnd.hp-pclxl","pclxl"],["application/vnd.hydrostatix.sof-data","sfd-hdstx"],["application/vnd.hzn-3d-crossword","x3d"],["application/vnd.ibm.minipay","mpy"],["application/vnd.ibm.modcap","afp"],["application/vnd.ibm.rights-management","irm"],["application/vnd.ibm.secure-container","sc"],["application/vnd.iccprofile","icc"],["application/vnd.igloader","igl"],["application/vnd.immervision-ivp","ivp"],["application/vnd.immervision-ivu","ivu"],["application/vnd.insors.igm","igm"],["application/vnd.intercon.formnet","xpw"],["application/vnd.intergeo","i2g"],["application/vnd.intu.qbo","qbo"],["application/vnd.intu.qfx","qfx"],["application/vnd.ipunplugged.rcprofile","rcprofile"],["application/vnd.irepository.package+xml","irp"],["application/vnd.is-xpr","xpr"],["application/vnd.isac.fcs","fcs"],["application/vnd.jam","jam"],["application/vnd.jcp.javame.midlet-rms","rms"],["application/vnd.jisp","jisp"],["application/vnd.joost.joda-archive","joda"],["application/vnd.kahootz","ktz"],["application/vnd.kde.karbon","karbon"],["application/vnd.kde.kchart","chrt"],["application/vnd.kde.kformula","kfo"],["application/vnd.kde.kivio","flw"],["application/vnd.kde.kontour","kon"],["application/vnd.kde.kpresenter","kpr"],["application/vnd.kde.kspread","ksp"],["application/vnd.kde.kword","kwd"],["application/vnd.kenameaapp","htke"],["application/vnd.kidspiration","kia"],["application/vnd.kinar","kne"],["application/vnd.koan","skp"],["application/vnd.kodak-descriptor","sse"],["application/vnd.las.las+xml","lasxml"],["application/vnd.llamagraphics.life-balance.desktop","lbd"],["application/vnd.llamagraphics.life-balance.exchange+xml","lbe"],["application/vnd.lotus-1-2-3","123"],["application/vnd.lotus-approach","apr"],["application/vnd.lotus-freelance","pre"],["application/vnd.lotus-notes","nsf"],["application/vnd.lotus-organizer","org"],["application/vnd.lotus-screencam","scm"],["application/vnd.lotus-wordpro","lwp"],["application/vnd.macports.portpkg","portpkg"],["application/vnd.mcd","mcd"],["application/vnd.medcalcdata","mc1"],["application/vnd.mediastation.cdkey","cdkey"],["application/vnd.mfer","mwf"],["application/vnd.mfmp","mfm"],["application/vnd.micrografx.flo","flo"],["application/vnd.micrografx.igx","igx"],["application/vnd.mif","mif"],["application/vnd.mobius.daf","daf"],["application/vnd.mobius.dis","dis"],["application/vnd.mobius.mbk","mbk"],["application/vnd.mobius.mqy","mqy"],["application/vnd.mobius.msl","msl"],["application/vnd.mobius.plc","plc"],["application/vnd.mobius.txf","txf"],["application/vnd.mophun.application","mpn"],["application/vnd.mophun.certificate","mpc"],["application/vnd.mozilla.xul+xml","xul"],["application/vnd.ms-artgalry","cil"],["application/vnd.ms-cab-compressed","cab"],["application/vnd.ms-excel",["xls","xla","xlc","xlm","xlt","xlw","xlb","xll"]],["application/vnd.ms-excel.addin.macroenabled.12","xlam"],["application/vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"],["application/vnd.ms-excel.sheet.macroenabled.12","xlsm"],["application/vnd.ms-excel.template.macroenabled.12","xltm"],["application/vnd.ms-fontobject","eot"],["application/vnd.ms-htmlhelp","chm"],["application/vnd.ms-ims","ims"],["application/vnd.ms-lrm","lrm"],["application/vnd.ms-officetheme","thmx"],["application/vnd.ms-outlook","msg"],["application/vnd.ms-pki.certstore","sst"],["application/vnd.ms-pki.pko","pko"],["application/vnd.ms-pki.seccat","cat"],["application/vnd.ms-pki.stl","stl"],["application/vnd.ms-pkicertstore","sst"],["application/vnd.ms-pkiseccat","cat"],["application/vnd.ms-pkistl","stl"],["application/vnd.ms-powerpoint",["ppt","pot","pps","ppa","pwz"]],["application/vnd.ms-powerpoint.addin.macroenabled.12","ppam"],["application/vnd.ms-powerpoint.presentation.macroenabled.12","pptm"],["application/vnd.ms-powerpoint.slide.macroenabled.12","sldm"],["application/vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"],["application/vnd.ms-powerpoint.template.macroenabled.12","potm"],["application/vnd.ms-project","mpp"],["application/vnd.ms-word.document.macroenabled.12","docm"],["application/vnd.ms-word.template.macroenabled.12","dotm"],["application/vnd.ms-works",["wks","wcm","wdb","wps"]],["application/vnd.ms-wpl","wpl"],["application/vnd.ms-xpsdocument","xps"],["application/vnd.mseq","mseq"],["application/vnd.musician","mus"],["application/vnd.muvee.style","msty"],["application/vnd.neurolanguage.nlu","nlu"],["application/vnd.noblenet-directory","nnd"],["application/vnd.noblenet-sealer","nns"],["application/vnd.noblenet-web","nnw"],["application/vnd.nokia.configuration-message","ncm"],["application/vnd.nokia.n-gage.data","ngdat"],["application/vnd.nokia.n-gage.symbian.install","n-gage"],["application/vnd.nokia.radio-preset","rpst"],["application/vnd.nokia.radio-presets","rpss"],["application/vnd.nokia.ringing-tone","rng"],["application/vnd.novadigm.edm","edm"],["application/vnd.novadigm.edx","edx"],["application/vnd.novadigm.ext","ext"],["application/vnd.oasis.opendocument.chart","odc"],["application/vnd.oasis.opendocument.chart-template","otc"],["application/vnd.oasis.opendocument.database","odb"],["application/vnd.oasis.opendocument.formula","odf"],["application/vnd.oasis.opendocument.formula-template","odft"],["application/vnd.oasis.opendocument.graphics","odg"],["application/vnd.oasis.opendocument.graphics-template","otg"],["application/vnd.oasis.opendocument.image","odi"],["application/vnd.oasis.opendocument.image-template","oti"],["application/vnd.oasis.opendocument.presentation","odp"],["application/vnd.oasis.opendocument.presentation-template","otp"],["application/vnd.oasis.opendocument.spreadsheet","ods"],["application/vnd.oasis.opendocument.spreadsheet-template","ots"],["application/vnd.oasis.opendocument.text","odt"],["application/vnd.oasis.opendocument.text-master","odm"],["application/vnd.oasis.opendocument.text-template","ott"],["application/vnd.oasis.opendocument.text-web","oth"],["application/vnd.olpc-sugar","xo"],["application/vnd.oma.dd2+xml","dd2"],["application/vnd.openofficeorg.extension","oxt"],["application/vnd.openxmlformats-officedocument.presentationml.presentation","pptx"],["application/vnd.openxmlformats-officedocument.presentationml.slide","sldx"],["application/vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"],["application/vnd.openxmlformats-officedocument.presentationml.template","potx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"],["application/vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.document","docx"],["application/vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"],["application/vnd.osgeo.mapguide.package","mgp"],["application/vnd.osgi.dp","dp"],["application/vnd.palm","pdb"],["application/vnd.pawaafile","paw"],["application/vnd.pg.format","str"],["application/vnd.pg.osasli","ei6"],["application/vnd.picsel","efif"],["application/vnd.pmi.widget","wg"],["application/vnd.pocketlearn","plf"],["application/vnd.powerbuilder6","pbd"],["application/vnd.previewsystems.box","box"],["application/vnd.proteus.magazine","mgz"],["application/vnd.publishare-delta-tree","qps"],["application/vnd.pvi.ptid1","ptid"],["application/vnd.quark.quarkxpress","qxd"],["application/vnd.realvnc.bed","bed"],["application/vnd.recordare.musicxml","mxl"],["application/vnd.recordare.musicxml+xml","musicxml"],["application/vnd.rig.cryptonote","cryptonote"],["application/vnd.rim.cod","cod"],["application/vnd.rn-realmedia","rm"],["application/vnd.rn-realplayer","rnx"],["application/vnd.route66.link66+xml","link66"],["application/vnd.sailingtracker.track","st"],["application/vnd.seemail","see"],["application/vnd.sema","sema"],["application/vnd.semd","semd"],["application/vnd.semf","semf"],["application/vnd.shana.informed.formdata","ifm"],["application/vnd.shana.informed.formtemplate","itp"],["application/vnd.shana.informed.interchange","iif"],["application/vnd.shana.informed.package","ipk"],["application/vnd.simtech-mindmapper","twd"],["application/vnd.smaf","mmf"],["application/vnd.smart.teacher","teacher"],["application/vnd.solent.sdkm+xml","sdkm"],["application/vnd.spotfire.dxp","dxp"],["application/vnd.spotfire.sfs","sfs"],["application/vnd.stardivision.calc","sdc"],["application/vnd.stardivision.draw","sda"],["application/vnd.stardivision.impress","sdd"],["application/vnd.stardivision.math","smf"],["application/vnd.stardivision.writer","sdw"],["application/vnd.stardivision.writer-global","sgl"],["application/vnd.stepmania.stepchart","sm"],["application/vnd.sun.xml.calc","sxc"],["application/vnd.sun.xml.calc.template","stc"],["application/vnd.sun.xml.draw","sxd"],["application/vnd.sun.xml.draw.template","std"],["application/vnd.sun.xml.impress","sxi"],["application/vnd.sun.xml.impress.template","sti"],["application/vnd.sun.xml.math","sxm"],["application/vnd.sun.xml.writer","sxw"],["application/vnd.sun.xml.writer.global","sxg"],["application/vnd.sun.xml.writer.template","stw"],["application/vnd.sus-calendar","sus"],["application/vnd.svd","svd"],["application/vnd.symbian.install","sis"],["application/vnd.syncml+xml","xsm"],["application/vnd.syncml.dm+wbxml","bdm"],["application/vnd.syncml.dm+xml","xdm"],["application/vnd.tao.intent-module-archive","tao"],["application/vnd.tmobile-livetv","tmo"],["application/vnd.trid.tpt","tpt"],["application/vnd.triscape.mxs","mxs"],["application/vnd.trueapp","tra"],["application/vnd.ufdl","ufd"],["application/vnd.uiq.theme","utz"],["application/vnd.umajin","umj"],["application/vnd.unity","unityweb"],["application/vnd.uoml+xml","uoml"],["application/vnd.vcx","vcx"],["application/vnd.visio","vsd"],["application/vnd.visionary","vis"],["application/vnd.vsf","vsf"],["application/vnd.wap.wbxml","wbxml"],["application/vnd.wap.wmlc","wmlc"],["application/vnd.wap.wmlscriptc","wmlsc"],["application/vnd.webturbo","wtb"],["application/vnd.wolfram.player","nbp"],["application/vnd.wordperfect","wpd"],["application/vnd.wqd","wqd"],["application/vnd.wt.stf","stf"],["application/vnd.xara",["web","xar"]],["application/vnd.xfdl","xfdl"],["application/vnd.yamaha.hv-dic","hvd"],["application/vnd.yamaha.hv-script","hvs"],["application/vnd.yamaha.hv-voice","hvp"],["application/vnd.yamaha.openscoreformat","osf"],["application/vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"],["application/vnd.yamaha.smaf-audio","saf"],["application/vnd.yamaha.smaf-phrase","spf"],["application/vnd.yellowriver-custom-menu","cmp"],["application/vnd.zul","zir"],["application/vnd.zzazz.deck+xml","zaz"],["application/vocaltec-media-desc","vmd"],["application/vocaltec-media-file","vmf"],["application/voicexml+xml","vxml"],["application/widget","wgt"],["application/winhlp","hlp"],["application/wordperfect",["wp","wp5","wp6","wpd"]],["application/wordperfect6.0",["w60","wp5"]],["application/wordperfect6.1","w61"],["application/wsdl+xml","wsdl"],["application/wspolicy+xml","wspolicy"],["application/x-123","wk1"],["application/x-7z-compressed","7z"],["application/x-abiword","abw"],["application/x-ace-compressed","ace"],["application/x-aim","aim"],["application/x-authorware-bin","aab"],["application/x-authorware-map","aam"],["application/x-authorware-seg","aas"],["application/x-bcpio","bcpio"],["application/x-binary","bin"],["application/x-binhex40","hqx"],["application/x-bittorrent","torrent"],["application/x-bsh",["bsh","sh","shar"]],["application/x-bytecode.elisp","elc"],["application/x-bytecode.python","pyc"],["application/x-bzip","bz"],["application/x-bzip2",["boz","bz2"]],["application/x-cdf","cdf"],["application/x-cdlink","vcd"],["application/x-chat",["cha","chat"]],["application/x-chess-pgn","pgn"],["application/x-cmu-raster","ras"],["application/x-cocoa","cco"],["application/x-compactpro","cpt"],["application/x-compress","z"],["application/x-compressed",["tgz","gz","z","zip"]],["application/x-conference","nsc"],["application/x-cpio","cpio"],["application/x-cpt","cpt"],["application/x-csh","csh"],["application/x-debian-package","deb"],["application/x-deepv","deepv"],["application/x-director",["dir","dcr","dxr"]],["application/x-doom","wad"],["application/x-dtbncx+xml","ncx"],["application/x-dtbook+xml","dtb"],["application/x-dtbresource+xml","res"],["application/x-dvi","dvi"],["application/x-elc","elc"],["application/x-envoy",["env","evy"]],["application/x-esrehber","es"],["application/x-excel",["xls","xla","xlb","xlc","xld","xlk","xll","xlm","xlt","xlv","xlw"]],["application/x-font-bdf","bdf"],["application/x-font-ghostscript","gsf"],["application/x-font-linux-psf","psf"],["application/x-font-otf","otf"],["application/x-font-pcf","pcf"],["application/x-font-snf","snf"],["application/x-font-ttf","ttf"],["application/x-font-type1","pfa"],["application/x-font-woff","woff"],["application/x-frame","mif"],["application/x-freelance","pre"],["application/x-futuresplash","spl"],["application/x-gnumeric","gnumeric"],["application/x-gsp","gsp"],["application/x-gss","gss"],["application/x-gtar","gtar"],["application/x-gzip",["gz","gzip"]],["application/x-hdf","hdf"],["application/x-helpfile",["help","hlp"]],["application/x-httpd-imap","imap"],["application/x-ima","ima"],["application/x-internet-signup",["ins","isp"]],["application/x-internett-signup","ins"],["application/x-inventor","iv"],["application/x-ip2","ip"],["application/x-iphone","iii"],["application/x-java-class","class"],["application/x-java-commerce","jcm"],["application/x-java-jnlp-file","jnlp"],["application/x-javascript","js"],["application/x-koan",["skd","skm","skp","skt"]],["application/x-ksh","ksh"],["application/x-latex",["latex","ltx"]],["application/x-lha","lha"],["application/x-lisp","lsp"],["application/x-livescreen","ivy"],["application/x-lotus","wq1"],["application/x-lotusscreencam","scm"],["application/x-lzh","lzh"],["application/x-lzx","lzx"],["application/x-mac-binhex40","hqx"],["application/x-macbinary","bin"],["application/x-magic-cap-package-1.0","mc$"],["application/x-mathcad","mcd"],["application/x-meme","mm"],["application/x-midi",["mid","midi"]],["application/x-mif","mif"],["application/x-mix-transfer","nix"],["application/x-mobipocket-ebook","prc"],["application/x-mplayer2","asx"],["application/x-ms-application","application"],["application/x-ms-wmd","wmd"],["application/x-ms-wmz","wmz"],["application/x-ms-xbap","xbap"],["application/x-msaccess","mdb"],["application/x-msbinder","obd"],["application/x-mscardfile","crd"],["application/x-msclip","clp"],["application/x-msdownload",["exe","dll"]],["application/x-msexcel",["xls","xla","xlw"]],["application/x-msmediaview",["mvb","m13","m14"]],["application/x-msmetafile","wmf"],["application/x-msmoney","mny"],["application/x-mspowerpoint","ppt"],["application/x-mspublisher","pub"],["application/x-msschedule","scd"],["application/x-msterminal","trm"],["application/x-mswrite","wri"],["application/x-navi-animation","ani"],["application/x-navidoc","nvd"],["application/x-navimap","map"],["application/x-navistyle","stl"],["application/x-netcdf",["cdf","nc"]],["application/x-newton-compatible-pkg","pkg"],["application/x-nokia-9000-communicator-add-on-software","aos"],["application/x-omc","omc"],["application/x-omcdatamaker","omcd"],["application/x-omcregerator","omcr"],["application/x-pagemaker",["pm4","pm5"]],["application/x-pcl","pcl"],["application/x-perfmon",["pma","pmc","pml","pmr","pmw"]],["application/x-pixclscript","plx"],["application/x-pkcs10","p10"],["application/x-pkcs12",["p12","pfx"]],["application/x-pkcs7-certificates",["p7b","spc"]],["application/x-pkcs7-certreqresp","p7r"],["application/x-pkcs7-mime",["p7m","p7c"]],["application/x-pkcs7-signature",["p7s","p7a"]],["application/x-pointplus","css"],["application/x-portable-anymap","pnm"],["application/x-project",["mpc","mpt","mpv","mpx"]],["application/x-qpro","wb1"],["application/x-rar-compressed","rar"],["application/x-rtf","rtf"],["application/x-sdp","sdp"],["application/x-sea","sea"],["application/x-seelogo","sl"],["application/x-sh","sh"],["application/x-shar",["shar","sh"]],["application/x-shockwave-flash","swf"],["application/x-silverlight-app","xap"],["application/x-sit","sit"],["application/x-sprite",["spr","sprite"]],["application/x-stuffit","sit"],["application/x-stuffitx","sitx"],["application/x-sv4cpio","sv4cpio"],["application/x-sv4crc","sv4crc"],["application/x-tar","tar"],["application/x-tbook",["sbk","tbk"]],["application/x-tcl","tcl"],["application/x-tex","tex"],["application/x-tex-tfm","tfm"],["application/x-texinfo",["texi","texinfo"]],["application/x-troff",["roff","t","tr"]],["application/x-troff-man","man"],["application/x-troff-me","me"],["application/x-troff-ms","ms"],["application/x-troff-msvideo","avi"],["application/x-ustar","ustar"],["application/x-visio",["vsd","vst","vsw"]],["application/x-vnd.audioexplosion.mzz","mzz"],["application/x-vnd.ls-xpix","xpix"],["application/x-vrml","vrml"],["application/x-wais-source",["src","wsrc"]],["application/x-winhelp","hlp"],["application/x-wintalk","wtk"],["application/x-world",["wrl","svr"]],["application/x-wpwin","wpd"],["application/x-wri","wri"],["application/x-x509-ca-cert",["cer","crt","der"]],["application/x-x509-user-cert","crt"],["application/x-xfig","fig"],["application/x-xpinstall","xpi"],["application/x-zip-compressed","zip"],["application/xcap-diff+xml","xdf"],["application/xenc+xml","xenc"],["application/xhtml+xml","xhtml"],["application/xml","xml"],["application/xml-dtd","dtd"],["application/xop+xml","xop"],["application/xslt+xml","xslt"],["application/xspf+xml","xspf"],["application/xv+xml","mxml"],["application/yang","yang"],["application/yin+xml","yin"],["application/ynd.ms-pkipko","pko"],["application/zip","zip"],["audio/adpcm","adp"],["audio/aiff",["aiff","aif","aifc"]],["audio/basic",["snd","au"]],["audio/it","it"],["audio/make",["funk","my","pfunk"]],["audio/make.my.funk","pfunk"],["audio/mid",["mid","rmi"]],["audio/midi",["midi","kar","mid"]],["audio/mod","mod"],["audio/mp4","mp4a"],["audio/mpeg",["mpga","mp3","m2a","mp2","mpa","mpg"]],["audio/mpeg3","mp3"],["audio/nspaudio",["la","lma"]],["audio/ogg","oga"],["audio/s3m","s3m"],["audio/tsp-audio","tsi"],["audio/tsplayer","tsp"],["audio/vnd.dece.audio","uva"],["audio/vnd.digital-winds","eol"],["audio/vnd.dra","dra"],["audio/vnd.dts","dts"],["audio/vnd.dts.hd","dtshd"],["audio/vnd.lucent.voice","lvp"],["audio/vnd.ms-playready.media.pya","pya"],["audio/vnd.nuera.ecelp4800","ecelp4800"],["audio/vnd.nuera.ecelp7470","ecelp7470"],["audio/vnd.nuera.ecelp9600","ecelp9600"],["audio/vnd.qcelp","qcp"],["audio/vnd.rip","rip"],["audio/voc","voc"],["audio/voxware","vox"],["audio/wav","wav"],["audio/webm","weba"],["audio/x-aac","aac"],["audio/x-adpcm","snd"],["audio/x-aiff",["aiff","aif","aifc"]],["audio/x-au","au"],["audio/x-gsm",["gsd","gsm"]],["audio/x-jam","jam"],["audio/x-liveaudio","lam"],["audio/x-mid",["mid","midi"]],["audio/x-midi",["midi","mid"]],["audio/x-mod","mod"],["audio/x-mpeg","mp2"],["audio/x-mpeg-3","mp3"],["audio/x-mpegurl","m3u"],["audio/x-mpequrl","m3u"],["audio/x-ms-wax","wax"],["audio/x-ms-wma","wma"],["audio/x-nspaudio",["la","lma"]],["audio/x-pn-realaudio",["ra","ram","rm","rmm","rmp"]],["audio/x-pn-realaudio-plugin",["ra","rmp","rpm"]],["audio/x-psid","sid"],["audio/x-realaudio","ra"],["audio/x-twinvq","vqf"],["audio/x-twinvq-plugin",["vqe","vql"]],["audio/x-vnd.audioexplosion.mjuicemediafile","mjf"],["audio/x-voc","voc"],["audio/x-wav","wav"],["audio/xm","xm"],["chemical/x-cdx","cdx"],["chemical/x-cif","cif"],["chemical/x-cmdf","cmdf"],["chemical/x-cml","cml"],["chemical/x-csml","csml"],["chemical/x-pdb",["pdb","xyz"]],["chemical/x-xyz","xyz"],["drawing/x-dwf","dwf"],["i-world/i-vrml","ivr"],["image/bmp",["bmp","bm"]],["image/cgm","cgm"],["image/cis-cod","cod"],["image/cmu-raster",["ras","rast"]],["image/fif","fif"],["image/florian",["flo","turbot"]],["image/g3fax","g3"],["image/gif","gif"],["image/ief",["ief","iefs"]],["image/jpeg",["jpeg","jpe","jpg","jfif","jfif-tbnl"]],["image/jutvision","jut"],["image/ktx","ktx"],["image/naplps",["nap","naplps"]],["image/pict",["pic","pict"]],["image/pipeg","jfif"],["image/pjpeg",["jfif","jpe","jpeg","jpg"]],["image/png",["png","x-png"]],["image/prs.btif","btif"],["image/svg+xml","svg"],["image/tiff",["tif","tiff"]],["image/vasa","mcf"],["image/vnd.adobe.photoshop","psd"],["image/vnd.dece.graphic","uvi"],["image/vnd.djvu","djvu"],["image/vnd.dvb.subtitle","sub"],["image/vnd.dwg",["dwg","dxf","svf"]],["image/vnd.dxf","dxf"],["image/vnd.fastbidsheet","fbs"],["image/vnd.fpx","fpx"],["image/vnd.fst","fst"],["image/vnd.fujixerox.edmics-mmr","mmr"],["image/vnd.fujixerox.edmics-rlc","rlc"],["image/vnd.ms-modi","mdi"],["image/vnd.net-fpx",["fpx","npx"]],["image/vnd.rn-realflash","rf"],["image/vnd.rn-realpix","rp"],["image/vnd.wap.wbmp","wbmp"],["image/vnd.xiff","xif"],["image/webp","webp"],["image/x-cmu-raster","ras"],["image/x-cmx","cmx"],["image/x-dwg",["dwg","dxf","svf"]],["image/x-freehand","fh"],["image/x-icon","ico"],["image/x-jg","art"],["image/x-jps","jps"],["image/x-niff",["niff","nif"]],["image/x-pcx","pcx"],["image/x-pict",["pct","pic"]],["image/x-portable-anymap","pnm"],["image/x-portable-bitmap","pbm"],["image/x-portable-graymap","pgm"],["image/x-portable-greymap","pgm"],["image/x-portable-pixmap","ppm"],["image/x-quicktime",["qif","qti","qtif"]],["image/x-rgb","rgb"],["image/x-tiff",["tif","tiff"]],["image/x-windows-bmp","bmp"],["image/x-xbitmap","xbm"],["image/x-xbm","xbm"],["image/x-xpixmap",["xpm","pm"]],["image/x-xwd","xwd"],["image/x-xwindowdump","xwd"],["image/xbm","xbm"],["image/xpm","xpm"],["message/rfc822",["eml","mht","mhtml","nws","mime"]],["model/iges",["iges","igs"]],["model/mesh","msh"],["model/vnd.collada+xml","dae"],["model/vnd.dwf","dwf"],["model/vnd.gdl","gdl"],["model/vnd.gtw","gtw"],["model/vnd.mts","mts"],["model/vnd.vtu","vtu"],["model/vrml",["vrml","wrl","wrz"]],["model/x-pov","pov"],["multipart/x-gzip","gzip"],["multipart/x-ustar","ustar"],["multipart/x-zip","zip"],["music/crescendo",["mid","midi"]],["music/x-karaoke","kar"],["paleovu/x-pv","pvu"],["text/asp","asp"],["text/calendar","ics"],["text/css","css"],["text/csv","csv"],["text/ecmascript","js"],["text/h323","323"],["text/html",["html","htm","stm","acgi","htmls","htx","shtml"]],["text/iuls","uls"],["text/javascript","js"],["text/mcf","mcf"],["text/n3","n3"],["text/pascal","pas"],["text/plain",["txt","bas","c","h","c++","cc","com","conf","cxx","def","f","f90","for","g","hh","idc","jav","java","list","log","lst","m","mar","pl","sdml","text"]],["text/plain-bas","par"],["text/prs.lines.tag","dsc"],["text/richtext",["rtx","rt","rtf"]],["text/scriplet","wsc"],["text/scriptlet","sct"],["text/sgml",["sgm","sgml"]],["text/tab-separated-values","tsv"],["text/troff","t"],["text/turtle","ttl"],["text/uri-list",["uni","unis","uri","uris"]],["text/vnd.abc","abc"],["text/vnd.curl","curl"],["text/vnd.curl.dcurl","dcurl"],["text/vnd.curl.mcurl","mcurl"],["text/vnd.curl.scurl","scurl"],["text/vnd.fly","fly"],["text/vnd.fmi.flexstor","flx"],["text/vnd.graphviz","gv"],["text/vnd.in3d.3dml","3dml"],["text/vnd.in3d.spot","spot"],["text/vnd.rn-realtext","rt"],["text/vnd.sun.j2me.app-descriptor","jad"],["text/vnd.wap.wml","wml"],["text/vnd.wap.wmlscript","wmls"],["text/webviewhtml","htt"],["text/x-asm",["asm","s"]],["text/x-audiosoft-intra","aip"],["text/x-c",["c","cc","cpp"]],["text/x-component","htc"],["text/x-fortran",["for","f","f77","f90"]],["text/x-h",["h","hh"]],["text/x-java-source",["java","jav"]],["text/x-java-source,java","java"],["text/x-la-asf","lsx"],["text/x-m","m"],["text/x-pascal","p"],["text/x-script","hlb"],["text/x-script.csh","csh"],["text/x-script.elisp","el"],["text/x-script.guile","scm"],["text/x-script.ksh","ksh"],["text/x-script.lisp","lsp"],["text/x-script.perl","pl"],["text/x-script.perl-module","pm"],["text/x-script.phyton","py"],["text/x-script.rexx","rexx"],["text/x-script.scheme","scm"],["text/x-script.sh","sh"],["text/x-script.tcl","tcl"],["text/x-script.tcsh","tcsh"],["text/x-script.zsh","zsh"],["text/x-server-parsed-html",["shtml","ssi"]],["text/x-setext","etx"],["text/x-sgml",["sgm","sgml"]],["text/x-speech",["spc","talk"]],["text/x-uil","uil"],["text/x-uuencode",["uu","uue"]],["text/x-vcalendar","vcs"],["text/x-vcard","vcf"],["text/xml","xml"],["video/3gpp","3gp"],["video/3gpp2","3g2"],["video/animaflex","afl"],["video/avi","avi"],["video/avs-video","avs"],["video/dl","dl"],["video/fli","fli"],["video/gl","gl"],["video/h261","h261"],["video/h263","h263"],["video/h264","h264"],["video/jpeg","jpgv"],["video/jpm","jpm"],["video/mj2","mj2"],["video/mp4","mp4"],["video/mpeg",["mpeg","mp2","mpa","mpe","mpg","mpv2","m1v","m2v","mp3"]],["video/msvideo","avi"],["video/ogg","ogv"],["video/quicktime",["mov","qt","moov"]],["video/vdo","vdo"],["video/vivo",["viv","vivo"]],["video/vnd.dece.hd","uvh"],["video/vnd.dece.mobile","uvm"],["video/vnd.dece.pd","uvp"],["video/vnd.dece.sd","uvs"],["video/vnd.dece.video","uvv"],["video/vnd.fvt","fvt"],["video/vnd.mpegurl","mxu"],["video/vnd.ms-playready.media.pyv","pyv"],["video/vnd.rn-realvideo","rv"],["video/vnd.uvvu.mp4","uvu"],["video/vnd.vivo",["viv","vivo"]],["video/vosaic","vos"],["video/webm","webm"],["video/x-amt-demorun","xdr"],["video/x-amt-showrun","xsr"],["video/x-atomic3d-feature","fmf"],["video/x-dl","dl"],["video/x-dv",["dif","dv"]],["video/x-f4v","f4v"],["video/x-fli","fli"],["video/x-flv","flv"],["video/x-gl","gl"],["video/x-isvideo","isu"],["video/x-la-asf",["lsf","lsx"]],["video/x-m4v","m4v"],["video/x-motion-jpeg","mjpg"],["video/x-mpeg",["mp3","mp2"]],["video/x-mpeq2a","mp2"],["video/x-ms-asf",["asf","asr","asx"]],["video/x-ms-asf-plugin","asx"],["video/x-ms-wm","wm"],["video/x-ms-wmv","wmv"],["video/x-ms-wmx","wmx"],["video/x-ms-wvx","wvx"],["video/x-msvideo","avi"],["video/x-qtc","qtc"],["video/x-scm","scm"],["video/x-sgi-movie",["movie","mv"]],["windows/metafile","wmf"],["www/mime","mime"],["x-conference/x-cooltalk","ice"],["x-music/x-midi",["mid","midi"]],["x-world/x-3dmf",["3dm","3dmf","qd3","qd3d"]],["x-world/x-svr","svr"],["x-world/x-vrml",["flr","vrml","wrl","wrz","xaf","xof"]],["x-world/x-vrt","vrt"],["xgl/drawing","xgz"],["xgl/movie","xmz"]]),s=new Map([["123","application/vnd.lotus-1-2-3"],["323","text/h323"],["*","application/octet-stream"],["3dm","x-world/x-3dmf"],["3dmf","x-world/x-3dmf"],["3dml","text/vnd.in3d.3dml"],["3g2","video/3gpp2"],["3gp","video/3gpp"],["7z","application/x-7z-compressed"],["a","application/octet-stream"],["aab","application/x-authorware-bin"],["aac","audio/x-aac"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abc","text/vnd.abc"],["abw","application/x-abiword"],["ac","application/pkix-attr-cert"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acgi","text/html"],["acu","application/vnd.acucobol"],["acx","application/internet-property-stream"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afl","video/animaflex"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/postscript"],["aif",["audio/aiff","audio/x-aiff"]],["aifc",["audio/aiff","audio/x-aiff"]],["aiff",["audio/aiff","audio/x-aiff"]],["aim","application/x-aim"],["aip","text/x-audiosoft-intra"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["ani","application/x-navi-animation"],["aos","application/x-nokia-9000-communicator-add-on-software"],["apk","application/vnd.android.package-archive"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["aps","application/mime"],["arc","application/octet-stream"],["arj",["application/arj","application/octet-stream"]],["art","image/x-jg"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asp","text/asp"],["asr","video/x-ms-asf"],["asx",["video/x-ms-asf","application/x-mplayer2","video/x-ms-asf-plugin"]],["atc","application/vnd.acucorp"],["atomcat","application/atomcat+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au",["audio/basic","audio/x-au"]],["avi",["video/avi","video/msvideo","application/x-troff-msvideo","video/x-msvideo"]],["avs","video/avs-video"],["aw","application/applixware"],["axs","application/olescript"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azw","application/vnd.amazon.ebook"],["bas","text/plain"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin",["application/octet-stream","application/mac-binary","application/macbinary","application/x-macbinary","application/x-binary"]],["bm","image/bmp"],["bmi","application/vnd.bmi"],["bmp",["image/bmp","image/x-windows-bmp"]],["boo","application/book"],["book","application/book"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bsh","application/x-bsh"],["btif","image/prs.btif"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c",["text/plain","text/x-c"]],["c++","text/plain"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["c4g","application/vnd.clonk.c4group"],["cab","application/vnd.ms-cab-compressed"],["car","application/vnd.curl.car"],["cat",["application/vnd.ms-pkiseccat","application/vnd.ms-pki.seccat"]],["cc",["text/plain","text/x-c"]],["ccad","application/clariscad"],["cco","application/x-cocoa"],["ccxml","application/ccxml+xml,"],["cdbcmsg","application/vnd.contact.cmsg"],["cdf",["application/cdf","application/x-cdf","application/x-netcdf"]],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer",["application/pkix-cert","application/x-x509-ca-cert"]],["cgm","image/cgm"],["cha","application/x-chat"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cla","application/vnd.claymore"],["class",["application/octet-stream","application/java","application/java-byte-code","application/java-vm","application/x-java-class"]],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod",["image/cis-cod","application/vnd.rim.cod"]],["com",["application/octet-stream","text/plain"]],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt",["application/mac-compactpro","application/x-compactpro","application/x-cpt"]],["crd","application/x-mscardfile"],["crl",["application/pkix-crl","application/pkcs-crl"]],["crt",["application/pkix-cert","application/x-x509-user-cert","application/x-x509-ca-cert"]],["cryptonote","application/vnd.rig.cryptonote"],["csh",["text/x-script.csh","application/x-csh"]],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["css",["text/css","application/x-pointplus"]],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxx","text/plain"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["davmount","application/davmount+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["deb","application/x-debian-package"],["deepv","application/x-deepv"],["def","text/plain"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dif","video/x-dv"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["djvu","image/vnd.djvu"],["dl",["video/dl","video/x-dl"]],["dll","application/x-msdownload"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.document.macroenabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroenabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp",["application/commonground","application/vnd.osgi.dp"]],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drw","application/drafting"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dv","video/x-dv"],["dvi","application/x-dvi"],["dwf",["model/vnd.dwf","drawing/x-dwf"]],["dwg",["application/acad","image/vnd.dwg","image/x-dwg"]],["dxf",["application/dxf","image/vnd.dwg","image/vnd.dxf","image/x-dwg"]],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["el","text/x-script.elisp"],["elc",["application/x-elc","application/x-bytecode.elisp"]],["eml","message/rfc822"],["emma","application/emma+xml"],["env","application/x-envoy"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es",["application/ecmascript","application/x-esrehber"]],["es3","application/vnd.eszigno3+xml"],["esf","application/vnd.epson.esf"],["etx","text/x-setext"],["evy",["application/envoy","application/x-envoy"]],["exe",["application/octet-stream","application/x-msdownload"]],["exi","application/exi"],["ext","application/vnd.novadigm.ext"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f",["text/plain","text/x-fortran"]],["f4v","video/x-f4v"],["f77","text/x-fortran"],["f90",["text/plain","text/x-fortran"]],["fbs","image/vnd.fastbidsheet"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fh","image/x-freehand"],["fif",["application/fractals","image/fif"]],["fig","application/x-xfig"],["fli",["video/fli","video/x-fli"]],["flo",["image/florian","application/vnd.micrografx.flo"]],["flr","x-world/x-vrml"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fmf","video/x-atomic3d-feature"],["fnc","application/vnd.frogans.fnc"],["for",["text/plain","text/x-fortran"]],["fpx",["image/vnd.fpx","image/vnd.net-fpx"]],["frl","application/freeloader"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["funk","audio/make"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g","text/plain"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gdl","model/vnd.gdl"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["gl",["video/gl","video/x-gl"]],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gph","application/vnd.flographit"],["gqf","application/vnd.grafeq"],["gram","application/srgs"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsd","audio/x-gsm"],["gsf","application/x-font-ghostscript"],["gsm","audio/x-gsm"],["gsp","application/x-gsp"],["gss","application/x-gss"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxt","application/vnd.geonext"],["gz",["application/x-gzip","application/x-compressed"]],["gzip",["multipart/x-gzip","application/x-gzip"]],["h",["text/plain","text/x-h"]],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hdf","application/x-hdf"],["help","application/x-helpfile"],["hgl","application/vnd.hp-hpgl"],["hh",["text/plain","text/x-h"]],["hlb","text/x-script"],["hlp",["application/winhlp","application/hlp","application/x-helpfile","application/x-winhelp"]],["hpg","application/vnd.hp-hpgl"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx",["application/mac-binhex40","application/binhex","application/binhex4","application/mac-binhex","application/x-binhex40","application/x-mac-binhex40"]],["hta","application/hta"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["htmls","text/html"],["htt","text/webviewhtml"],["htx","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["ico","image/x-icon"],["ics","text/calendar"],["idc","text/plain"],["ief","image/ief"],["iefs","image/ief"],["ifm","application/vnd.shana.informed.formdata"],["iges",["application/iges","model/iges"]],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs",["application/iges","model/iges"]],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["iii","application/x-iphone"],["ima","application/x-ima"],["imap","application/x-httpd-imap"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["inf","application/inf"],["ins",["application/x-internet-signup","application/x-internett-signup"]],["ip","application/x-ip2"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["isp","application/x-internet-signup"],["isu","video/x-isvideo"],["it","audio/it"],["itp","application/vnd.shana.informed.formtemplate"],["iv","application/x-inventor"],["ivp","application/vnd.immervision-ivp"],["ivr","i-world/i-vrml"],["ivu","application/vnd.immervision-ivu"],["ivy","application/x-livescreen"],["jad","text/vnd.sun.j2me.app-descriptor"],["jam",["application/vnd.jam","audio/x-jam"]],["jar","application/java-archive"],["jav",["text/plain","text/x-java-source"]],["java",["text/plain","text/x-java-source,java","text/x-java-source"]],["jcm","application/x-java-commerce"],["jfif",["image/pipeg","image/jpeg","image/pjpeg"]],["jfif-tbnl","image/jpeg"],["jisp","application/vnd.jisp"],["jlt","application/vnd.hp-jlyt"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jpe",["image/jpeg","image/pjpeg"]],["jpeg",["image/jpeg","image/pjpeg"]],["jpg",["image/jpeg","image/pjpeg"]],["jpgv","video/jpeg"],["jpm","video/jpm"],["jps","image/x-jps"],["js",["application/javascript","application/ecmascript","text/javascript","text/ecmascript","application/x-javascript"]],["json","application/json"],["jut","image/jutvision"],["kar",["audio/midi","music/x-karaoke"]],["karbon","application/vnd.kde.karbon"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["ksh",["application/x-ksh","text/x-script.ksh"]],["ksp","application/vnd.kde.kspread"],["ktx","image/ktx"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["la",["audio/nspaudio","audio/x-nspaudio"]],["lam","audio/x-liveaudio"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["lha",["application/octet-stream","application/lha","application/x-lha"]],["lhx","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["lma",["audio/nspaudio","audio/x-nspaudio"]],["log","text/plain"],["lrm","application/vnd.ms-lrm"],["lsf","video/x-la-asf"],["lsp",["application/x-lisp","text/x-script.lisp"]],["lst","text/plain"],["lsx",["video/x-la-asf","text/x-la-asf"]],["ltf","application/vnd.frogans.ltf"],["ltx","application/x-latex"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh",["application/octet-stream","application/x-lzh"]],["lzx",["application/lzx","application/octet-stream","application/x-lzx"]],["m",["text/plain","text/x-m"]],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m1v","video/mpeg"],["m21","application/mp21"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3u",["audio/x-mpegurl","audio/x-mpequrl"]],["m3u8","application/vnd.apple.mpegurl"],["m4v","video/x-m4v"],["ma","application/mathematica"],["mads","application/mads+xml"],["mag","application/vnd.ecowin.chart"],["man","application/x-troff-man"],["map","application/x-navimap"],["mar","text/plain"],["mathml","application/mathml+xml"],["mbd","application/mbedlet"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc$","application/x-magic-cap-package-1.0"],["mc1","application/vnd.medcalcdata"],["mcd",["application/mcad","application/vnd.mcd","application/x-mathcad"]],["mcf",["image/vasa","text/mcf"]],["mcp","application/netmc"],["mcurl","text/vnd.curl.mcurl"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["me","application/x-troff-me"],["meta4","application/metalink4+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mht","message/rfc822"],["mhtml","message/rfc822"],["mid",["audio/mid","audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["midi",["audio/midi","music/crescendo","x-music/x-midi","audio/x-midi","application/x-midi","audio/x-mid"]],["mif",["application/vnd.mif","application/x-mif","application/x-frame"]],["mime",["message/rfc822","www/mime"]],["mj2","video/mj2"],["mjf","audio/x-vnd.audioexplosion.mjuicemediafile"],["mjpg","video/x-motion-jpeg"],["mlp","application/vnd.dolby.mlp"],["mm",["application/base64","application/x-meme"]],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mme","application/base64"],["mmf","application/vnd.smaf"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mny","application/x-msmoney"],["mod",["audio/mod","audio/x-mod"]],["mods","application/mods+xml"],["moov","video/quicktime"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2",["video/mpeg","audio/mpeg","video/x-mpeg","audio/x-mpeg","video/x-mpeq2a"]],["mp3",["audio/mpeg","audio/mpeg3","video/mpeg","audio/x-mpeg-3","video/x-mpeg"]],["mp4",["video/mp4","application/mp4"]],["mp4a","audio/mp4"],["mpa",["video/mpeg","audio/mpeg"]],["mpc",["application/vnd.mophun.certificate","application/x-project"]],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg",["video/mpeg","audio/mpeg"]],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/x-project"],["mpv","application/x-project"],["mpv2","video/mpeg"],["mpx","application/x-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","application/x-troff-ms"],["mscml","application/mediaservercontrol+xml"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msl","application/vnd.mobius.msl"],["msty","application/vnd.muvee.style"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musicxml","application/vnd.recordare.musicxml+xml"],["mv","video/x-sgi-movie"],["mvb","application/x-msmediaview"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["my","audio/make"],["mzz","application/x-vnd.audioexplosion.mzz"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nap","image/naplps"],["naplps","image/naplps"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncm","application/vnd.nokia.configuration-message"],["ncx","application/x-dtbncx+xml"],["ngdat","application/vnd.nokia.n-gage.data"],["nif","image/x-niff"],["niff","image/x-niff"],["nix","application/x-mix-transfer"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nvd","application/x-navidoc"],["nws","message/rfc822"],["o","application/octet-stream"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omc","application/x-omc"],["omcd","application/x-omcdatamaker"],["omcr","application/x-omcregerator"],["onetoc","application/onenote"],["opf","application/oebps-package+xml"],["org","application/vnd.lotus-organizer"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","application/x-font-otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p10",["application/pkcs10","application/x-pkcs10"]],["p12",["application/pkcs-12","application/x-pkcs12"]],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7m",["application/pkcs7-mime","application/x-pkcs7-mime"]],["p7r","application/x-pkcs7-certreqresp"],["p7s",["application/pkcs7-signature","application/x-pkcs7-signature"]],["p8","application/pkcs8"],["par","text/plain-bas"],["part","application/pro_eng"],["pas","text/pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcf","application/x-font-pcf"],["pcl",["application/vnd.hp-pcl","application/x-pcl"]],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb",["application/vnd.palm","chemical/x-pdb"]],["pdf","application/pdf"],["pfa","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfunk",["audio/make","audio/make.my.funk"]],["pfx","application/x-pkcs12"],["pgm",["image/x-portable-graymap","image/x-portable-greymap"]],["pgn","application/x-chess-pgn"],["pgp","application/pgp-signature"],["pic",["image/pict","image/x-pict"]],["pict","image/pict"],["pkg","application/x-newton-compatible-pkg"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pko",["application/ynd.ms-pkipko","application/vnd.ms-pki.pko"]],["pl",["text/plain","text/x-script.perl"]],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["plx","application/x-pixclscript"],["pm",["text/x-script.perl-module","image/x-xpixmap"]],["pm4","application/x-pagemaker"],["pm5","application/x-pagemaker"],["pma","application/x-perfmon"],["pmc","application/x-perfmon"],["pml",["application/vnd.ctc-posml","application/x-perfmon"]],["pmr","application/x-perfmon"],["pmw","application/x-perfmon"],["png","image/png"],["pnm",["application/x-portable-anymap","image/x-portable-anymap"]],["portpkg","application/vnd.macports.portpkg"],["pot",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["potm","application/vnd.ms-powerpoint.template.macroenabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["pov","model/x-pov"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroenabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps",["application/vnd.ms-powerpoint","application/mspowerpoint"]],["ppsm","application/vnd.ms-powerpoint.slideshow.macroenabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt",["application/vnd.ms-powerpoint","application/mspowerpoint","application/powerpoint","application/x-mspowerpoint"]],["pptm","application/vnd.ms-powerpoint.presentation.macroenabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["ppz","application/mspowerpoint"],["prc","application/x-mobipocket-ebook"],["pre",["application/vnd.lotus-freelance","application/x-freelance"]],["prf","application/pics-rules"],["prt","application/pro_eng"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd",["application/octet-stream","image/vnd.adobe.photoshop"]],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pvu","paleovu/x-pv"],["pwn","application/vnd.3m.post-it-notes"],["pwz","application/vnd.ms-powerpoint"],["py","text/x-script.phyton"],["pya","audio/vnd.ms-playready.media.pya"],["pyc","application/x-bytecode.python"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qcp","audio/vnd.qcelp"],["qd3","x-world/x-3dmf"],["qd3d","x-world/x-3dmf"],["qfx","application/vnd.intu.qfx"],["qif","image/x-quicktime"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qtc","video/x-qtc"],["qti","image/x-quicktime"],["qtif","image/x-quicktime"],["qxd","application/vnd.quark.quarkxpress"],["ra",["audio/x-realaudio","audio/x-pn-realaudio","audio/x-pn-realaudio-plugin"]],["ram","audio/x-pn-realaudio"],["rar","application/x-rar-compressed"],["ras",["image/cmu-raster","application/x-cmu-raster","image/x-cmu-raster"]],["rast","image/cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rexx","text/x-script.rexx"],["rf","image/vnd.rn-realflash"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm",["application/vnd.rn-realmedia","audio/x-pn-realaudio"]],["rmi","audio/mid"],["rmm","audio/x-pn-realaudio"],["rmp",["audio/x-pn-realaudio-plugin","audio/x-pn-realaudio"]],["rms","application/vnd.jcp.javame.midlet-rms"],["rnc","application/relax-ng-compact-syntax"],["rng",["application/ringing-tones","application/vnd.nokia.ringing-tone"]],["rnx","application/vnd.rn-realplayer"],["roff","application/x-troff"],["rp","image/vnd.rn-realpix"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsd","application/rsd+xml"],["rt",["text/richtext","text/vnd.rn-realtext"]],["rtf",["application/rtf","text/richtext","application/x-rtf"]],["rtx",["text/richtext","application/rtf"]],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["saveme","application/octet-stream"],["sbk","application/x-tbook"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm",["application/vnd.lotus-screencam","video/x-scm","text/x-script.guile","application/x-lotusscreencam","text/x-script.scheme"]],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["sct","text/scriptlet"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkm","application/vnd.solent.sdkm+xml"],["sdml","text/plain"],["sdp",["application/sdp","application/x-sdp"]],["sdr","application/sounder"],["sdw","application/vnd.stardivision.writer"],["sea",["application/sea","application/x-sea"]],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["ser","application/java-serialized-object"],["set","application/set"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sgl","application/vnd.stardivision.writer-global"],["sgm",["text/sgml","text/x-sgml"]],["sgml",["text/sgml","text/x-sgml"]],["sh",["application/x-shar","application/x-bsh","application/x-sh","text/x-script.sh"]],["shar",["application/x-bsh","application/x-shar"]],["shf","application/shf+xml"],["shtml",["text/html","text/x-server-parsed-html"]],["sid","audio/x-psid"],["sis","application/vnd.symbian.install"],["sit",["application/x-stuffit","application/x-sit"]],["sitx","application/x-stuffitx"],["skd","application/x-koan"],["skm","application/x-koan"],["skp",["application/vnd.koan","application/x-koan"]],["skt","application/x-koan"],["sl","application/x-seelogo"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi",["application/smil","application/smil+xml"]],["smil","application/smil"],["snd",["audio/basic","audio/x-adpcm"]],["snf","application/x-font-snf"],["sol","application/solids"],["spc",["text/x-speech","application/x-pkcs7-certificates"]],["spf","application/vnd.yamaha.smaf-phrase"],["spl",["application/futuresplash","application/x-futuresplash"]],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spr","application/x-sprite"],["sprite","application/x-sprite"],["src","application/x-wais-source"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssi","text/x-server-parsed-html"],["ssm","application/streamingmedia"],["ssml","application/ssml+xml"],["sst",["application/vnd.ms-pkicertstore","application/vnd.ms-pki.certstore"]],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["step","application/step"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl",["application/vnd.ms-pkistl","application/sla","application/vnd.ms-pki.stl","application/x-navistyle"]],["stm","text/html"],["stp","application/step"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["sub","image/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svf",["image/vnd.dwg","image/x-dwg"]],["svg","image/svg+xml"],["svr",["x-world/x-svr","application/x-world"]],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t",["text/troff","application/x-troff"]],["talk","text/x-speech"],["tao","application/vnd.tao.intent-module-archive"],["tar","application/x-tar"],["tbk",["application/toolbook","application/x-tbook"]],["tcap","application/vnd.3gpp2.tcap"],["tcl",["text/x-script.tcl","application/x-tcl"]],["tcsh","text/x-script.tcsh"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text",["application/plain","text/plain"]],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tgz",["application/gnutar","application/x-compressed"]],["thmx","application/vnd.ms-officetheme"],["tif",["image/tiff","image/x-tiff"]],["tiff",["image/tiff","image/x-tiff"]],["tmo","application/vnd.tmobile-livetv"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","application/x-troff"],["tra","application/vnd.trueapp"],["trm","application/x-msterminal"],["tsd","application/timestamped-data"],["tsi","audio/tsp-audio"],["tsp",["application/dsptype","audio/tsplayer"]],["tsv","text/tab-separated-values"],["ttf","application/x-font-ttf"],["ttl","text/turtle"],["turbot","image/florian"],["twd","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["ufd","application/vnd.ufdl"],["uil","text/x-uil"],["uls","text/iuls"],["umj","application/vnd.umajin"],["uni","text/uri-list"],["unis","text/uri-list"],["unityweb","application/vnd.unity"],["unv","application/i-deas"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["ustar",["application/x-ustar","multipart/x-ustar"]],["utz","application/vnd.uiq.theme"],["uu",["application/octet-stream","text/x-uuencode"]],["uue","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vda","application/vda"],["vdo","video/vdo"],["vew","application/groupwise"],["vis","application/vnd.visionary"],["viv",["video/vivo","video/vnd.vivo"]],["vivo",["video/vivo","video/vnd.vivo"]],["vmd","application/vocaltec-media-desc"],["vmf","application/vocaltec-media-file"],["voc",["audio/voc","audio/x-voc"]],["vos","video/vosaic"],["vox","audio/voxware"],["vqe","audio/x-twinvq-plugin"],["vqf","audio/x-twinvq"],["vql","audio/x-twinvq-plugin"],["vrml",["model/vrml","x-world/x-vrml","application/x-vrml"]],["vrt","x-world/x-vrt"],["vsd",["application/vnd.visio","application/x-visio"]],["vsf","application/vnd.vsf"],["vst","application/x-visio"],["vsw","application/x-visio"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w60","application/wordperfect6.0"],["w61","application/wordperfect6.1"],["w6w","application/msword"],["wad","application/x-doom"],["wav",["audio/wav","audio/x-wav"]],["wax","audio/x-ms-wax"],["wb1","application/x-qpro"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/vnd.wap.wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["web","application/vnd.xara"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wiz","application/msword"],["wk1","application/x-123"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf",["windows/metafile","application/x-msmetafile"]],["wml","text/vnd.wap.wml"],["wmlc","application/vnd.wap.wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-ms-wmz"],["woff","application/x-font-woff"],["word","application/msword"],["wp","application/wordperfect"],["wp5",["application/wordperfect","application/wordperfect6.0"]],["wp6","application/wordperfect"],["wpd",["application/wordperfect","application/vnd.wordperfect","application/x-wpwin"]],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wq1","application/x-lotus"],["wqd","application/vnd.wqd"],["wri",["application/mswrite","application/x-wri","application/x-mswrite"]],["wrl",["model/vrml","x-world/x-vrml","application/x-world"]],["wrz",["model/vrml","x-world/x-vrml"]],["wsc","text/scriplet"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wsrc","application/x-wais-source"],["wtb","application/vnd.webturbo"],["wtk","application/x-wintalk"],["wvx","video/x-ms-wvx"],["x-png","image/png"],["x3d","application/vnd.hzn-3d-crossword"],["xaf","x-world/x-vrml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm",["image/xbm","image/x-xbm","image/x-xbitmap"]],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdr","video/x-amt-demorun"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xgz","xgl/drawing"],["xhtml","application/xhtml+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlam","application/vnd.ms-excel.addin.macroenabled.12"],["xlb",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlc",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xld",["application/excel","application/x-excel"]],["xlk",["application/excel","application/x-excel"]],["xll",["application/excel","application/vnd.ms-excel","application/x-excel"]],["xlm",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xls",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xlsb","application/vnd.ms-excel.sheet.binary.macroenabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroenabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt",["application/vnd.ms-excel","application/excel","application/x-excel"]],["xltm","application/vnd.ms-excel.template.macroenabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlv",["application/excel","application/x-excel"]],["xlw",["application/vnd.ms-excel","application/excel","application/x-msexcel","application/x-excel"]],["xm","audio/xm"],["xml",["application/xml","text/xml","application/atom+xml","application/rss+xml"]],["xmz","xgl/movie"],["xo","application/vnd.olpc-sugar"],["xof","x-world/x-vrml"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpix","application/x-vnd.ls-xpix"],["xpm",["image/xpm","image/x-xpixmap"]],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xsr","video/x-amt-showrun"],["xul","application/vnd.mozilla.xul+xml"],["xwd",["image/x-xwd","image/x-xwindowdump"]],["xyz",["chemical/x-xyz","chemical/x-pdb"]],["yang","application/yang"],["yin","application/yin+xml"],["z",["application/x-compressed","application/x-compress"]],["zaz","application/vnd.zzazz.deck+xml"],["zip",["application/zip","multipart/x-zip","application/x-zip-compressed","application/x-compressed"]],["zir","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zoo","application/octet-stream"],["zsh","text/x-script.zsh"]]);e.exports={detectMimeType(e){if(!e)return r;let t=a.parse(e),i=(t.ext.substr(1)||t.name||"").split("?").shift().trim().toLowerCase(),n=r;return(s.has(i)&&(n=s.get(i)),Array.isArray(n))?n[0]:n},detectExtension(e){if(!e)return"bin";let t=(e||"").toLowerCase().trim().split("/"),i=t.shift().trim(),a=t.join("/").trim();if(n.has(i+"/"+a)){let e=n.get(i+"/"+a);return Array.isArray(e)?e[0]:e}return"text"===i?"txt":"bin"}}},47546:(e,t,i)=>{"use strict";let a=i(55511),r=i(29021),n=i(15478),s=i(27910).PassThrough,o=i(63336),c=i(45437),l=i(80860),d=i(93970),p=i(82498),u=i(76547),h=i(98049),f=i(58803),m=i(38502);class g{constructor(e,t){this.nodeCounter=0,t=t||{},this.baseBoundary=t.baseBoundary||a.randomBytes(8).toString("hex"),this.boundaryPrefix=t.boundaryPrefix||"--_NmP",this.disableFileAccess=!!t.disableFileAccess,this.disableUrlAccess=!!t.disableUrlAccess,this.normalizeHeaderKey=t.normalizeHeaderKey,this.date=new Date,this.rootNode=t.rootNode||this,this.keepBcc=!!t.keepBcc,t.filename&&(this.filename=t.filename,e||(e=c.detectMimeType(this.filename.split(".").pop()))),this.textEncoding=(t.textEncoding||"").toString().trim().charAt(0).toUpperCase(),this.parentNode=t.parentNode,this.hostname=t.hostname,this.newline=t.newline,this.childNodes=[],this._nodeId=++this.rootNode.nodeCounter,this._headers=[],this._isPlainText=!1,this._hasLongLines=!1,this._envelope=!1,this._raw=!1,this._transforms=[],this._processFuncs=[],e&&this.setHeader("Content-Type",e)}createChild(e,t){t||"object"!=typeof e||(t=e,e=void 0);let i=new g(e,t);return this.appendChild(i),i}appendChild(e){return e.rootNode!==this.rootNode&&(e.rootNode=this.rootNode,e._nodeId=++this.rootNode.nodeCounter),e.parentNode=this,this.childNodes.push(e),e}replace(e){return e===this?this:(this.parentNode.childNodes.forEach((t,i)=>{t===this&&(e.rootNode=this.rootNode,e.parentNode=this.parentNode,e._nodeId=this._nodeId,this.rootNode=this,this.parentNode=void 0,e.parentNode.childNodes[i]=e)}),e)}remove(){if(!this.parentNode)return this;for(let e=this.parentNode.childNodes.length-1;e>=0;e--)if(this.parentNode.childNodes[e]===this)return this.parentNode.childNodes.splice(e,1),this.parentNode=void 0,this.rootNode=this,this}setHeader(e,t){let i=!1,a;if(!t&&e&&"object"==typeof e)return e.key&&"value"in e?this.setHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.setHeader(e.key,e.value)}):Object.keys(e).forEach(t=>{this.setHeader(t,e[t])}),this;a={key:e=this._normalizeHeaderKey(e),value:t};for(let t=0,r=this._headers.length;t<r;t++)this._headers[t].key===e&&(i?(this._headers.splice(t,1),t--,r--):(this._headers[t]=a,i=!0));return i||this._headers.push(a),this}addHeader(e,t){return!t&&e&&"object"==typeof e?e.key&&e.value?this.addHeader(e.key,e.value):Array.isArray(e)?e.forEach(e=>{this.addHeader(e.key,e.value)}):Object.keys(e).forEach(t=>{this.addHeader(t,e[t])}):Array.isArray(t)?t.forEach(t=>{this.addHeader(e,t)}):this._headers.push({key:this._normalizeHeaderKey(e),value:t}),this}getHeader(e){e=this._normalizeHeaderKey(e);for(let t=0,i=this._headers.length;t<i;t++)if(this._headers[t].key===e)return this._headers[t].value}setContent(e){return this.content=e,"function"==typeof this.content.pipe?(this._contentErrorHandler=e=>{this.content.removeListener("error",this._contentErrorHandler),this.content=e},this.content.once("error",this._contentErrorHandler)):"string"==typeof this.content&&(this._isPlainText=c.isPlainText(this.content),this._isPlainText&&c.hasLongerLines(this.content,76)&&(this._hasLongLines=!0)),this}build(e){let t;e||(t=new Promise((t,i)=>{e=o.callbackPromise(t,i)}));let i=this.createReadStream(),a=[],r=0,n=!1;return i.on("readable",()=>{let e;for(;null!==(e=i.read());)a.push(e),r+=e.length}),i.once("error",t=>{if(!n)return n=!0,e(t)}),i.once("end",t=>{if(!n)return n=!0,t&&t.length&&(a.push(t),r+=t.length),e(null,Buffer.concat(a,r))}),t}getTransferEncoding(){let e=!1,t=(this.getHeader("Content-Type")||"").toString().toLowerCase().trim();return!this.content||(e=(this.getHeader("Content-Transfer-Encoding")||"").toString().toLowerCase().trim())&&["base64","quoted-printable"].includes(e)||(/^text\//i.test(t)?this._isPlainText&&!this._hasLongLines?e="7bit":"string"==typeof this.content||this.content instanceof Buffer?e="Q"===this._getTextEncoding(this.content)?"quoted-printable":"base64":e="B"===this.textEncoding?"base64":"quoted-printable":/^(multipart|message)\//i.test(t)||(e=e||"base64")),e}buildHeaders(){let e=this.getTransferEncoding(),t=[];if(e&&this.setHeader("Content-Transfer-Encoding",e),this.filename&&!this.getHeader("Content-Disposition")&&this.setHeader("Content-Disposition","attachment"),this.rootNode===this){this.getHeader("Date")||this.setHeader("Date",this.date.toUTCString().replace(/GMT/,"+0000")),this.messageId(),this.getHeader("MIME-Version")||this.setHeader("MIME-Version","1.0");for(let e=this._headers.length-2;e>=0;e--){let t=this._headers[e];"Content-Type"===t.key&&(this._headers.splice(e,1),this._headers.push(t))}}return this._headers.forEach(e=>{let i,a,r=e.key,n=e.value,s={};if(!n||"object"!=typeof n||["From","Sender","To","Cc","Bcc","Reply-To","Date","References"].includes(r)||(Object.keys(n).forEach(e=>{"value"!==e&&(s[e]=n[e])}),(n=(n.value||"").toString()).trim())){if(s.prepared){s.foldLines?t.push(c.foldLines(r+": "+n)):t.push(r+": "+n);return}switch(e.key){case"Content-Disposition":i=c.parseHeaderValue(n),this.filename&&(i.params.filename=this.filename),n=c.buildHeaderValue(i);break;case"Content-Type":i=c.parseHeaderValue(n),this._handleContentType(i),i.value.match(/^text\/plain\b/)&&"string"==typeof this.content&&/[\u0080-\uFFFF]/.test(this.content)&&(i.params.charset="utf-8"),n=c.buildHeaderValue(i),this.filename&&(((a=this._encodeWords(this.filename))!==this.filename||/[\s'"\\;:/=(),<>@[\]?]|^-/.test(a))&&(a='"'+a+'"'),n+="; name="+a);break;case"Bcc":if(!this.keepBcc)return}if(((n=this._encodeHeaderValue(r,n))||"").toString().trim()){if("function"==typeof this.normalizeHeaderKey){let e=this.normalizeHeaderKey(r,n);e&&"string"==typeof e&&e.length&&(r=e)}t.push(c.foldLines(r+": "+n,76))}}}),t.join("\r\n")}createReadStream(e){let t;let i=new s(e=e||{}),a=i;this.stream(i,e,e=>{if(e){a.emit("error",e);return}i.end()});for(let e=0,i=this._transforms.length;e<i;e++)t="function"==typeof this._transforms[e]?this._transforms[e]():this._transforms[e],a.once("error",e=>{t.emit("error",e)}),a=a.pipe(t);t=new h,a.once("error",e=>{t.emit("error",e)}),a=a.pipe(t);for(let e=0,i=this._processFuncs.length;e<i;e++)a=(t=this._processFuncs[e])(a);if(this.newline){let e=["win","windows","dos","\r\n"].includes(this.newline.toString().toLowerCase())?new f:new m,t=a.pipe(e);return a.on("error",e=>t.emit("error",e)),t}return a}transform(e){this._transforms.push(e)}processFunc(e){this._processFuncs.push(e)}stream(e,t,i){let a,r,n=this.getTransferEncoding(),s=!1,o=e=>{s||(s=!0,i(e))},c=()=>{let i=0,a=()=>{if(i>=this.childNodes.length)return e.write("\r\n--"+this.boundary+"--\r\n"),o();let r=this.childNodes[i++];e.write((i>1?"\r\n":"")+"--"+this.boundary+"\r\n"),r.stream(e,t,e=>{if(e)return o(e);setImmediate(a)})};if(!this.multipart)return o();setImmediate(a)};this._raw?setImmediate(()=>{if("[object Error]"===Object.prototype.toString.call(this._raw))return o(this._raw);"function"==typeof this._raw.pipe&&this._raw.removeListener("error",this._contentErrorHandler);let t=this._getStream(this._raw);t.pipe(e,{end:!1}),t.on("error",t=>e.emit("error",t)),t.on("end",c)}):(e.write(this.buildHeaders()+"\r\n\r\n"),setImmediate(()=>{if(!this.content)return setImmediate(c);{if("[object Error]"===Object.prototype.toString.call(this.content))return o(this.content);"function"==typeof this.content.pipe&&(this.content.removeListener("error",this._contentErrorHandler),this._contentErrorHandler=e=>o(e),this.content.once("error",this._contentErrorHandler));let i=()=>{["quoted-printable","base64"].includes(n)?((a=new("base64"===n?d:l).Encoder(t)).pipe(e,{end:!1}),a.once("end",c),a.once("error",e=>o(e)),(r=this._getStream(this.content)).pipe(a)):((r=this._getStream(this.content)).pipe(e,{end:!1}),r.once("end",c)),r.once("error",e=>o(e))};if(this.content._resolve){let e=[],t=0,a=!1,r=this._getStream(this.content);r.on("error",e=>{a||(a=!0,o(e))}),r.on("readable",()=>{let i;for(;null!==(i=r.read());)e.push(i),t+=i.length}),r.on("end",()=>{a||(a=!0,this.content._resolve=!1,this.content._resolvedValue=Buffer.concat(e,t),setImmediate(i))})}else setImmediate(i);return}}))}setEnvelope(e){let t;this._envelope={from:!1,to:[]},e.from&&(t=[],this._convertAddresses(this._parseAddresses(e.from),t),(t=t.filter(e=>e&&e.address)).length&&t[0]&&(this._envelope.from=t[0].address)),["to","cc","bcc"].forEach(t=>{e[t]&&this._convertAddresses(this._parseAddresses(e[t]),this._envelope.to)}),this._envelope.to=this._envelope.to.map(e=>e.address).filter(e=>e);let i=["to","cc","bcc","from"];return Object.keys(e).forEach(t=>{i.includes(t)||(this._envelope[t]=e[t])}),this}getAddresses(){let e={};return this._headers.forEach(t=>{let i=t.key.toLowerCase();["from","sender","reply-to","to","cc","bcc"].includes(i)&&(Array.isArray(e[i])||(e[i]=[]),this._convertAddresses(this._parseAddresses(t.value),e[i]))}),e}getEnvelope(){if(this._envelope)return this._envelope;let e={from:!1,to:[]};return this._headers.forEach(t=>{let i=[];"From"===t.key||!e.from&&["Reply-To","Sender"].includes(t.key)?(this._convertAddresses(this._parseAddresses(t.value),i),i.length&&i[0]&&(e.from=i[0].address)):["To","Cc","Bcc"].includes(t.key)&&this._convertAddresses(this._parseAddresses(t.value),e.to)}),e.to=e.to.map(e=>e.address),e}messageId(){let e=this.getHeader("Message-ID");return e||(e=this._generateMessageId(),this.setHeader("Message-ID",e)),e}setRaw(e){return this._raw=e,this._raw&&"function"==typeof this._raw.pipe&&(this._contentErrorHandler=e=>{this._raw.removeListener("error",this._contentErrorHandler),this._raw=e},this._raw.once("error",this._contentErrorHandler)),this}_getStream(e){let t;return e._resolvedValue?(t=new s,setImmediate(()=>{try{t.end(e._resolvedValue)}catch(e){t.emit("error",e)}}),t):"function"==typeof e.pipe?e:e&&"string"==typeof e.path&&!e.href?this.disableFileAccess?(t=new s,setImmediate(()=>t.emit("error",Error("File access rejected for "+e.path))),t):r.createReadStream(e.path):e&&"string"==typeof e.href?this.disableUrlAccess?(t=new s,setImmediate(()=>t.emit("error",Error("Url access rejected for "+e.href))),t):u(e.href,{headers:e.httpHeaders}):(t=new s,setImmediate(()=>{try{t.end(e||"")}catch(e){t.emit("error",e)}}),t)}_parseAddresses(e){return[].concat.apply([],[].concat(e).map(e=>e&&e.address?(e.address=this._normalizeAddress(e.address),e.name=e.name||"",[e]):p(e)))}_normalizeHeaderKey(e){return e=(e||"").toString().replace(/\r?\n|\r/g," ").trim().toLowerCase().replace(/^X-SMTPAPI$|^(MIME|DKIM|ARC|BIMI)\b|^[a-z]|-(SPF|FBL|ID|MD5)$|-[a-z]/gi,e=>e.toUpperCase()).replace(/^Content-Features$/i,"Content-features")}_handleContentType(e){this.contentType=e.value.trim().toLowerCase(),this.multipart=!!/^multipart\//i.test(this.contentType)&&this.contentType.substr(this.contentType.indexOf("/")+1),this.multipart?this.boundary=e.params.boundary=e.params.boundary||this.boundary||this._generateBoundary():this.boundary=!1}_generateBoundary(){return this.rootNode.boundaryPrefix+"-"+this.rootNode.baseBoundary+"-Part_"+this._nodeId}_encodeHeaderValue(e,t){switch(e=this._normalizeHeaderKey(e)){case"From":case"Sender":case"To":case"Cc":case"Bcc":case"Reply-To":return this._convertAddresses(this._parseAddresses(t));case"Message-ID":case"In-Reply-To":case"Content-Id":return"<"!==(t=(t||"").toString().replace(/\r?\n|\r/g," ")).charAt(0)&&(t="<"+t),">"!==t.charAt(t.length-1)&&(t+=">"),t;case"References":return(t=[].concat.apply([],[].concat(t||"").map(e=>(e=(e||"").toString().replace(/\r?\n|\r/g," ").trim()).replace(/<[^>]*>/g,e=>e.replace(/\s/g,"")).split(/\s+/))).map(e=>("<"!==e.charAt(0)&&(e="<"+e),">"!==e.charAt(e.length-1)&&(e+=">"),e))).join(" ").trim();case"Date":if("[object Date]"===Object.prototype.toString.call(t))return t.toUTCString().replace(/GMT/,"+0000");return t=(t||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(t);case"Content-Type":case"Content-Disposition":return(t||"").toString().replace(/\r?\n|\r/g," ");default:return t=(t||"").toString().replace(/\r?\n|\r/g," "),this._encodeWords(t)}}_convertAddresses(e,t){let i=[];return t=t||[],[].concat(e||[]).forEach(e=>{if(e.address)e.address=this._normalizeAddress(e.address),e.name?e.name&&i.push(`${this._encodeAddressName(e.name)} <${e.address}>`):i.push(e.address.indexOf(" ")>=0?`<${e.address}>`:`${e.address}`),e.address&&!t.filter(t=>t.address===e.address).length&&t.push(e);else if(e.group){let a=(e.group.length?this._convertAddresses(e.group,t):"").trim();i.push(`${this._encodeAddressName(e.name)}:${a};`)}}),i.join(", ")}_normalizeAddress(e){let t;let i=(e=(e||"").toString().replace(/[\x00-\x1F<>]+/g," ").trim()).lastIndexOf("@");if(i<0)return e;let a=e.substr(0,i),r=e.substr(i+1);try{t=n.toASCII(r.toLowerCase())}catch(e){}return a.indexOf(" ")>=0&&('"'!==a.charAt(0)&&(a='"'+a),'"'!==a.substr(-1)&&(a+='"')),`${a}@${t}`}_encodeAddressName(e){return/^[\w ]*$/.test(e)?e:/^[\x20-\x7e]*$/.test(e)?'"'+e.replace(/([\\"])/g,"\\$1")+'"':c.encodeWord(e,this._getTextEncoding(e),52)}_encodeWords(e){return c.encodeWords(e,this._getTextEncoding(e),52,!0)}_getTextEncoding(e){e=(e||"").toString();let t=this.textEncoding;return t||(t=(e.match(/[\x00-\x08\x0B\x0C\x0E-\x1F\u0080-\uFFFF]/g)||[]).length<(e.match(/[a-z]/gi)||[]).length?"Q":"B"),t}_generateMessageId(){return"<"+[2,2,2,6].reduce((e,t)=>e+"-"+a.randomBytes(t).toString("hex"),a.randomBytes(4).toString("hex"))+"@"+(this.getEnvelope().from||this.hostname||"localhost").split("@").pop()+">"}}e.exports=g},98049:(e,t,i)=>{"use strict";let a=i(27910).Transform;class r extends a{constructor(){super(),this.lastByte=!1}_transform(e,t,i){e.length&&(this.lastByte=e[e.length-1]),this.push(e),i()}_flush(e){return 10===this.lastByte||(13===this.lastByte?this.push(Buffer.from("\n")):this.push(Buffer.from("\r\n"))),e()}}e.exports=r},38502:(e,t,i)=>{"use strict";let a=i(27910).Transform;class r extends a{constructor(e){super(e),this.options=e||{}}_transform(e,t,i){let a;let r=0;for(let t=0,i=e.length;t<i;t++)13===e[t]&&(a=e.slice(r,t),r=t+1,this.push(a));r&&r<e.length?(a=e.slice(r),this.push(a)):r||this.push(e),i()}}e.exports=r},58803:(e,t,i)=>{"use strict";let a=i(27910).Transform;class r extends a{constructor(e){super(e),this.options=e||{},this.lastByte=!1}_transform(e,t,i){let a;let r=0;for(let t=0,i=e.length;t<i;t++)10===e[t]&&(t&&13!==e[t-1]||!t&&13!==this.lastByte)&&(t>r&&(a=e.slice(r,t),this.push(a)),this.push(Buffer.from("\r\n")),r=t+1);r&&r<e.length?(a=e.slice(r),this.push(a)):r||this.push(e),this.lastByte=e[e.length-1],i()}}e.exports=r},30342:(e,t,i)=>{"use strict";let a=i(35327),r=i(63336),n=i(76600),s=i(5907),o=i(7260),c=i(99007),l=i(86577),d=i(32760),p=i(76547),u=i(91423),h=(process.env.ETHEREAL_API||"https://api.nodemailer.com").replace(/\/+$/,""),f=(process.env.ETHEREAL_WEB||"https://ethereal.email").replace(/\/+$/,""),m=(process.env.ETHEREAL_API_KEY||"").replace(/\s*/g,"")||null,g=["true","yes","y","1"].includes((process.env.ETHEREAL_CACHE||"yes").toString().trim().toLowerCase()),v=!1;e.exports.createTransport=function(e,t){let i,p;return("object"==typeof e&&"function"!=typeof e.send||"string"==typeof e&&/^(smtps?|direct):/i.test(e))&&(e=(p=(i="string"==typeof e?e:e.url)?r.parseConnectionUrl(i):e).pool?new n(p):p.sendmail?new o(p):p.streamTransport?new c(p):p.jsonTransport?new l(p):p.SES?new d(p):new s(p)),new a(e,p,t)},e.exports.createTestAccount=function(e,t){let i;if(t||"function"!=typeof e||(t=e,e=!1),t||(i=new Promise((e,i)=>{t=r.callbackPromise(e,i)})),g&&v)return setImmediate(()=>t(null,v)),i;e=e||h;let a=[],n=0,s={},o={requestor:u.name,version:u.version};m&&(s.Authorization="Bearer "+m);let c=p(e+"/user",{contentType:"application/json",method:"POST",headers:s,body:Buffer.from(JSON.stringify(o))});return c.on("readable",()=>{let e;for(;null!==(e=c.read());)a.push(e),n+=e.length}),c.once("error",e=>t(e)),c.once("end",()=>{let e,i,r=Buffer.concat(a,n);try{e=JSON.parse(r.toString())}catch(e){i=e}return i?t(i):"success"!==e.status||e.error?t(Error(e.error||"Request failed")):void(delete e.status,t(null,v=e))}),i},e.exports.getTestMessageUrl=function(e){if(!e||!e.response)return!1;let t=new Map;return e.response.replace(/\[([^\]]+)\]$/,(e,i)=>{i.replace(/\b([A-Z0-9]+)=([^\s]+)/g,(e,i,a)=>{t.set(i,a)})}),!!(t.has("STATUS")&&t.has("MSGID"))&&(v.web||f)+"/message/"+t.get("MSGID")}},15478:e=>{"use strict";let t=/^xn--/,i=/[^\0-\x7F]/,a=/[\x2E\u3002\uFF0E\uFF61]/g,r={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},n=Math.floor,s=String.fromCharCode;function o(e){throw RangeError(r[e])}function c(e,t){let i=e.split("@"),r="";return i.length>1&&(r=i[0]+"@",e=i[1]),r+(function(e,t){let i=[],a=e.length;for(;a--;)i[a]=t(e[a]);return i})((e=e.replace(a,".")).split("."),t).join(".")}function l(e){let t=[],i=0,a=e.length;for(;i<a;){let r=e.charCodeAt(i++);if(r>=55296&&r<=56319&&i<a){let a=e.charCodeAt(i++);(64512&a)==56320?t.push(((1023&r)<<10)+(1023&a)+65536):(t.push(r),i--)}else t.push(r)}return t}let d=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},p=function(e,t,i){let a=0;for(e=i?n(e/700):e>>1,e+=n(e/t);e>455;a+=36)e=n(e/35);return n(a+36*e/(e+38))},u=function(e){let t=[],i=e.length,a=0,r=128,s=72,c=e.lastIndexOf("-");c<0&&(c=0);for(let i=0;i<c;++i)e.charCodeAt(i)>=128&&o("not-basic"),t.push(e.charCodeAt(i));for(let d=c>0?c+1:0;d<i;){let c=a;for(let t=1,r=36;;r+=36){var l;d>=i&&o("invalid-input");let c=(l=e.charCodeAt(d++))>=48&&l<58?26+(l-48):l>=65&&l<91?l-65:l>=97&&l<123?l-97:36;c>=36&&o("invalid-input"),c>n((0x7fffffff-a)/t)&&o("overflow"),a+=c*t;let p=r<=s?1:r>=s+26?26:r-s;if(c<p)break;let u=36-p;t>n(0x7fffffff/u)&&o("overflow"),t*=u}let u=t.length+1;s=p(a-c,u,0==c),n(a/u)>0x7fffffff-r&&o("overflow"),r+=n(a/u),a%=u,t.splice(a++,0,r)}return String.fromCodePoint(...t)},h=function(e){let t=[],i=(e=l(e)).length,a=128,r=0,c=72;for(let i of e)i<128&&t.push(s(i));let u=t.length,h=u;for(u&&t.push("-");h<i;){let i=0x7fffffff;for(let t of e)t>=a&&t<i&&(i=t);let l=h+1;for(let f of(i-a>n((0x7fffffff-r)/l)&&o("overflow"),r+=(i-a)*l,a=i,e))if(f<a&&++r>0x7fffffff&&o("overflow"),f===a){let e=r;for(let i=36;;i+=36){let a=i<=c?1:i>=c+26?26:i-c;if(e<a)break;let r=e-a,o=36-a;t.push(s(d(a+r%o,0))),e=n(r/o)}t.push(s(d(e,0))),c=p(r,l,h===u),r=0,++h}++r,++a}return t.join("")};e.exports={version:"2.3.1",ucs2:{decode:l,encode:e=>String.fromCodePoint(...e)},decode:u,encode:h,toASCII:function(e){return c(e,function(e){return i.test(e)?"xn--"+h(e):e})},toUnicode:function(e){return c(e,function(e){return t.test(e)?u(e.slice(4).toLowerCase()):e})}}},80860:(e,t,i)=>{"use strict";let a=i(27910).Transform;function r(e){let t;"string"==typeof e&&(e=Buffer.from(e,"utf-8"));let i=[[9],[10],[13],[32,60],[62,126]],a="";for(let r=0,n=e.length;r<n;r++){if(function(e,t){for(let i=t.length-1;i>=0;i--)if(t[i].length&&(1===t[i].length&&e===t[i][0]||2===t[i].length&&e>=t[i][0]&&e<=t[i][1]))return!0;return!1}(t=e[r],i)&&!((32===t||9===t)&&(r===n-1||10===e[r+1]||13===e[r+1]))){a+=String.fromCharCode(t);continue}a+="="+(t<16?"0":"")+t.toString(16).toUpperCase()}return a}function n(e,t){let i,a,r;if(e=(e||"").toString(),t=t||76,e.length<=t)return e;let n=0,s=e.length,o=Math.floor(t/3),c="";for(;n<s;){if(i=(r=e.substr(n,t)).match(/\r\n/)){c+=r=r.substr(0,i.index+i[0].length),n+=r.length;continue}if("\n"===r.substr(-1)){c+=r,n+=r.length;continue}if(i=r.substr(-o).match(/\n.*?$/)){c+=r=r.substr(0,r.length-(i[0].length-1)),n+=r.length;continue}if(r.length>t-o&&(i=r.substr(-o).match(/[ \t.,!?][^ \t.,!?]*$/)))r=r.substr(0,r.length-(i[0].length-1));else if(r.match(/[=][\da-f]{0,2}$/i))for((i=r.match(/[=][\da-f]{0,1}$/i))&&(r=r.substr(0,r.length-i[0].length));r.length>3&&r.length<s-n&&!r.match(/^(?:=[\da-f]{2}){1,4}$/i)&&(i=r.match(/[=][\da-f]{2}$/gi))&&!((a=parseInt(i[0].substr(1,2),16))<128)&&(r=r.substr(0,r.length-3),!(a>=192)););n+r.length<s&&"\n"!==r.substr(-1)?(r.length===t&&r.match(/[=][\da-f]{2}$/i)?r=r.substr(0,r.length-3):r.length===t&&(r=r.substr(0,r.length-1)),n+=r.length,r+="=\r\n"):n+=r.length,c+=r}return c}class s extends a{constructor(e){super(),this.options=e||{},!1!==this.options.lineLength&&(this.options.lineLength=this.options.lineLength||76),this._curLine="",this.inputBytes=0,this.outputBytes=0}_transform(e,t,i){let a;if("buffer"!==t&&(e=Buffer.from(e,t)),!e||!e.length)return i();this.inputBytes+=e.length,this.options.lineLength?(a=(a=n(a=this._curLine+r(e),this.options.lineLength)).replace(/(^|\n)([^\n]*)$/,(e,t,i)=>(this._curLine=i,t)))&&(this.outputBytes+=a.length,this.push(a)):(a=r(e),this.outputBytes+=a.length,this.push(a,"ascii")),i()}_flush(e){this._curLine&&(this.outputBytes+=this._curLine.length,this.push(this._curLine,"ascii")),e()}}e.exports={encode:r,wrap:n,Encoder:s}},7260:(e,t,i)=>{"use strict";let a=i(79646).spawn,r=i(91423),n=i(63336);class s{constructor(e){e=e||{},this._spawn=a,this.options=e||{},this.name="Sendmail",this.version=r.version,this.path="sendmail",this.args=!1,this.winbreak=!1,this.logger=n.getLogger(this.options,{component:this.options.component||"sendmail"}),e&&("string"==typeof e?this.path=e:"object"==typeof e&&(e.path&&(this.path=e.path),Array.isArray(e.args)&&(this.args=e.args),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())))}send(e,t){let i,a,r;e.message.keepBcc=!0;let n=e.data.envelope||e.message.getEnvelope(),s=e.message.messageId();if([].concat(n.from||[]).concat(n.to||[]).some(e=>/^-/.test(e)))return t(Error("Can not send mail. Invalid envelope addresses."));i=this.args?["-i"].concat(this.args).concat(n.to):["-i"].concat(n.from?["-f",n.from]:[]).concat(n.to);let o=i=>{if(!r&&(r=!0,"function"==typeof t))return i?t(i):t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:s,response:"Messages queued for delivery"})};try{a=this._spawn(this.path,i)}catch(e){return this.logger.error({err:e,tnx:"spawn",messageId:s},"Error occurred while spawning sendmail. %s",e.message),o(e)}if(!a)return o(Error("sendmail was not found"));{a.on("error",e=>{this.logger.error({err:e,tnx:"spawn",messageId:s},"Error occurred when sending message %s. %s",s,e.message),o(e)}),a.once("exit",e=>{let t;if(!e)return o();t=127===e?Error("Sendmail command not found, process exited with code "+e):Error("Sendmail exited with code "+e),this.logger.error({err:t,tnx:"stdin",messageId:s},"Error sending message %s to sendmail. %s",s,t.message),o(t)}),a.once("close",o),a.stdin.on("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:s},"Error occurred when piping message %s to sendmail. %s",s,e.message),o(e)});let t=[].concat(n.to||[]);t.length>3&&t.push("...and "+t.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:s},"Sending message %s to <%s>",s,t.join(", "));let i=e.message.createReadStream();i.once("error",e=>{this.logger.error({err:e,tnx:"stdin",messageId:s},"Error occurred when generating message %s. %s",s,e.message),a.kill("SIGINT"),o(e)}),i.pipe(a.stdin)}}}e.exports=s},32760:(e,t,i)=>{"use strict";let a=i(94735),r=i(91423),n=i(63336),s=i(58803);class o extends a{constructor(e){super(),e=e||{},this.options=e||{},this.ses=this.options.SES,this.name="SESTransport",this.version=r.version,this.logger=n.getLogger(this.options,{component:this.options.component||"ses-transport"}),this.maxConnections=Number(this.options.maxConnections)||1/0,this.connections=0,this.sendingRate=Number(this.options.sendingRate)||1/0,this.sendingRateTTL=null,this.rateInterval=1e3,this.rateMessages=[],this.pending=[],this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}send(e,t){if(this.connections>=this.maxConnections||!this._checkSendingRate())return this.idling=!1,this.pending.push({mail:e,callback:t});this._send(e,(...e)=>{setImmediate(()=>t(...e)),this._sent()})}_checkRatedQueue(){if(this.connections>=this.maxConnections||!this._checkSendingRate())return;if(!this.pending.length){this.idling||(this.idling=!0,this.emit("idle"));return}let e=this.pending.shift();this._send(e.mail,(...t)=>{setImmediate(()=>e.callback(...t)),this._sent()})}_checkSendingRate(){clearTimeout(this.sendingRateTTL);let e=Date.now(),t=!1;for(let i=this.rateMessages.length-1;i>=0;i--)this.rateMessages[i].ts>=e-this.rateInterval&&(!t||this.rateMessages[i].ts<t)&&(t=this.rateMessages[i].ts),this.rateMessages[i].ts<e-this.rateInterval&&!this.rateMessages[i].pending&&this.rateMessages.splice(i,1);if(this.rateMessages.length<this.sendingRate)return!0;let i=Math.max(t+1001,e+20);this.sendingRateTTL=setTimeout(()=>this._checkRatedQueue(),e-i);try{this.sendingRateTTL.unref()}catch(e){}return!1}_sent(){this.connections--,this._checkRatedQueue()}isIdle(){return this.idling}_send(e,t){let i={ts:Date.now(),pending:!0};this.connections++,this.rateMessages.push(i);let a=e.data.envelope||e.message.getEnvelope(),r=e.message.messageId(),n=[].concat(a.to||[]);n.length>3&&n.push("...and "+n.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:r},"Sending message %s to <%s>",r,n.join(", "));let o=t=>{e.data._dkim||(e.data._dkim={}),e.data._dkim.skipFields&&"string"==typeof e.data._dkim.skipFields?e.data._dkim.skipFields+=":date:message-id":e.data._dkim.skipFields="date:message-id";let i=e.message.createReadStream(),a=i.pipe(new s),r=[],n=0;a.on("readable",()=>{let e;for(;null!==(e=a.read());)r.push(e),n+=e.length}),i.once("error",e=>a.emit("error",e)),a.once("error",e=>{t(e)}),a.once("end",()=>t(null,Buffer.concat(r,n)))};setImmediate(()=>o((n,s)=>{var o;if(n)return this.logger.error({err:n,tnx:"send",messageId:r},"Failed creating message for %s. %s",r,n.message),i.pending=!1,t(n);let c={RawMessage:{Data:s},Source:a.from,Destinations:a.to};Object.keys(e.data.ses||{}).forEach(t=>{c[t]=e.data.ses[t]});let l=(this.ses.aws?this.ses.ses:this.ses)||{},d=this.ses.aws||{};o=(e,n)=>{(e||!n)&&(n="us-east-1"),("function"==typeof l.send&&d.SendRawEmailCommand?l.send(new d.SendRawEmailCommand(c)):l.sendRawEmail(c).promise()).then(e=>{"us-east-1"===n&&(n="email"),i.pending=!1,t(null,{envelope:{from:a.from,to:a.to},messageId:"<"+e.MessageId+(/@/.test(e.MessageId)?"":"@"+n+".amazonses.com")+">",response:e.MessageId,raw:s})}).catch(e=>{this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",r,e.message),i.pending=!1,t(e)})},l.config&&"function"==typeof l.config.region?l.config.region().then(e=>o(null,e)).catch(e=>o(e)):o(null,l.config&&l.config.region||"us-east-1")}))}verify(e){let t;let i=(this.ses.aws?this.ses.ses:this.ses)||{},a=this.ses.aws||{},r={RawMessage:{Data:"From: invalid@invalid\r\nTo: invalid@invalid\r\n Subject: Invalid\r\n\r\nInvalid"},Source:"invalid@invalid",Destinations:["invalid@invalid"]};e||(t=new Promise((t,i)=>{e=n.callbackPromise(t,i)}));let s=t=>t&&"InvalidParameterValue"!==(t.code||t.Code)?e(t):e(null,!0);return"function"==typeof i.send&&a.SendRawEmailCommand?(r.RawMessage.Data=Buffer.from(r.RawMessage.Data),i.send(new a.SendRawEmailCommand(r),s)):i.sendRawEmail(r,s),t}}e.exports=o},63336:(e,t,i)=>{"use strict";let a;let r=i(79551),n=i(28354),s=i(29021),o=i(76547),c=i(14985),l=i(91645),d=i(21820);try{a=d.networkInterfaces()}catch(e){}e.exports.networkInterfaces=a;let p=(t,i)=>{let a=e.exports.networkInterfaces;return!a||Object.keys(a).map(e=>a[e]).reduce((e,t)=>e.concat(t),[]).filter(e=>!e.internal||i).filter(e=>e.family==="IPv"+t||e.family===t).length>0},u=(e,t,i,a)=>{if(!p(e,(i=i||{}).allowInternalNetworkInterfaces))return a(null,[]);(c.Resolver?new c.Resolver(i):c)["resolve"+e](t,(e,t)=>{if(e){switch(e.code){case c.NODATA:case c.NOTFOUND:case c.NOTIMP:case c.SERVFAIL:case c.CONNREFUSED:case c.REFUSED:case"EAI_AGAIN":return a(null,[])}return a(e)}return a(null,Array.isArray(t)?t:[].concat(t||[]))})},h=e.exports.dnsCache=new Map,f=(e,t)=>e?Object.assign({servername:e.servername,host:e.addresses&&e.addresses.length?1===e.addresses.length?e.addresses[0]:e.addresses[Math.floor(Math.random()*e.addresses.length)]:null},t||{}):Object.assign({},t||{});function m(e,t){let i=!1,a=[],r=0;e.on("error",e=>{i||(i=!0,t(e))}),e.on("readable",()=>{let t;for(;null!==(t=e.read());)a.push(t),r+=t.length}),e.on("end",()=>{let e;if(!i){i=!0;try{e=Buffer.concat(a,r)}catch(e){return t(e)}t(null,e)}})}e.exports.resolveHostname=(e,t)=>{let i;return(!(e=e||{}).host&&e.servername&&(e.host=e.servername),!e.host||l.isIP(e.host))?t(null,f({addresses:[e.host],servername:e.servername||!1},{cached:!1})):h.has(e.host)&&(!(i=h.get(e.host)).expires||i.expires>=Date.now())?t(null,f(i.value,{cached:!0})):void u(4,e.host,e,(a,r)=>{if(a)return i?t(null,f(i.value,{cached:!0,error:a})):t(a);if(r&&r.length){let i={addresses:r,servername:e.servername||e.host};return h.set(e.host,{value:i,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,f(i,{cached:!1}))}u(6,e.host,e,(a,r)=>{if(a)return i?t(null,f(i.value,{cached:!0,error:a})):t(a);if(r&&r.length){let i={addresses:r,servername:e.servername||e.host};return h.set(e.host,{value:i,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,f(i,{cached:!1}))}try{c.lookup(e.host,{all:!0},(a,r)=>{if(a)return i?t(null,f(i.value,{cached:!0,error:a})):t(a);let n=!!r&&r.filter(e=>p(e.family)).map(e=>e.address).shift();if(r&&r.length&&!n&&console.warn(`Failed to resolve IPv${r[0].family} addresses with current network`),!n&&i)return t(null,f(i.value,{cached:!0}));let s={addresses:n?[n]:[e.host],servername:e.servername||e.host};return h.set(e.host,{value:s,expires:Date.now()+(e.dnsTtl||3e5)}),t(null,f(s,{cached:!1}))})}catch(e){if(i)return t(null,f(i.value,{cached:!0,error:e}));return t(e)}})})},e.exports.parseConnectionUrl=e=>{e=e||"";let t={};return[r.parse(e,!0)].forEach(e=>{let i;switch(e.protocol){case"smtp:":t.secure=!1;break;case"smtps:":t.secure=!0;break;case"direct:":t.direct=!0}!isNaN(e.port)&&Number(e.port)&&(t.port=Number(e.port)),e.hostname&&(t.host=e.hostname),e.auth&&(i=e.auth.split(":"),t.auth||(t.auth={}),t.auth.user=i.shift(),t.auth.pass=i.join(":")),Object.keys(e.query||{}).forEach(i=>{let a=t,r=i,n=e.query[i];switch(isNaN(n)||(n=Number(n)),n){case"true":n=!0;break;case"false":n=!1}if(0===i.indexOf("tls."))r=i.substr(4),t.tls||(t.tls={}),a=t.tls;else if(i.indexOf(".")>=0)return;r in a||(a[r]=n)})}),t},e.exports._logFunc=(e,t,i,a,r,...n)=>{let s={};Object.keys(i||{}).forEach(e=>{"level"!==e&&(s[e]=i[e])}),Object.keys(a||{}).forEach(e=>{"level"!==e&&(s[e]=a[e])}),e[t](s,r,...n)},e.exports.getLogger=(t,i)=>{let a={},r=["trace","debug","info","warn","error","fatal"];if(!(t=t||{}).logger)return r.forEach(e=>{a[e]=()=>!1}),a;let s=t.logger;return!0===t.logger&&(s=function(e){let t=0,i=new Map;e.forEach(e=>{e.length>t&&(t=e.length)}),e.forEach(e=>{let a=e.toUpperCase();a.length<t&&(a+=" ".repeat(t-a.length)),i.set(e,a)});let a=(e,t,a,...r)=>{let s="";t&&("server"===t.tnx?s="S: ":"client"===t.tnx&&(s="C: "),t.sid&&(s="["+t.sid+"] "+s),t.cid&&(s="[#"+t.cid+"] "+s)),(a=n.format(a,...r)).split(/\r?\n/).forEach(t=>{console.log("[%s] %s %s",new Date().toISOString().substr(0,19).replace(/T/," "),i.get(e),s+t)})},r={};return e.forEach(e=>{r[e]=a.bind(null,e)}),r}(r)),r.forEach(t=>{a[t]=(a,r,...n)=>{e.exports._logFunc(s,t,i,a,r,...n)}}),a},e.exports.callbackPromise=(e,t)=>function(){let i=Array.from(arguments),a=i.shift();a?t(a):e(...i)},e.exports.parseDataURI=e=>{let t;let i=e.indexOf(",");if(!i)return e;let a=e.substring(i+1),r=e.substring(5,i).split(";"),n=r.length>1&&r[r.length-1];n&&0>n.indexOf("=")&&(t=n.toLowerCase(),r.pop());let s=r.shift()||"application/octet-stream",o={};for(let e of r){let t=e.indexOf("=");if(t>=0){let i=e.substring(0,t),a=e.substring(t+1);o[i]=a}}switch(t){case"base64":a=Buffer.from(a,"base64");break;case"utf8":a=Buffer.from(a);break;default:try{a=Buffer.from(decodeURIComponent(a))}catch(e){a=Buffer.from(a)}a=Buffer.from(a)}return{data:a,encoding:t,contentType:s,params:o}},e.exports.resolveContent=(t,i,a)=>{let r;a||(r=new Promise((t,i)=>{a=e.exports.callbackPromise(t,i)}));let n=t&&t[i]&&t[i].content||t[i],c=("object"==typeof t[i]&&t[i].encoding||"utf8").toString().toLowerCase().replace(/[-_\s]/g,"");if(!n)return a(null,n);if("object"==typeof n){if("function"==typeof n.pipe)return m(n,(e,r)=>{if(e)return a(e);t[i].content?t[i].content=r:t[i]=r,a(null,r)});if(/^https?:\/\//i.test(n.path||n.href))return m(o(n.path||n.href),a);if(/^data:/i.test(n.path||n.href)){let t=e.exports.parseDataURI(n.path||n.href);return t&&t.data?a(null,t.data):a(null,Buffer.from(0))}if(n.path)return m(s.createReadStream(n.path),a)}return"string"!=typeof t[i].content||["utf8","usascii","ascii"].includes(c)||(n=Buffer.from(t[i].content,c)),setImmediate(()=>a(null,n)),r},e.exports.assign=function(){let e=Array.from(arguments),t=e.shift()||{};return e.forEach(e=>{Object.keys(e||{}).forEach(i=>{["tls","auth"].includes(i)&&e[i]&&"object"==typeof e[i]?(t[i]||(t[i]={}),Object.keys(e[i]).forEach(a=>{t[i][a]=e[i][a]})):t[i]=e[i]})}),t},e.exports.encodeXText=e=>{if(!/[^\x21-\x2A\x2C-\x3C\x3E-\x7E]/.test(e))return e;let t=Buffer.from(e),i="";for(let e=0,a=t.length;e<a;e++){let a=t[e];a<33||a>126||43===a||61===a?i+="+"+(a<16?"0":"")+a.toString(16).toUpperCase():i+=String.fromCharCode(a)}return i}},50371:(e,t,i)=>{"use strict";let a=i(27910).Transform;class r extends a{constructor(e){super(e),this.options=e||{},this._curLine="",this.inByteCount=0,this.outByteCount=0,this.lastByte=!1}_transform(e,t,i){let a,r=[],n=0,s,o,c=0;if(!e||!e.length)return i();for("string"==typeof e&&(e=Buffer.from(e)),this.inByteCount+=e.length,s=0,o=e.length;s<o;s++)46===e[s]?(!s||10!==e[s-1])&&(s||this.lastByte&&10!==this.lastByte)||(a=e.slice(c,s+1),r.push(a),r.push(Buffer.from(".")),n+=a.length+1,c=s+1):10===e[s]&&(s&&13!==e[s-1]||!s&&13!==this.lastByte)&&(s>c?(a=e.slice(c,s),r.push(a),n+=a.length+2):n+=2,r.push(Buffer.from("\r\n")),c=s+1);n?(c<e.length&&(a=e.slice(c),r.push(a),n+=a.length),this.outByteCount+=n,this.push(Buffer.concat(r,n))):(this.outByteCount+=e.length,this.push(e)),this.lastByte=e[e.length-1],i()}_flush(e){let t;t=10===this.lastByte?Buffer.from(".\r\n"):13===this.lastByte?Buffer.from("\n.\r\n"):Buffer.from("\r\n.\r\n"),this.outByteCount+=t.length,this.push(t),e()}}e.exports=r},81031:(e,t,i)=>{"use strict";let a=i(91645),r=i(34631),n=i(79551);e.exports=function e(t,i,s,o){let c,l,d,p=n.parse(t);c={host:p.hostname,port:Number(p.port)?Number(p.port):"https:"===p.protocol?443:80},"https:"===p.protocol?(c.rejectUnauthorized=!1,l=r.connect.bind(r)):l=a.connect.bind(a);let u=!1,h=e=>{if(!u){u=!0;try{d.destroy()}catch(e){}o(e)}},f=()=>{let e=Error("Proxy socket timed out");e.code="ETIMEDOUT",h(e)};(d=l(c,()=>{if(u)return;let e={Host:s+":"+i,Connection:"close"};p.auth&&(e["Proxy-Authorization"]="Basic "+Buffer.from(p.auth).toString("base64")),d.write("CONNECT "+s+":"+i+" HTTP/1.1\r\n"+Object.keys(e).map(t=>t+": "+e[t]).join("\r\n")+"\r\n\r\n");let t="",a=e=>{let i,r;if(!u&&(t+=e.toString("binary"),i=t.match(/\r\n\r\n/))){if(d.removeListener("data",a),r=t.substr(i.index+i[0].length),t=t.substr(0,i.index),r&&d.unshift(Buffer.from(r,"binary")),u=!0,!(i=t.match(/^HTTP\/\d+\.\d+ (\d+)/i))||"2"!==(i[1]||"").charAt(0)){try{d.destroy()}catch(e){}return o(Error("Invalid response from proxy"+(i&&": "+i[1]||"")))}return d.removeListener("error",h),d.removeListener("timeout",f),d.setTimeout(0),o(null,d)}};d.on("data",a)})).setTimeout(e.timeout||3e4),d.on("timeout",f),d.once("error",h)}},8218:(e,t,i)=>{"use strict";let a=i(91423),r=i(94735).EventEmitter,n=i(91645),s=i(34631),o=i(21820),c=i(55511),l=i(50371),d=i(27910).PassThrough,p=i(63336);class u extends r{constructor(e){super(e),this.id=c.randomBytes(8).toString("base64").replace(/\W/g,""),this.stage="init",this.options=e||{},this.secureConnection=!!this.options.secure,this.alreadySecured=!!this.options.secured,this.port=Number(this.options.port)||(this.secureConnection?465:587),this.host=this.options.host||"localhost",this.servername=this.options.servername?this.options.servername:!n.isIP(this.host)&&this.host,this.allowInternalNetworkInterfaces=this.options.allowInternalNetworkInterfaces||!1,void 0===this.options.secure&&465===this.port&&(this.secureConnection=!0),this.name=this.options.name||this._getHostname(),this.logger=p.getLogger(this.options,{component:this.options.component||"smtp-connection",sid:this.id}),this.customAuth=new Map,Object.keys(this.options.customAuth||{}).forEach(e=>{let t=(e||"").toString().trim().toUpperCase();t&&this.customAuth.set(t,this.options.customAuth[e])}),this.version=a.version,this.authenticated=!1,this.destroyed=!1,this.secure=!!this.secureConnection,this._remainder="",this._responseQueue=[],this.lastServerResponse=!1,this._socket=!1,this._supportedAuth=[],this.allowsAuth=!1,this._envelope=!1,this._supportedExtensions=[],this._maxAllowedSize=0,this._responseActions=[],this._recipientQueue=[],this._greetingTimeout=!1,this._connectionTimeout=!1,this._destroyed=!1,this._closing=!1,this._onSocketData=e=>this._onData(e),this._onSocketError=e=>this._onError(e,"ESOCKET",!1,"CONN"),this._onSocketClose=()=>this._onClose(),this._onSocketEnd=()=>this._onEnd(),this._onSocketTimeout=()=>this._onTimeout()}connect(e){if("function"==typeof e){this.once("connect",()=>{this.logger.debug({tnx:"smtp"},"SMTP handshake finished"),e()});let t=this._isDestroyedMessage("connect");if(t)return e(this._formatError(t,"ECONNECTION",!1,"CONN"))}let t={port:this.port,host:this.host,allowInternalNetworkInterfaces:this.allowInternalNetworkInterfaces,timeout:this.options.dnsTimeout||3e4};this.options.localAddress&&(t.localAddress=this.options.localAddress);let i=()=>{this._connectionTimeout=setTimeout(()=>{this._onError("Connection timeout","ETIMEDOUT",!1,"CONN")},this.options.connectionTimeout||12e4),this._socket.on("error",this._onSocketError)};if(this.options.connection){this._socket=this.options.connection,this.secureConnection&&!this.alreadySecured?setImmediate(()=>this._upgradeConnection(e=>{if(e){this._onError(Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"CONN");return}this._onConnect()})):setImmediate(()=>this._onConnect());return}return this.options.socket?(this._socket=this.options.socket,p.resolveHostname(t,(e,a)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",t.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(e=>{"_"!==e.charAt(0)&&a[e]&&(t[e]=a[e])});try{this._socket.connect(this.port,this.host,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):this.secureConnection?(this.options.tls&&Object.keys(this.options.tls).forEach(e=>{t[e]=this.options.tls[e]}),this.servername&&!t.servername&&(t.servername=this.servername),p.resolveHostname(t,(e,a)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",t.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(e=>{"_"!==e.charAt(0)&&a[e]&&(t[e]=a[e])});try{this._socket=s.connect(t,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})):p.resolveHostname(t,(e,a)=>{if(e)return setImmediate(()=>this._onError(e,"EDNS",!1,"CONN"));this.logger.debug({tnx:"dns",source:t.host,resolved:a.host,cached:!!a.cached},"Resolved %s as %s [cache %s]",t.host,a.host,a.cached?"hit":"miss"),Object.keys(a).forEach(e=>{"_"!==e.charAt(0)&&a[e]&&(t[e]=a[e])});try{this._socket=n.connect(t,()=>{this._socket.setKeepAlive(!0),this._onConnect()}),i()}catch(e){return setImmediate(()=>this._onError(e,"ECONNECTION",!1,"CONN"))}})}quit(){this._sendCommand("QUIT"),this._responseActions.push(this.close)}close(){if(clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._responseActions=[],this._closing)return;this._closing=!0;let e="end";"init"===this.stage&&(e="destroy"),this.logger.debug({tnx:"smtp"},'Closing connection to the server using "%s"',e);let t=this._socket&&this._socket.socket||this._socket;if(t&&!t.destroyed)try{this._socket[e]()}catch(e){}this._destroy()}login(e,t){let i=this._isDestroyedMessage("login");if(i)return t(this._formatError(i,"ECONNECTION",!1,"API"));if(this._auth=e||{},this._authMethod=(this._auth.method||"").toString().trim().toUpperCase()||!1,this._authMethod||!this._auth.oauth2||this._auth.credentials?this._authMethod&&("XOAUTH2"!==this._authMethod||this._auth.oauth2)||(this._authMethod=(this._supportedAuth[0]||"PLAIN").toUpperCase().trim()):this._authMethod="XOAUTH2","XOAUTH2"!==this._authMethod&&(!this._auth.credentials||!this._auth.credentials.user||!this._auth.credentials.pass)){if(!(this._auth.user&&this._auth.pass||this.customAuth.has(this._authMethod)))return t(this._formatError('Missing credentials for "'+this._authMethod+'"',"EAUTH",!1,"API"));this._auth.credentials={user:this._auth.user,pass:this._auth.pass,options:this._auth.options}}if(this.customAuth.has(this._authMethod)){let e,i=this.customAuth.get(this._authMethod),a=!1,r=()=>{a||(a=!0,this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,t(null,!0))},n=i=>{a||(a=!0,t(this._formatError(i,"EAUTH",e,"AUTH "+this._authMethod)))},s=i({auth:this._auth,method:this._authMethod,extensions:[].concat(this._supportedExtensions),authMethods:[].concat(this._supportedAuth),maxAllowedSize:this._maxAllowedSize||!1,sendCommand:(t,i)=>{let a;return i||(a=new Promise((e,t)=>{i=p.callbackPromise(e,t)})),this._responseActions.push(a=>{e=a;let r=a.match(/^(\d+)(?:\s(\d+\.\d+\.\d+))?\s/),n={command:t,response:a};r?(n.status=Number(r[1])||0,r[2]&&(n.code=r[2]),n.text=a.substr(r[0].length)):(n.text=a,n.status=0),i(null,n)}),setImmediate(()=>this._sendCommand(t)),a},resolve:r,reject:n});s&&"function"==typeof s.catch&&s.then(r).catch(n);return}switch(this._authMethod){case"XOAUTH2":this._handleXOauth2Token(!1,t);return;case"LOGIN":this._responseActions.push(e=>{this._actionAUTH_LOGIN_USER(e,t)}),this._sendCommand("AUTH LOGIN");return;case"PLAIN":this._responseActions.push(e=>{this._actionAUTHComplete(e,t)}),this._sendCommand("AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0"+this._auth.credentials.pass,"utf-8").toString("base64"),"AUTH PLAIN "+Buffer.from("\0"+this._auth.credentials.user+"\0/* secret */","utf-8").toString("base64"));return;case"CRAM-MD5":this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5(e,t)}),this._sendCommand("AUTH CRAM-MD5");return}return t(this._formatError('Unknown authentication method "'+this._authMethod+'"',"EAUTH",!1,"API"))}send(e,t,i){if(!t)return i(this._formatError("Empty message","EMESSAGE",!1,"API"));let a=this._isDestroyedMessage("send message");if(a)return i(this._formatError(a,"ECONNECTION",!1,"API"));if(this._maxAllowedSize&&e.size>this._maxAllowedSize)return setImmediate(()=>{i(this._formatError("Message size larger than allowed "+this._maxAllowedSize,"EMESSAGE",!1,"MAIL FROM"))});let r=!1,n=function(){r||(r=!0,i(...arguments))};"function"==typeof t.on&&t.on("error",e=>n(this._formatError(e,"ESTREAM",!1,"API")));let s=Date.now();this._setEnvelope(e,(e,i)=>{if(e){let i=new d;return"function"==typeof t.pipe?t.pipe(i):(i.write(t),i.end()),n(e)}let a=Date.now(),r=this._createSendStream((e,t)=>e?n(e):(i.envelopeTime=a-s,i.messageTime=Date.now()-a,i.messageSize=r.outByteCount,i.response=t,n(null,i)));"function"==typeof t.pipe?t.pipe(r):(r.write(t),r.end())})}reset(e){this._sendCommand("RSET"),this._responseActions.push(t=>"2"!==t.charAt(0)?e(this._formatError("Could not reset session state. response="+t,"EPROTOCOL",t,"RSET")):(this._envelope=!1,e(null,!0)))}_onConnect(){if(clearTimeout(this._connectionTimeout),this.logger.info({tnx:"network",localAddress:this._socket.localAddress,localPort:this._socket.localPort,remoteAddress:this._socket.remoteAddress,remotePort:this._socket.remotePort},"%s established to %s:%s",this.secure?"Secure connection":"Connection",this._socket.remoteAddress,this._socket.remotePort),this._destroyed){this.close();return}this.stage="connected",this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout),this._socket.removeListener("close",this._onSocketClose),this._socket.removeListener("end",this._onSocketEnd),this._socket.on("data",this._onSocketData),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||6e5),this._socket.on("timeout",this._onSocketTimeout),this._greetingTimeout=setTimeout(()=>{this._socket&&!this._destroyed&&this._responseActions[0]===this._actionGreeting&&this._onError("Greeting never received","ETIMEDOUT",!1,"CONN")},this.options.greetingTimeout||3e4),this._responseActions.push(this._actionGreeting),this._socket.resume()}_onData(e){let t;if(this._destroyed||!e||!e.length)return;let i=(e||"").toString("binary"),a=(this._remainder+i).split(/\r?\n/);this._remainder=a.pop();for(let e=0,i=a.length;e<i;e++){if(this._responseQueue.length&&(t=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(t.split("\n").pop()))){this._responseQueue[this._responseQueue.length-1]+="\n"+a[e];continue}this._responseQueue.push(a[e])}this._responseQueue.length&&(t=this._responseQueue[this._responseQueue.length-1],/^\d+-/.test(t.split("\n").pop()))||this._processResponse()}_onError(e,t,i,a){clearTimeout(this._connectionTimeout),clearTimeout(this._greetingTimeout),this._destroyed||(e=this._formatError(e,t,i,a),this.logger.error(i,e.message),this.emit("error",e),this.close())}_formatError(e,t,i,a){let r;r=/Error\]$/i.test(Object.prototype.toString.call(e))?e:Error(e),t&&"Error"!==t&&(r.code=t),i&&(r.response=i,r.message+=": "+i);let n="string"==typeof i&&Number((i.match(/^\d+/)||[])[0])||!1;return n&&(r.responseCode=n),a&&(r.command=a),r}_onClose(){let e=!1;return(this._remainder&&this._remainder.trim()&&((this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},this._remainder.replace(/\r?\n$/,"")),this.lastServerResponse=e=this._remainder.trim()),this.logger.info({tnx:"network"},"Connection closed"),this.upgrading&&!this._destroyed)?this._onError(Error("Connection closed unexpectedly"),"ETLS",e,"CONN"):![this._actionGreeting,this.close].includes(this._responseActions[0])&&!this._destroyed||/^[45]\d{2}\b/.test(e)?this._onError(Error("Connection closed unexpectedly"),"ECONNECTION",e,"CONN"):void this._destroy()}_onEnd(){this._socket&&!this._socket.destroyed&&this._socket.destroy()}_onTimeout(){return this._onError(Error("Timeout"),"ETIMEDOUT",!1,"CONN")}_destroy(){this._destroyed||(this._destroyed=!0,this.emit("end"))}_upgradeConnection(e){this._socket.removeListener("data",this._onSocketData),this._socket.removeListener("timeout",this._onSocketTimeout);let t=this._socket,i={socket:this._socket,host:this.host};Object.keys(this.options.tls||{}).forEach(e=>{i[e]=this.options.tls[e]}),this.servername&&!i.servername&&(i.servername=this.servername),this.upgrading=!0;try{this._socket=s.connect(i,()=>(this.secure=!0,this.upgrading=!1,this._socket.on("data",this._onSocketData),t.removeListener("close",this._onSocketClose),t.removeListener("end",this._onSocketEnd),e(null,!0)))}catch(t){return e(t)}this._socket.on("error",this._onSocketError),this._socket.once("close",this._onSocketClose),this._socket.once("end",this._onSocketEnd),this._socket.setTimeout(this.options.socketTimeout||6e5),this._socket.on("timeout",this._onSocketTimeout),t.resume()}_processResponse(){if(!this._responseQueue.length)return!1;let e=this.lastServerResponse=(this._responseQueue.shift()||"").toString();if(/^\d+-/.test(e.split("\n").pop()))return;(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"server"},e.replace(/\r?\n$/,"")),e.trim()||setImmediate(()=>this._processResponse());let t=this._responseActions.shift();if("function"!=typeof t)return this._onError(Error("Unexpected Response"),"EPROTOCOL",e,"CONN");t.call(this,e),setImmediate(()=>this._processResponse())}_sendCommand(e,t){if(!this._destroyed){if(this._socket.destroyed)return this.close();(this.options.debug||this.options.transactionLog)&&this.logger.debug({tnx:"client"},(t||e||"").toString().replace(/\r?\n$/,"")),this._socket.write(Buffer.from(e+"\r\n","utf-8"))}}_setEnvelope(e,t){let i=[],a=!1;if(this._envelope=e||{},this._envelope.from=(this._envelope.from&&this._envelope.from.address||this._envelope.from||"").toString().trim(),this._envelope.to=[].concat(this._envelope.to||[]).map(e=>(e&&e.address||e||"").toString().trim()),!this._envelope.to.length)return t(this._formatError("No recipients defined","EENVELOPE",!1,"API"));if(this._envelope.from&&/[\r\n<>]/.test(this._envelope.from))return t(this._formatError("Invalid sender "+JSON.stringify(this._envelope.from),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.from)&&(a=!0);for(let e=0,i=this._envelope.to.length;e<i;e++){if(!this._envelope.to[e]||/[\r\n<>]/.test(this._envelope.to[e]))return t(this._formatError("Invalid recipient "+JSON.stringify(this._envelope.to[e]),"EENVELOPE",!1,"API"));/[\x80-\uFFFF]/.test(this._envelope.to[e])&&(a=!0)}if(this._envelope.rcptQueue=JSON.parse(JSON.stringify(this._envelope.to||[])),this._envelope.rejected=[],this._envelope.rejectedErrors=[],this._envelope.accepted=[],this._envelope.dsn)try{this._envelope.dsn=this._setDsnEnvelope(this._envelope.dsn)}catch(e){return t(this._formatError("Invalid DSN "+e.message,"EENVELOPE",!1,"API"))}this._responseActions.push(e=>{this._actionMAIL(e,t)}),a&&this._supportedExtensions.includes("SMTPUTF8")&&(i.push("SMTPUTF8"),this._usingSmtpUtf8=!0),this._envelope.use8BitMime&&this._supportedExtensions.includes("8BITMIME")&&(i.push("BODY=8BITMIME"),this._using8BitMime=!0),this._envelope.size&&this._supportedExtensions.includes("SIZE")&&i.push("SIZE="+this._envelope.size),this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.ret&&i.push("RET="+p.encodeXText(this._envelope.dsn.ret)),this._envelope.dsn.envid&&i.push("ENVID="+p.encodeXText(this._envelope.dsn.envid))),this._sendCommand("MAIL FROM:<"+this._envelope.from+">"+(i.length?" "+i.join(" "):""))}_setDsnEnvelope(e){let t=(e.ret||e.return||"").toString().toUpperCase()||null;if(t)switch(t){case"HDRS":case"HEADERS":t="HDRS";break;case"FULL":case"BODY":t="FULL"}if(t&&!["FULL","HDRS"].includes(t))throw Error("ret: "+JSON.stringify(t));let i=(e.envid||e.id||"").toString()||null,a=e.notify||null;if(a){"string"==typeof a&&(a=a.split(","));let e=["NEVER","SUCCESS","FAILURE","DELAY"];if((a=a.map(e=>e.trim().toUpperCase())).filter(t=>!e.includes(t)).length||a.length>1&&a.includes("NEVER"))throw Error("notify: "+JSON.stringify(a.join(",")));a=a.join(",")}let r=(e.recipient||e.orcpt||"").toString()||null;return r&&0>r.indexOf(";")&&(r="rfc822;"+r),{ret:t,envid:i,notify:a,orcpt:r}}_getDsnRcptToArgs(){let e=[];return this._envelope.dsn&&this._supportedExtensions.includes("DSN")&&(this._envelope.dsn.notify&&e.push("NOTIFY="+p.encodeXText(this._envelope.dsn.notify)),this._envelope.dsn.orcpt&&e.push("ORCPT="+p.encodeXText(this._envelope.dsn.orcpt))),e.length?" "+e.join(" "):""}_createSendStream(e){let t,i=new l;return this.options.lmtp?this._envelope.accepted.forEach((t,i)=>{let a=i===this._envelope.accepted.length-1;this._responseActions.push(i=>{this._actionLMTPStream(t,a,i,e)})}):this._responseActions.push(t=>{this._actionSMTPStream(t,e)}),i.pipe(this._socket,{end:!1}),this.options.debug&&((t=new d).on("readable",()=>{let e;for(;e=t.read();)this.logger.debug({tnx:"message"},e.toString("binary").replace(/\r?\n$/,""))}),i.pipe(t)),i.once("end",()=>{this.logger.info({tnx:"message",inByteCount:i.inByteCount,outByteCount:i.outByteCount},"<%s bytes encoded mime message (source size %s bytes)>",i.outByteCount,i.inByteCount)}),i}_actionGreeting(e){if(clearTimeout(this._greetingTimeout),"220"!==e.substr(0,3)){this._onError(Error("Invalid greeting. response="+e),"EPROTOCOL",e,"CONN");return}this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name))}_actionLHLO(e){if("2"!==e.charAt(0)){this._onError(Error("Invalid LHLO. response="+e),"EPROTOCOL",e,"LHLO");return}this._actionEHLO(e)}_actionEHLO(e){let t;if("421"===e.substr(0,3)){this._onError(Error("Server terminates connection. response="+e),"ECONNECTION",e,"EHLO");return}if("2"!==e.charAt(0)){if(this.options.requireTLS){this._onError(Error("EHLO failed but HELO does not support required STARTTLS. response="+e),"ECONNECTION",e,"EHLO");return}this._responseActions.push(this._actionHELO),this._sendCommand("HELO "+this.name);return}if(this._ehloLines=e.split(/\r?\n/).map(e=>e.replace(/^\d+[ -]/,"").trim()).filter(e=>e).slice(1),!this.secure&&!this.options.ignoreTLS&&(/[ -]STARTTLS\b/im.test(e)||this.options.requireTLS)){this._sendCommand("STARTTLS"),this._responseActions.push(this._actionSTARTTLS);return}/[ -]SMTPUTF8\b/im.test(e)&&this._supportedExtensions.push("SMTPUTF8"),/[ -]DSN\b/im.test(e)&&this._supportedExtensions.push("DSN"),/[ -]8BITMIME\b/im.test(e)&&this._supportedExtensions.push("8BITMIME"),/[ -]PIPELINING\b/im.test(e)&&this._supportedExtensions.push("PIPELINING"),/[ -]AUTH\b/i.test(e)&&(this.allowsAuth=!0),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)PLAIN/i.test(e)&&this._supportedAuth.push("PLAIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)LOGIN/i.test(e)&&this._supportedAuth.push("LOGIN"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)CRAM-MD5/i.test(e)&&this._supportedAuth.push("CRAM-MD5"),/[ -]AUTH(?:(\s+|=)[^\n]*\s+|\s+|=)XOAUTH2/i.test(e)&&this._supportedAuth.push("XOAUTH2"),(t=e.match(/[ -]SIZE(?:[ \t]+(\d+))?/im))&&(this._supportedExtensions.push("SIZE"),this._maxAllowedSize=Number(t[1])||0),this.emit("connect")}_actionHELO(e){if("2"!==e.charAt(0)){this._onError(Error("Invalid HELO. response="+e),"EPROTOCOL",e,"HELO");return}this.allowsAuth=!0,this.emit("connect")}_actionSTARTTLS(e){if("2"!==e.charAt(0))return this.options.opportunisticTLS?(this.logger.info({tnx:"smtp"},"Failed STARTTLS upgrade, continuing unencrypted"),this.emit("connect")):void this._onError(Error("Error upgrading connection with STARTTLS"),"ETLS",e,"STARTTLS");this._upgradeConnection((e,t)=>{if(e){this._onError(Error("Error initiating TLS - "+(e.message||e)),"ETLS",!1,"STARTTLS");return}this.logger.info({tnx:"smtp"},"Connection upgraded with STARTTLS"),t?this.options.lmtp?(this._responseActions.push(this._actionLHLO),this._sendCommand("LHLO "+this.name)):(this._responseActions.push(this._actionEHLO),this._sendCommand("EHLO "+this.name)):this.emit("connect")})}_actionAUTH_LOGIN_USER(e,t){if(!/^334[ -]/.test(e)){t(this._formatError('Invalid login sequence while waiting for "334 VXNlcm5hbWU6"',"EAUTH",e,"AUTH LOGIN"));return}this._responseActions.push(e=>{this._actionAUTH_LOGIN_PASS(e,t)}),this._sendCommand(Buffer.from(this._auth.credentials.user+"","utf-8").toString("base64"))}_actionAUTH_CRAM_MD5(e,t){let i=e.match(/^334\s+(.+)$/),a="";if(!i)return t(this._formatError("Invalid login sequence while waiting for server challenge string","EAUTH",e,"AUTH CRAM-MD5"));a=i[1];let r=Buffer.from(a,"base64").toString("ascii"),n=c.createHmac("md5",this._auth.credentials.pass);n.update(r);let s=this._auth.credentials.user+" "+n.digest("hex");this._responseActions.push(e=>{this._actionAUTH_CRAM_MD5_PASS(e,t)}),this._sendCommand(Buffer.from(s).toString("base64"),Buffer.from(this._auth.credentials.user+" /* secret */").toString("base64"))}_actionAUTH_CRAM_MD5_PASS(e,t){if(!e.match(/^235\s+/))return t(this._formatError('Invalid login sequence while waiting for "235"',"EAUTH",e,"AUTH CRAM-MD5"));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,t(null,!0)}_actionAUTH_LOGIN_PASS(e,t){if(!/^334[ -]/.test(e))return t(this._formatError('Invalid login sequence while waiting for "334 UGFzc3dvcmQ6"',"EAUTH",e,"AUTH LOGIN"));this._responseActions.push(e=>{this._actionAUTHComplete(e,t)}),this._sendCommand(Buffer.from((this._auth.credentials.pass||"").toString(),"utf-8").toString("base64"),Buffer.from("/* secret */","utf-8").toString("base64"))}_actionAUTHComplete(e,t,i){if(i||"function"!=typeof t||(i=t,t=!1),"334"===e.substr(0,3)){this._responseActions.push(e=>{t||"XOAUTH2"!==this._authMethod?this._actionAUTHComplete(e,!0,i):setImmediate(()=>this._handleXOauth2Token(!0,i))}),this._sendCommand("");return}if("2"!==e.charAt(0))return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),i(this._formatError("Invalid login","EAUTH",e,"AUTH "+this._authMethod));this.logger.info({tnx:"smtp",username:this._auth.user,action:"authenticated",method:this._authMethod},"User %s authenticated",JSON.stringify(this._auth.user)),this.authenticated=!0,i(null,!0)}_actionMAIL(e,t){let i,a;if(2!==Number(e.charAt(0)))return i=this._usingSmtpUtf8&&/^550 /.test(e)&&/[\x80-\uFFFF]/.test(this._envelope.from)?"Internationalized mailbox name not allowed":"Mail command failed",t(this._formatError(i,"EENVELOPE",e,"MAIL FROM"));if(!this._envelope.rcptQueue.length)return t(this._formatError("Can't send mail - no recipients defined","EENVELOPE",!1,"API"));if(this._recipientQueue=[],this._supportedExtensions.includes("PIPELINING"))for(;this._envelope.rcptQueue.length;)a=this._envelope.rcptQueue.shift(),this._recipientQueue.push(a),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+a+">"+this._getDsnRcptToArgs());else a=this._envelope.rcptQueue.shift(),this._recipientQueue.push(a),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+a+">"+this._getDsnRcptToArgs())}_actionRCPT(e,t){let i,a,r=this._recipientQueue.shift();if(2!==Number(e.charAt(0))?(i=this._usingSmtpUtf8&&/^553 /.test(e)&&/[\x80-\uFFFF]/.test(r)?"Internationalized mailbox name not allowed":"Recipient command failed",this._envelope.rejected.push(r),(a=this._formatError(i,"EENVELOPE",e,"RCPT TO")).recipient=r,this._envelope.rejectedErrors.push(a)):this._envelope.accepted.push(r),this._envelope.rcptQueue.length||this._recipientQueue.length)this._envelope.rcptQueue.length&&(r=this._envelope.rcptQueue.shift(),this._recipientQueue.push(r),this._responseActions.push(e=>{this._actionRCPT(e,t)}),this._sendCommand("RCPT TO:<"+r+">"+this._getDsnRcptToArgs()));else{if(!(this._envelope.rejected.length<this._envelope.to.length))return(a=this._formatError("Can't send mail - all recipients were rejected","EENVELOPE",e,"RCPT TO")).rejected=this._envelope.rejected,a.rejectedErrors=this._envelope.rejectedErrors,t(a);this._responseActions.push(e=>{this._actionDATA(e,t)}),this._sendCommand("DATA")}}_actionDATA(e,t){if(!/^[23]/.test(e))return t(this._formatError("Data command failed","EENVELOPE",e,"DATA"));let i={accepted:this._envelope.accepted,rejected:this._envelope.rejected};this._ehloLines&&this._ehloLines.length&&(i.ehlo=this._ehloLines),this._envelope.rejectedErrors.length&&(i.rejectedErrors=this._envelope.rejectedErrors),t(null,i)}_actionSMTPStream(e,t){return 2!==Number(e.charAt(0))?t(this._formatError("Message failed","EMESSAGE",e,"DATA")):t(null,e)}_actionLMTPStream(e,t,i,a){let r;if(2!==Number(i.charAt(0))){(r=this._formatError("Message failed for recipient "+e,"EMESSAGE",i,"DATA")).recipient=e,this._envelope.rejected.push(e),this._envelope.rejectedErrors.push(r);for(let t=0,i=this._envelope.accepted.length;t<i;t++)this._envelope.accepted[t]===e&&this._envelope.accepted.splice(t,1)}if(t)return a(null,i)}_handleXOauth2Token(e,t){this._auth.oauth2.getToken(e,(i,a)=>{if(i)return this.logger.info({tnx:"smtp",username:this._auth.user,action:"authfail",method:this._authMethod},"User %s failed to authenticate",JSON.stringify(this._auth.user)),t(this._formatError(i,"EAUTH",!1,"AUTH XOAUTH2"));this._responseActions.push(i=>{this._actionAUTHComplete(i,e,t)}),this._sendCommand("AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token(a),"AUTH XOAUTH2 "+this._auth.oauth2.buildXOAuth2Token("/* secret */"))})}_isDestroyedMessage(e){if(this._destroyed)return"Cannot "+e+" - smtp connection is already destroyed.";if(this._socket){if(this._socket.destroyed)return"Cannot "+e+" - smtp connection socket is already destroyed.";if(!this._socket.writable)return"Cannot "+e+" - smtp connection socket is already half-closed."}}_getHostname(){let e;try{e=o.hostname()||""}catch(t){e="localhost"}return(!e||0>e.indexOf("."))&&(e="[127.0.0.1]"),e.match(/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/)&&(e="["+e+"]"),e}}e.exports=u},76600:(e,t,i)=>{"use strict";let a=i(94735),r=i(36987),n=i(8218),s=i(6065),o=i(63336),c=i(91423);class l extends a{constructor(e){let t;super(),"string"==typeof(e=e||{})&&(e={url:e});let i=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(t=o.parseConnectionUrl(e.url),i=i||t.service),this.options=o.assign(!1,e,t,i&&s(i)),this.options.maxConnections=this.options.maxConnections||5,this.options.maxMessages=this.options.maxMessages||100,this.logger=o.getLogger(this.options,{component:this.options.component||"smtp-pool"});let a=new n(this.options);this.name="SMTP (pool)",this.version=c.version+"[client:"+a.version+"]",this._rateLimit={counter:0,timeout:null,waiting:[],checkpoint:!1,delta:Number(this.options.rateDelta)||1e3,limit:Number(this.options.rateLimit)||0},this._closed=!1,this._queue=[],this._connections=[],this._connectionCounter=0,this.idling=!0,setImmediate(()=>{this.idling&&this.emit("idle")})}getSocket(e,t){return setImmediate(()=>t(null,!1))}send(e,t){return!this._closed&&(this._queue.push({mail:e,requeueAttempts:0,callback:t}),this.idling&&this._queue.length>=this.options.maxConnections&&(this.idling=!1),setImmediate(()=>this._processMessages()),!0)}close(){let e;let t=this._connections.length;if(this._closed=!0,clearTimeout(this._rateLimit.timeout),!t&&!this._queue.length)return;for(let i=t-1;i>=0;i--)this._connections[i]&&this._connections[i].available&&((e=this._connections[i]).close(),this.logger.info({tnx:"connection",cid:e.id,action:"removed"},"Connection #%s removed",e.id));if(t&&!this._connections.length&&this.logger.debug({tnx:"connection"},"All connections removed"),!this._queue.length)return;let i=()=>{if(!this._queue.length){this.logger.debug({tnx:"connection"},"Pending queue entries cleared");return}let t=this._queue.shift();if(t&&"function"==typeof t.callback)try{t.callback(Error("Connection pool was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}setImmediate(i)};setImmediate(i)}_processMessages(){let e,t,i;if(this._closed)return;if(!this._queue.length){this.idling||(this.idling=!0,this.emit("idle"));return}for(t=0,i=this._connections.length;t<i;t++)if(this._connections[t].available){e=this._connections[t];break}if(!e&&this._connections.length<this.options.maxConnections&&(e=this._createConnection()),!e){this.idling=!1;return}!this.idling&&this._queue.length<this.options.maxConnections&&(this.idling=!0,this.emit("idle"));let a=e.queueEntry=this._queue.shift();a.messageId=(e.queueEntry.mail.message.getHeader("message-id")||"").replace(/[<>\s]/g,""),e.available=!1,this.logger.debug({tnx:"pool",cid:e.id,messageId:a.messageId,action:"assign"},"Assigned message <%s> to #%s (%s)",a.messageId,e.id,e.messages+1),this._rateLimit.limit&&(this._rateLimit.counter++,this._rateLimit.checkpoint||(this._rateLimit.checkpoint=Date.now())),e.send(a.mail,(t,i)=>{if(a===e.queueEntry){try{a.callback(t,i)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}})}_createConnection(){let e=new r(this);return e.id=++this._connectionCounter,this.logger.info({tnx:"pool",cid:e.id,action:"conection"},"Created new pool resource #%s",e.id),e.on("available",()=>{this.logger.debug({tnx:"connection",cid:e.id,action:"available"},"Connection #%s became available",e.id),this._closed?this.close():this._processMessages()}),e.once("error",t=>{if("EMAXLIMIT"!==t.code?this.logger.error({err:t,tnx:"pool",cid:e.id},"Pool Error for #%s: %s",e.id,t.message):this.logger.debug({tnx:"pool",cid:e.id,action:"maxlimit"},"Max messages limit exchausted for #%s",e.id),e.queueEntry){try{e.queueEntry.callback(t)}catch(t){this.logger.error({err:t,tnx:"callback",cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}this._removeConnection(e),this._continueProcessing()}),e.once("close",()=>{this.logger.info({tnx:"connection",cid:e.id,action:"closed"},"Connection #%s was closed",e.id),this._removeConnection(e),e.queueEntry?setTimeout(()=>{e.queueEntry&&(this._shouldRequeuOnConnectionClose(e.queueEntry)?this._requeueEntryOnConnectionClose(e):this._failDeliveryOnConnectionClose(e)),this._continueProcessing()},50):this._continueProcessing()}),this._connections.push(e),e}_shouldRequeuOnConnectionClose(e){return void 0===this.options.maxRequeues||this.options.maxRequeues<0||e.requeueAttempts<this.options.maxRequeues}_failDeliveryOnConnectionClose(e){if(e.queueEntry&&e.queueEntry.callback){try{e.queueEntry.callback(Error("Reached maximum number of retries after connection was closed"))}catch(t){this.logger.error({err:t,tnx:"callback",messageId:e.queueEntry.messageId,cid:e.id},"Callback error for #%s: %s",e.id,t.message)}e.queueEntry=!1}}_requeueEntryOnConnectionClose(e){e.queueEntry.requeueAttempts=e.queueEntry.requeueAttempts+1,this.logger.debug({tnx:"pool",cid:e.id,messageId:e.queueEntry.messageId,action:"requeue"},"Re-queued message <%s> for #%s. Attempt: #%s",e.queueEntry.messageId,e.id,e.queueEntry.requeueAttempts),this._queue.unshift(e.queueEntry),e.queueEntry=!1}_continueProcessing(){this._closed?this.close():setTimeout(()=>this._processMessages(),100)}_removeConnection(e){let t=this._connections.indexOf(e);-1!==t&&this._connections.splice(t,1)}_checkRateLimit(e){if(!this._rateLimit.limit)return e();let t=Date.now();return this._rateLimit.counter<this._rateLimit.limit?e():(this._rateLimit.waiting.push(e),this._rateLimit.checkpoint<=t-this._rateLimit.delta)?this._clearRateLimit():void(this._rateLimit.timeout||(this._rateLimit.timeout=setTimeout(()=>this._clearRateLimit(),this._rateLimit.delta-(t-this._rateLimit.checkpoint)),this._rateLimit.checkpoint=t))}_clearRateLimit(){for(clearTimeout(this._rateLimit.timeout),this._rateLimit.timeout=null,this._rateLimit.counter=0,this._rateLimit.checkpoint=!1;this._rateLimit.waiting.length;)setImmediate(this._rateLimit.waiting.shift())}isIdle(){return this.idling}verify(e){let t;e||(t=new Promise((t,i)=>{e=o.callbackPromise(t,i)}));let i=new r(this).auth;return this.getSocket(this.options,(t,a)=>{if(t)return e(t);let r=this.options;a&&a.connection&&(this.logger.info({tnx:"proxy",remoteAddress:a.connection.remoteAddress,remotePort:a.connection.remotePort,destHost:r.host||"",destPort:r.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",a.connection.remoteAddress,a.connection.remotePort,r.host||"",r.port||""),r=o.assign(!1,r),Object.keys(a).forEach(e=>{r[e]=a[e]}));let s=new n(r),c=!1;s.once("error",t=>{if(!c)return c=!0,s.close(),e(t)}),s.once("end",()=>{if(!c)return c=!0,e(Error("Connection closed"))});let l=()=>{if(!c)return c=!0,s.quit(),e(null,!0)};s.connect(()=>{if(!c){if(i&&(s.allowsAuth||r.forceAuth))s.login(i,t=>{if(!c){if(t)return c=!0,s.close(),e(t);l()}});else if(!i&&s.allowsAuth&&r.forceAuth){let t=Error("Authentication info was not provided");return t.code="NoAuth",c=!0,s.close(),e(t)}else l()}})}),t}}e.exports=l},36987:(e,t,i)=>{"use strict";let a=i(8218),r=i(63336).assign,n=i(65626),s=i(94735);class o extends s{constructor(e){if(super(),this.pool=e,this.options=e.options,this.logger=this.pool.logger,this.options.auth)switch((this.options.auth.type||"").toString().toUpperCase()){case"OAUTH2":{let e=new n(this.options.auth,this.logger);e.provisionCallback=this.pool.mailer&&this.pool.mailer.get("oauth2_provision_cb")||e.provisionCallback,this.auth={type:"OAUTH2",user:this.options.auth.user,oauth2:e,method:"XOAUTH2"},e.on("token",e=>this.pool.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e));break}default:if(!this.options.auth.user&&!this.options.auth.pass)break;this.auth={type:(this.options.auth.type||"").toString().toUpperCase()||"LOGIN",user:this.options.auth.user,credentials:{user:this.options.auth.user||"",pass:this.options.auth.pass,options:this.options.auth.options},method:(this.options.auth.method||"").trim().toUpperCase()||this.options.authMethod||!1}}this._connection=!1,this._connected=!1,this.messages=0,this.available=!0}connect(e){this.pool.getSocket(this.options,(t,i)=>{if(t)return e(t);let n=!1,s=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:s.host||"",destPort:s.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,s.host||"",s.port||""),s=r(!1,s),Object.keys(i).forEach(e=>{s[e]=i[e]})),this.connection=new a(s),this.connection.once("error",t=>{if(this.emit("error",t),!n)return n=!0,e(t)}),this.connection.once("end",()=>{if(this.close(),n)return;n=!0;let t=setTimeout(()=>{if(n)return;let t=Error("Unexpected socket close");this.connection&&this.connection._socket&&this.connection._socket.upgrading&&(t.code="ETLS"),e(t)},1e3);try{t.unref()}catch(e){}}),this.connection.connect(()=>{if(!n){if(!this.auth||!this.connection.allowsAuth&&!s.forceAuth)return n=!0,this._connected=!0,e(null,!0);this.connection.login(this.auth,t=>{if(!n){if(n=!0,t)return this.connection.close(),this.emit("error",t),e(t);this._connected=!0,e(null,!0)}})}})})}send(e,t){if(!this._connected)return this.connect(i=>i?t(i):this.send(e,t));let i=e.message.getEnvelope(),a=e.message.messageId(),r=[].concat(i.to||[]);r.length>3&&r.push("...and "+r.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:a,cid:this.id},"Sending message %s using #%s to <%s>",a,this.id,r.join(", ")),e.data.dsn&&(i.dsn=e.data.dsn),this.connection.send(i,e.message.createReadStream(),(e,r)=>{if(this.messages++,e)return this.connection.close(),this.emit("error",e),t(e);r.envelope={from:i.from,to:i.to},r.messageId=a,setImmediate(()=>{let e;this.messages>=this.options.maxMessages?((e=Error("Resource exhausted")).code="EMAXLIMIT",this.connection.close(),this.emit("error",e)):this.pool._checkRateLimit(()=>{this.available=!0,this.emit("available")})}),t(null,r)})}close(){this._connected=!1,this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.connection&&this.connection.close(),this.emit("close")}}e.exports=o},5907:(e,t,i)=>{"use strict";let a=i(94735),r=i(8218),n=i(6065),s=i(63336),o=i(65626),c=i(91423);class l extends a{constructor(e){let t;super(),"string"==typeof(e=e||{})&&(e={url:e});let i=e.service;"function"==typeof e.getSocket&&(this.getSocket=e.getSocket),e.url&&(t=s.parseConnectionUrl(e.url),i=i||t.service),this.options=s.assign(!1,e,t,i&&n(i)),this.logger=s.getLogger(this.options,{component:this.options.component||"smtp-transport"});let a=new r(this.options);this.name="SMTP",this.version=c.version+"[client:"+a.version+"]",this.options.auth&&(this.auth=this.getAuth({}))}getSocket(e,t){return setImmediate(()=>t(null,!1))}getAuth(e){if(!e)return this.auth;let t=!1,i={};if(this.options.auth&&"object"==typeof this.options.auth&&Object.keys(this.options.auth).forEach(e=>{t=!0,i[e]=this.options.auth[e]}),e&&"object"==typeof e&&Object.keys(e).forEach(a=>{t=!0,i[a]=e[a]}),!t)return!1;if("OAUTH2"===(i.type||"").toString().toUpperCase()){if(!i.service&&!i.user)return!1;let e=new o(i,this.logger);return e.provisionCallback=this.mailer&&this.mailer.get("oauth2_provision_cb")||e.provisionCallback,e.on("token",e=>this.mailer.emit("token",e)),e.on("error",e=>this.emit("error",e)),{type:"OAUTH2",user:i.user,oauth2:e,method:"XOAUTH2"}}return{type:(i.type||"").toString().toUpperCase()||"LOGIN",user:i.user,credentials:{user:i.user||"",pass:i.pass,options:i.options},method:(i.method||"").trim().toUpperCase()||this.options.authMethod||!1}}send(e,t){this.getSocket(this.options,(i,a)=>{if(i)return t(i);let n=!1,o=this.options;a&&a.connection&&(this.logger.info({tnx:"proxy",remoteAddress:a.connection.remoteAddress,remotePort:a.connection.remotePort,destHost:o.host||"",destPort:o.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",a.connection.remoteAddress,a.connection.remotePort,o.host||"",o.port||""),o=s.assign(!1,o),Object.keys(a).forEach(e=>{o[e]=a[e]}));let c=new r(o);c.once("error",e=>{if(!n)return n=!0,c.close(),t(e)}),c.once("end",()=>{if(n)return;let e=setTimeout(()=>{if(n)return;n=!0;let e=Error("Unexpected socket close");c&&c._socket&&c._socket.upgrading&&(e.code="ETLS"),t(e)},1e3);try{e.unref()}catch(e){}});let l=()=>{let i=e.message.getEnvelope(),a=e.message.messageId(),r=[].concat(i.to||[]);r.length>3&&r.push("...and "+r.splice(2).length+" more"),e.data.dsn&&(i.dsn=e.data.dsn),this.logger.info({tnx:"send",messageId:a},"Sending message %s to <%s>",a,r.join(", ")),c.send(i,e.message.createReadStream(),(e,r)=>{if(n=!0,c.close(),e)return this.logger.error({err:e,tnx:"send"},"Send error for %s: %s",a,e.message),t(e);r.envelope={from:i.from,to:i.to},r.messageId=a;try{return t(null,r)}catch(e){this.logger.error({err:e,tnx:"callback"},"Callback error for %s: %s",a,e.message)}})};c.connect(()=>{if(n)return;let i=this.getAuth(e.data.auth);i&&(c.allowsAuth||o.forceAuth)?c.login(i,e=>{if(i&&i!==this.auth&&i.oauth2&&i.oauth2.removeAllListeners(),!n){if(e)return n=!0,c.close(),t(e);l()}}):l()})})}verify(e){let t;return e||(t=new Promise((t,i)=>{e=s.callbackPromise(t,i)})),this.getSocket(this.options,(t,i)=>{if(t)return e(t);let a=this.options;i&&i.connection&&(this.logger.info({tnx:"proxy",remoteAddress:i.connection.remoteAddress,remotePort:i.connection.remotePort,destHost:a.host||"",destPort:a.port||"",action:"connected"},"Using proxied socket from %s:%s to %s:%s",i.connection.remoteAddress,i.connection.remotePort,a.host||"",a.port||""),a=s.assign(!1,a),Object.keys(i).forEach(e=>{a[e]=i[e]}));let n=new r(a),o=!1;n.once("error",t=>{if(!o)return o=!0,n.close(),e(t)}),n.once("end",()=>{if(!o)return o=!0,e(Error("Connection closed"))});let c=()=>{if(!o)return o=!0,n.quit(),e(null,!0)};n.connect(()=>{if(o)return;let t=this.getAuth({});if(t&&(n.allowsAuth||a.forceAuth))n.login(t,t=>{if(!o){if(t)return o=!0,n.close(),e(t);c()}});else if(!t&&n.allowsAuth&&a.forceAuth){let t=Error("Authentication info was not provided");return t.code="NoAuth",o=!0,n.close(),e(t)}else c()})}),t}close(){this.auth&&this.auth.oauth2&&this.auth.oauth2.removeAllListeners(),this.emit("close")}}e.exports=l},99007:(e,t,i)=>{"use strict";let a=i(91423),r=i(63336);class n{constructor(e){e=e||{},this.options=e||{},this.name="StreamTransport",this.version=a.version,this.logger=r.getLogger(this.options,{component:this.options.component||"stream-transport"}),this.winbreak=["win","windows","dos","\r\n"].includes((e.newline||"").toString().toLowerCase())}send(e,t){e.message.keepBcc=!0;let i=e.data.envelope||e.message.getEnvelope(),a=e.message.messageId(),r=[].concat(i.to||[]);r.length>3&&r.push("...and "+r.splice(2).length+" more"),this.logger.info({tnx:"send",messageId:a},"Sending message %s to <%s> using %s line breaks",a,r.join(", "),this.winbreak?"<CR><LF>":"<LF>"),setImmediate(()=>{let i;try{i=e.message.createReadStream()}catch(e){return this.logger.error({err:e,tnx:"send",messageId:a},"Creating send stream failed for %s. %s",a,e.message),t(e)}if(!this.options.buffer)return i.once("error",e=>{this.logger.error({err:e,tnx:"send",messageId:a},"Failed creating message for %s. %s",a,e.message)}),t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:a,message:i});let r=[],n=0;i.on("readable",()=>{let e;for(;null!==(e=i.read());)r.push(e),n+=e.length}),i.once("error",e=>(this.logger.error({err:e,tnx:"send",messageId:a},"Failed creating message for %s. %s",a,e.message),t(e))),i.on("end",()=>t(null,{envelope:e.data.envelope||e.message.getEnvelope(),messageId:a,message:Buffer.concat(r,n)}))})}}e.exports=n},6065:(e,t,i)=>{"use strict";let a=i(3350),r={};function n(e){return e.replace(/[^a-zA-Z0-9.-]/g,"").toLowerCase()}function s(e){let t=["domains","aliases"],i={};return Object.keys(e).forEach(a=>{0>t.indexOf(a)&&(i[a]=e[a])}),i}Object.keys(a).forEach(e=>{let t=a[e];r[n(e)]=s(t),[].concat(t.aliases||[]).forEach(e=>{r[n(e)]=s(t)}),[].concat(t.domains||[]).forEach(e=>{r[n(e)]=s(t)})}),e.exports=function(e){return r[e=n(e.split("@").pop())]||!1}},65626:(e,t,i)=>{"use strict";let a=i(27910).Stream,r=i(76547),n=i(55511),s=i(63336);class o extends a{constructor(e,t){if(super(),this.options=e||{},e&&e.serviceClient){if(!e.privateKey||!e.user){setImmediate(()=>this.emit("error",Error('Options "privateKey" and "user" are required for service account!')));return}let t=Math.min(Math.max(Number(this.options.serviceRequestTimeout)||0,0),3600);this.options.serviceRequestTimeout=t||300}if(this.logger=s.getLogger({logger:t},{component:this.options.component||"OAuth2"}),this.provisionCallback="function"==typeof this.options.provisionCallback&&this.options.provisionCallback,this.options.accessUrl=this.options.accessUrl||"https://accounts.google.com/o/oauth2/token",this.options.customHeaders=this.options.customHeaders||{},this.options.customParams=this.options.customParams||{},this.accessToken=this.options.accessToken||!1,this.options.expires&&Number(this.options.expires))this.expires=this.options.expires;else{let e=Math.max(Number(this.options.timeout)||0,0);this.expires=e&&Date.now()+1e3*e||0}}getToken(e,t){if(!e&&this.accessToken&&(!this.expires||this.expires>Date.now()))return t(null,this.accessToken);let i=(...e)=>{e[0]?this.logger.error({err:e[0],tnx:"OAUTH2",user:this.options.user,action:"renew"},"Failed generating new Access Token for %s",this.options.user):this.logger.info({tnx:"OAUTH2",user:this.options.user,action:"renew"},"Generated new Access Token for %s",this.options.user),t(...e)};this.provisionCallback?this.provisionCallback(this.options.user,!!e,(e,t,a)=>{!e&&t&&(this.accessToken=t,this.expires=a||0),i(e,t)}):this.generateToken(i)}updateToken(e,t){this.accessToken=e,t=Math.max(Number(t)||0,0),this.expires=t&&Date.now()+1e3*t||0,this.emit("token",{user:this.options.user,accessToken:e||"",expires:this.expires})}generateToken(e){let t,i;if(this.options.serviceClient){let a,r=Math.floor(Date.now()/1e3),n={iss:this.options.serviceClient,scope:this.options.scope||"https://mail.google.com/",sub:this.options.user,aud:this.options.accessUrl,iat:r,exp:r+this.options.serviceRequestTimeout};try{a=this.jwtSignRS256(n)}catch(t){return e(Error("Can't generate token. Check your auth options"))}t={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:a},i={grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:n}}else{if(!this.options.refreshToken)return e(Error("Can't create new access token for user"));t={client_id:this.options.clientId||"",client_secret:this.options.clientSecret||"",refresh_token:this.options.refreshToken,grant_type:"refresh_token"},i={client_id:this.options.clientId||"",client_secret:(this.options.clientSecret||"").substr(0,6)+"...",refresh_token:(this.options.refreshToken||"").substr(0,6)+"...",grant_type:"refresh_token"}}Object.keys(this.options.customParams).forEach(e=>{t[e]=this.options.customParams[e],i[e]=this.options.customParams[e]}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"generate"},"Requesting token using: %s",JSON.stringify(i)),this.postRequest(this.options.accessUrl,t,this.options,(t,i)=>{let a;if(t)return e(t);try{a=JSON.parse(i.toString())}catch(t){return e(t)}if(!a||"object"!=typeof a)return this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",(i||"").toString()),e(Error("Invalid authentication response"));let r={};if(Object.keys(a).forEach(e=>{"access_token"!==e?r[e]=a[e]:r[e]=(a[e]||"").toString().substr(0,6)+"..."}),this.logger.debug({tnx:"OAUTH2",user:this.options.user,action:"post"},"Response: %s",JSON.stringify(r)),a.error){let t=a.error;return a.error_description&&(t+=": "+a.error_description),a.error_uri&&(t+=" ("+a.error_uri+")"),e(Error(t))}return a.access_token?(this.updateToken(a.access_token,a.expires_in),e(null,this.accessToken)):e(Error("No access token"))})}buildXOAuth2Token(e){let t=["user="+(this.options.user||""),"auth=Bearer "+(e||this.accessToken),"",""];return Buffer.from(t.join("\x01"),"utf-8").toString("base64")}postRequest(e,t,i,a){let n=!1,s=[],o=0,c=r(e,{method:"post",headers:i.customHeaders,body:t,allowErrorResponse:!0});c.on("readable",()=>{let e;for(;null!==(e=c.read());)s.push(e),o+=e.length}),c.once("error",e=>{if(!n)return n=!0,a(e)}),c.once("end",()=>{if(!n)return n=!0,a(null,Buffer.concat(s,o))})}toBase64URL(e){return"string"==typeof e&&(e=Buffer.from(e)),e.toString("base64").replace(/[=]+/g,"").replace(/\+/g,"-").replace(/\//g,"_")}jwtSignRS256(e){e=['{"alg":"RS256","typ":"JWT"}',JSON.stringify(e)].map(e=>this.toBase64URL(e)).join(".");let t=n.createSign("RSA-SHA256").update(e).sign(this.options.privateKey);return e+"."+this.toBase64URL(t)}}e.exports=o},81914:(e,t,i)=>{"use strict";i.d(t,{u:()=>l});var a=i(6868);let r=(e,t,i)=>{if(e&&"reportValidity"in e){let r=(0,a.Jt)(i,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},n=(e,t)=>{for(let i in t.fields){let a=t.fields[i];a&&a.ref&&"reportValidity"in a.ref?r(a.ref,i,e):a.refs&&a.refs.forEach(t=>r(t,i,e))}},s=(e,t)=>{t.shouldUseNativeValidation&&n(e,t);let i={};for(let r in e){let n=(0,a.Jt)(t.fields,r),s=Object.assign(e[r]||{},{ref:n&&n.ref});if(o(t.names||Object.keys(e),r)){let e=Object.assign({},(0,a.Jt)(i,r));(0,a.hZ)(e,"root",s),(0,a.hZ)(i,r,e)}else(0,a.hZ)(i,r,s)}return i},o=(e,t)=>e.some(e=>e.startsWith(t+"."));var c=function(e,t){for(var i={};e.length;){var r=e[0],n=r.code,s=r.message,o=r.path.join(".");if(!i[o]){if("unionErrors"in r){var c=r.unionErrors[0].errors[0];i[o]={message:c.message,type:c.code}}else i[o]={message:s,type:n}}if("unionErrors"in r&&r.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=i[o].types,d=l&&l[r.code];i[o]=(0,a.Gb)(o,t,i,n,d?[].concat(d,r.message):r.message)}e.shift()}return i},l=function(e,t,i){return void 0===i&&(i={}),function(a,r,o){try{return Promise.resolve(function(r,s){try{var c=Promise.resolve(e["sync"===i.mode?"parse":"parseAsync"](a,t)).then(function(e){return o.shouldUseNativeValidation&&n({},o),{errors:{},values:i.raw?a:e}})}catch(e){return s(e)}return c&&c.then?c.then(void 0,s):c}(0,function(e){if(Array.isArray(null==e?void 0:e.errors))return{values:{},errors:s(c(e.errors,!o.shouldUseNativeValidation&&"all"===o.criteriaMode),o)};throw e}))}catch(e){return Promise.reject(e)}}}},92405:(e,t,i)=>{"use strict";i.d(t,{b:()=>o});var a=i(58009),r=i(30830),n=i(45512),s=a.forwardRef((e,t)=>(0,n.jsx)(r.sG.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var o=s},6868:(e,t,i)=>{"use strict";i.d(t,{Gb:()=>D,Jt:()=>v,Op:()=>T,hZ:()=>_,mN:()=>ek,xI:()=>L,xW:()=>S});var a=i(58009),r=e=>"checkbox"===e.type,n=e=>e instanceof Date,s=e=>null==e;let o=e=>"object"==typeof e;var c=e=>!s(e)&&!Array.isArray(e)&&o(e)&&!n(e),l=e=>c(e)&&e.target?r(e.target)?e.target.checked:e.target.value:e,d=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,p=(e,t)=>e.has(d(t)),u=e=>{let t=e.constructor&&e.constructor.prototype;return c(t)&&t.hasOwnProperty("isPrototypeOf")},h="undefined"!=typeof window&&void 0!==window.HTMLElement&&"undefined"!=typeof document;function f(e){let t;let i=Array.isArray(e),a="undefined"!=typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(!(h&&(e instanceof Blob||a))&&(i||c(e))))return e;else if(t=i?[]:{},i||u(e))for(let i in e)e.hasOwnProperty(i)&&(t[i]=f(e[i]));else t=e;return t}var m=e=>Array.isArray(e)?e.filter(Boolean):[],g=e=>void 0===e,v=(e,t,i)=>{if(!t||!c(e))return i;let a=m(t.split(/[,[\].]+?/)).reduce((e,t)=>s(e)?e:e[t],e);return g(a)||a===e?g(e[t])?i:e[t]:a},x=e=>"boolean"==typeof e,y=e=>/^\w*$/.test(e),b=e=>m(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_=(e,t,i)=>{let a=-1,r=y(t)?[t]:b(t),n=r.length,s=n-1;for(;++a<n;){let t=r[a],n=i;if(a!==s){let i=e[t];n=c(i)||Array.isArray(i)?i:isNaN(+r[a+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=n,e=e[t]}return e};let w={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},k={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},E={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},A=a.createContext(null),S=()=>a.useContext(A),T=e=>{let{children:t,...i}=e;return a.createElement(A.Provider,{value:i},t)};var C=(e,t,i,a=!0)=>{let r={defaultValues:t._defaultValues};for(let n in e)Object.defineProperty(r,n,{get:()=>(t._proxyFormState[n]!==k.all&&(t._proxyFormState[n]=!a||k.all),i&&(i[n]=!0),e[n])});return r},O=e=>c(e)&&!Object.keys(e).length,R=(e,t,i,a)=>{i(e);let{name:r,...n}=e;return O(n)||Object.keys(n).length>=Object.keys(t).length||Object.keys(n).find(e=>t[e]===(!a||k.all))},P=e=>Array.isArray(e)?e:[e],j=(e,t,i)=>!e||!t||e===t||P(e).some(e=>e&&(i?e===t:e.startsWith(t)||t.startsWith(e)));function I(e){let t=a.useRef(e);t.current=e,a.useEffect(()=>{let i=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{i&&i.unsubscribe()}},[e.disabled])}var N=e=>"string"==typeof e,U=(e,t,i,a,r)=>N(e)?(a&&t.watch.add(e),v(i,e,r)):Array.isArray(e)?e.map(e=>(a&&t.watch.add(e),v(i,e))):(a&&(t.watchAll=!0),i);let L=e=>e.render(function(e){let t=S(),{name:i,disabled:r,control:n=t.control,shouldUnregister:s}=e,o=p(n._names.array,i),c=function(e){let t=S(),{control:i=t.control,name:r,defaultValue:n,disabled:s,exact:o}=e||{},c=a.useRef(r);c.current=r,I({disabled:s,subject:i._subjects.values,next:e=>{j(c.current,e.name,o)&&d(f(U(c.current,i._names,e.values||i._formValues,!1,n)))}});let[l,d]=a.useState(i._getWatch(r,n));return a.useEffect(()=>i._removeUnmounted()),l}({control:n,name:i,defaultValue:v(n._formValues,i,v(n._defaultValues,i,e.defaultValue)),exact:!0}),d=function(e){let t=S(),{control:i=t.control,disabled:r,name:n,exact:s}=e||{},[o,c]=a.useState(i._formState),l=a.useRef(!0),d=a.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),p=a.useRef(n);return p.current=n,I({disabled:r,next:e=>l.current&&j(p.current,e.name,s)&&R(e,d.current,i._updateFormState)&&c({...i._formState,...e}),subject:i._subjects.state}),a.useEffect(()=>(l.current=!0,d.current.isValid&&i._updateValid(!0),()=>{l.current=!1}),[i]),a.useMemo(()=>C(o,i,d.current,!1),[o,i])}({control:n,name:i,exact:!0}),u=a.useRef(n.register(i,{...e.rules,value:c,...x(e.disabled)?{disabled:e.disabled}:{}})),h=a.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!v(d.errors,i)},isDirty:{enumerable:!0,get:()=>!!v(d.dirtyFields,i)},isTouched:{enumerable:!0,get:()=>!!v(d.touchedFields,i)},isValidating:{enumerable:!0,get:()=>!!v(d.validatingFields,i)},error:{enumerable:!0,get:()=>v(d.errors,i)}}),[d,i]),m=a.useMemo(()=>({name:i,value:c,...x(r)||d.disabled?{disabled:d.disabled||r}:{},onChange:e=>u.current.onChange({target:{value:l(e),name:i},type:w.CHANGE}),onBlur:()=>u.current.onBlur({target:{value:v(n._formValues,i),name:i},type:w.BLUR}),ref:e=>{let t=v(n._fields,i);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}}),[i,n._formValues,r,d.disabled,c,n._fields]);return a.useEffect(()=>{let e=n._options.shouldUnregister||s,t=(e,t)=>{let i=v(n._fields,e);i&&i._f&&(i._f.mount=t)};if(t(i,!0),e){let e=f(v(n._options.defaultValues,i));_(n._defaultValues,i,e),g(v(n._formValues,i))&&_(n._formValues,i,e)}return()=>{(o?e&&!n._state.action:e)?n.unregister(i):t(i,!1)}},[i,n,o,s]),a.useEffect(()=>{x(r)&&v(n._fields,i)&&n._updateDisabledField({disabled:r,fields:n._fields,name:i,value:v(n._fields,i)._f.value})},[r,i,n]),a.useMemo(()=>({field:m,formState:d,fieldState:h}),[m,d,h])}(e));var D=(e,t,i,a,r)=>t?{...i[e],types:{...i[e]&&i[e].types?i[e].types:{},[a]:r||!0}}:{},M=e=>({isOnSubmit:!e||e===k.onSubmit,isOnBlur:e===k.onBlur,isOnChange:e===k.onChange,isOnAll:e===k.all,isOnTouch:e===k.onTouched}),H=(e,t,i)=>!i&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));let $=(e,t,i,a)=>{for(let r of i||Object.keys(e)){let i=v(e,r);if(i){let{_f:e,...n}=i;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],r)&&!a||e.ref&&t(e.ref,e.name)&&!a)return!0;if($(n,t))break}else if(c(n)&&$(n,t))break}}};var F=(e,t,i)=>{let a=P(v(e,i));return _(a,"root",t[i]),_(e,i,a),e},z=e=>"file"===e.type,B=e=>"function"==typeof e,q=e=>{if(!h)return!1;let t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},W=e=>N(e),V=e=>"radio"===e.type,Z=e=>e instanceof RegExp;let K={value:!1,isValid:!1},J={value:!0,isValid:!0};var G=e=>{if(Array.isArray(e)){if(e.length>1){let t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!g(e[0].attributes.value)?g(e[0].value)||""===e[0].value?J:{value:e[0].value,isValid:!0}:J:K}return K};let X={isValid:!1,value:null};var Q=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,X):X;function Y(e,t,i="validate"){if(W(e)||Array.isArray(e)&&e.every(W)||x(e)&&!e)return{type:i,message:W(e)?e:"",ref:t}}var ee=e=>c(e)&&!Z(e)?e:{value:e,message:""},et=async(e,t,i,a,n)=>{let{ref:o,refs:l,required:d,maxLength:p,minLength:u,min:h,max:f,pattern:m,validate:y,name:b,valueAsNumber:_,mount:w,disabled:k}=e._f,A=v(t,b);if(!w||k)return{};let S=l?l[0]:o,T=e=>{a&&S.reportValidity&&(S.setCustomValidity(x(e)?"":e||""),S.reportValidity())},C={},R=V(o),P=r(o),j=(_||z(o))&&g(o.value)&&g(A)||q(o)&&""===o.value||""===A||Array.isArray(A)&&!A.length,I=D.bind(null,b,i,C),U=(e,t,i,a=E.maxLength,r=E.minLength)=>{let n=e?t:i;C[b]={type:e?a:r,message:n,ref:o,...I(e?a:r,n)}};if(n?!Array.isArray(A)||!A.length:d&&(!(R||P)&&(j||s(A))||x(A)&&!A||P&&!G(l).isValid||R&&!Q(l).isValid)){let{value:e,message:t}=W(d)?{value:!!d,message:d}:ee(d);if(e&&(C[b]={type:E.required,message:t,ref:S,...I(E.required,t)},!i))return T(t),C}if(!j&&(!s(h)||!s(f))){let e,t;let a=ee(f),r=ee(h);if(s(A)||isNaN(A)){let i=o.valueAsDate||new Date(A),n=e=>new Date(new Date().toDateString()+" "+e),s="time"==o.type,c="week"==o.type;N(a.value)&&A&&(e=s?n(A)>n(a.value):c?A>a.value:i>new Date(a.value)),N(r.value)&&A&&(t=s?n(A)<n(r.value):c?A<r.value:i<new Date(r.value))}else{let i=o.valueAsNumber||(A?+A:A);s(a.value)||(e=i>a.value),s(r.value)||(t=i<r.value)}if((e||t)&&(U(!!e,a.message,r.message,E.max,E.min),!i))return T(C[b].message),C}if((p||u)&&!j&&(N(A)||n&&Array.isArray(A))){let e=ee(p),t=ee(u),a=!s(e.value)&&A.length>+e.value,r=!s(t.value)&&A.length<+t.value;if((a||r)&&(U(a,e.message,t.message),!i))return T(C[b].message),C}if(m&&!j&&N(A)){let{value:e,message:t}=ee(m);if(Z(e)&&!A.match(e)&&(C[b]={type:E.pattern,message:t,ref:o,...I(E.pattern,t)},!i))return T(t),C}if(y){if(B(y)){let e=Y(await y(A,t),S);if(e&&(C[b]={...e,...I(E.validate,e.message)},!i))return T(e.message),C}else if(c(y)){let e={};for(let a in y){if(!O(e)&&!i)break;let r=Y(await y[a](A,t),S,a);r&&(e={...r,...I(a,r.message)},T(r.message),i&&(C[b]=e))}if(!O(e)&&(C[b]={ref:S,...e},!i))return C}}return T(!0),C};function ei(e,t){let i=Array.isArray(t)?t:y(t)?[t]:b(t),a=1===i.length?e:function(e,t){let i=t.slice(0,-1).length,a=0;for(;a<i;)e=g(e)?a++:e[t[a++]];return e}(e,i),r=i.length-1,n=i[r];return a&&delete a[n],0!==r&&(c(a)&&O(a)||Array.isArray(a)&&function(e){for(let t in e)if(e.hasOwnProperty(t)&&!g(e[t]))return!1;return!0}(a))&&ei(e,i.slice(0,-1)),e}var ea=()=>{let e=[];return{get observers(){return e},next:t=>{for(let i of e)i.next&&i.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},er=e=>s(e)||!o(e);function en(e,t){if(er(e)||er(t))return e===t;if(n(e)&&n(t))return e.getTime()===t.getTime();let i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(let r of i){let i=e[r];if(!a.includes(r))return!1;if("ref"!==r){let e=t[r];if(n(i)&&n(e)||c(i)&&c(e)||Array.isArray(i)&&Array.isArray(e)?!en(i,e):i!==e)return!1}}return!0}var es=e=>"select-multiple"===e.type,eo=e=>V(e)||r(e),ec=e=>q(e)&&e.isConnected,el=e=>{for(let t in e)if(B(e[t]))return!0;return!1};function ed(e,t={}){let i=Array.isArray(e);if(c(e)||i)for(let i in e)Array.isArray(e[i])||c(e[i])&&!el(e[i])?(t[i]=Array.isArray(e[i])?[]:{},ed(e[i],t[i])):s(e[i])||(t[i]=!0);return t}var ep=(e,t)=>(function e(t,i,a){let r=Array.isArray(t);if(c(t)||r)for(let r in t)Array.isArray(t[r])||c(t[r])&&!el(t[r])?g(i)||er(a[r])?a[r]=Array.isArray(t[r])?ed(t[r],[]):{...ed(t[r])}:e(t[r],s(i)?{}:i[r],a[r]):a[r]=!en(t[r],i[r]);return a})(e,t,ed(t)),eu=(e,{valueAsNumber:t,valueAsDate:i,setValueAs:a})=>g(e)?e:t?""===e?NaN:e?+e:e:i&&N(e)?new Date(e):a?a(e):e;function eh(e){let t=e.ref;return(e.refs?e.refs.every(e=>e.disabled):t.disabled)?void 0:z(t)?t.files:V(t)?Q(e.refs).value:es(t)?[...t.selectedOptions].map(({value:e})=>e):r(t)?G(e.refs).value:eu(g(t.value)?e.ref.value:t.value,e)}var ef=(e,t,i,a)=>{let r={};for(let i of e){let e=v(t,i);e&&_(r,i,e._f)}return{criteriaMode:i,names:[...e],fields:r,shouldUseNativeValidation:a}},em=e=>g(e)?e:Z(e)?e.source:c(e)?Z(e.value)?e.value.source:e.value:e;let eg="AsyncFunction";var ev=e=>!!e&&!!e.validate&&!!(B(e.validate)&&e.validate.constructor.name===eg||c(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===eg)),ex=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function ey(e,t,i){let a=v(e,i);if(a||y(i))return{error:a,name:i};let r=i.split(".");for(;r.length;){let a=r.join("."),n=v(t,a),s=v(e,a);if(n&&!Array.isArray(n)&&i!==a)break;if(s&&s.type)return{name:a,error:s};r.pop()}return{name:i}}var eb=(e,t,i,a,r)=>!r.isOnAll&&(!i&&r.isOnTouch?!(t||e):(i?a.isOnBlur:r.isOnBlur)?!e:(i?!a.isOnChange:!r.isOnChange)||e),e_=(e,t)=>!m(v(e,t)).length&&ei(e,t);let ew={mode:k.onSubmit,reValidateMode:k.onChange,shouldFocusError:!0};function ek(e={}){let t=a.useRef(void 0),i=a.useRef(void 0),[o,d]=a.useState({isDirty:!1,isValidating:!1,isLoading:B(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:B(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...function(e={}){let t,i={...ew,...e},a={submitCount:0,isDirty:!1,isLoading:B(i.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:i.errors||{},disabled:i.disabled||!1},o={},d=(c(i.defaultValues)||c(i.values))&&f(i.defaultValues||i.values)||{},u=i.shouldUnregister?{}:f(d),y={action:!1,mount:!1,watch:!1},b={mount:new Set,unMount:new Set,array:new Set,watch:new Set},E=0,A={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},S={values:ea(),array:ea(),state:ea()},T=M(i.mode),C=M(i.reValidateMode),R=i.criteriaMode===k.all,j=e=>t=>{clearTimeout(E),E=setTimeout(e,t)},I=async e=>{if(!i.disabled&&(A.isValid||e)){let e=i.resolver?O((await K()).errors):await G(o,!0);e!==a.isValid&&S.state.next({isValid:e})}},L=(e,t)=>{!i.disabled&&(A.isValidating||A.validatingFields)&&((e||Array.from(b.mount)).forEach(e=>{e&&(t?_(a.validatingFields,e,t):ei(a.validatingFields,e))}),S.state.next({validatingFields:a.validatingFields,isValidating:!O(a.validatingFields)}))},D=(e,t)=>{_(a.errors,e,t),S.state.next({errors:a.errors})},W=(e,t,i,a)=>{let r=v(o,e);if(r){let n=v(u,e,g(i)?v(d,e):i);g(n)||a&&a.defaultChecked||t?_(u,e,t?n:eh(r._f)):Y(e,n),y.mount&&I()}},V=(e,t,r,n,s)=>{let c=!1,l=!1,p={name:e};if(!i.disabled){let i=!!(v(o,e)&&v(o,e)._f&&v(o,e)._f.disabled);if(!r||n){A.isDirty&&(l=a.isDirty,a.isDirty=p.isDirty=X(),c=l!==p.isDirty);let r=i||en(v(d,e),t);l=!!(!i&&v(a.dirtyFields,e)),r||i?ei(a.dirtyFields,e):_(a.dirtyFields,e,!0),p.dirtyFields=a.dirtyFields,c=c||A.dirtyFields&&!r!==l}if(r){let t=v(a.touchedFields,e);t||(_(a.touchedFields,e,r),p.touchedFields=a.touchedFields,c=c||A.touchedFields&&t!==r)}c&&s&&S.state.next(p)}return c?p:{}},Z=(e,r,n,s)=>{let o=v(a.errors,e),c=A.isValid&&x(r)&&a.isValid!==r;if(i.delayError&&n?(t=j(()=>D(e,n)))(i.delayError):(clearTimeout(E),t=null,n?_(a.errors,e,n):ei(a.errors,e)),(n?!en(o,n):o)||!O(s)||c){let t={...s,...c&&x(r)?{isValid:r}:{},errors:a.errors,name:e};a={...a,...t},S.state.next(t)}},K=async e=>{L(e,!0);let t=await i.resolver(u,i.context,ef(e||b.mount,o,i.criteriaMode,i.shouldUseNativeValidation));return L(e),t},J=async e=>{let{errors:t}=await K(e);if(e)for(let i of e){let e=v(t,i);e?_(a.errors,i,e):ei(a.errors,i)}else a.errors=t;return t},G=async(e,t,r={valid:!0})=>{for(let n in e){let s=e[n];if(s){let{_f:e,...o}=s;if(e){let o=b.array.has(e.name),c=s._f&&ev(s._f);c&&A.validatingFields&&L([n],!0);let l=await et(s,u,R,i.shouldUseNativeValidation&&!t,o);if(c&&A.validatingFields&&L([n]),l[e.name]&&(r.valid=!1,t))break;t||(v(l,e.name)?o?F(a.errors,l,e.name):_(a.errors,e.name,l[e.name]):ei(a.errors,e.name))}O(o)||await G(o,t,r)}}return r.valid},X=(e,t)=>!i.disabled&&(e&&t&&_(u,e,t),!en(ek(),d)),Q=(e,t,i)=>U(e,b,{...y.mount?u:g(t)?d:N(e)?{[e]:t}:t},i,t),Y=(e,t,i={})=>{let a=v(o,e),n=t;if(a){let i=a._f;i&&(i.disabled||_(u,e,eu(t,i)),n=q(i.ref)&&s(t)?"":t,es(i.ref)?[...i.ref.options].forEach(e=>e.selected=n.includes(e.value)):i.refs?r(i.ref)?i.refs.length>1?i.refs.forEach(e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(n)?!!n.find(t=>t===e.value):n===e.value)):i.refs[0]&&(i.refs[0].checked=!!n):i.refs.forEach(e=>e.checked=e.value===n):z(i.ref)?i.ref.value="":(i.ref.value=n,i.ref.type||S.values.next({name:e,values:{...u}})))}(i.shouldDirty||i.shouldTouch)&&V(e,n,i.shouldTouch,i.shouldDirty,!0),i.shouldValidate&&eg(e)},ee=(e,t,i)=>{for(let a in t){let r=t[a],s=`${e}.${a}`,l=v(o,s);(b.array.has(e)||c(r)||l&&!l._f)&&!n(r)?ee(s,r,i):Y(s,r,i)}},er=(e,t,i={})=>{let r=v(o,e),n=b.array.has(e),c=f(t);_(u,e,c),n?(S.array.next({name:e,values:{...u}}),(A.isDirty||A.dirtyFields)&&i.shouldDirty&&S.state.next({name:e,dirtyFields:ep(d,u),isDirty:X(e,c)})):!r||r._f||s(c)?Y(e,c,i):ee(e,c,i),H(e,b)&&S.state.next({...a}),S.values.next({name:y.mount?e:void 0,values:{...u}})},el=async e=>{y.mount=!0;let r=e.target,s=r.name,c=!0,d=v(o,s),p=e=>{c=Number.isNaN(e)||n(e)&&isNaN(e.getTime())||en(e,v(u,s,e))};if(d){let n,h;let f=r.type?eh(d._f):l(e),m=e.type===w.BLUR||e.type===w.FOCUS_OUT,g=!ex(d._f)&&!i.resolver&&!v(a.errors,s)&&!d._f.deps||eb(m,v(a.touchedFields,s),a.isSubmitted,C,T),x=H(s,b,m);_(u,s,f),m?(d._f.onBlur&&d._f.onBlur(e),t&&t(0)):d._f.onChange&&d._f.onChange(e);let y=V(s,f,m,!1),k=!O(y)||x;if(m||S.values.next({name:s,type:e.type,values:{...u}}),g)return A.isValid&&("onBlur"===i.mode?m&&I():I()),k&&S.state.next({name:s,...x?{}:y});if(!m&&x&&S.state.next({...a}),i.resolver){let{errors:e}=await K([s]);if(p(f),c){let t=ey(a.errors,o,s),i=ey(e,o,t.name||s);n=i.error,s=i.name,h=O(e)}}else L([s],!0),n=(await et(d,u,R,i.shouldUseNativeValidation))[s],L([s]),p(f),c&&(n?h=!1:A.isValid&&(h=await G(o,!0)));c&&(d._f.deps&&eg(d._f.deps),Z(s,h,n,y))}},ed=(e,t)=>{if(v(a.errors,t)&&e.focus)return e.focus(),1},eg=async(e,t={})=>{let r,n;let s=P(e);if(i.resolver){let t=await J(g(e)?e:s);r=O(t),n=e?!s.some(e=>v(t,e)):r}else e?((n=(await Promise.all(s.map(async e=>{let t=v(o,e);return await G(t&&t._f?{[e]:t}:t)}))).every(Boolean))||a.isValid)&&I():n=r=await G(o);return S.state.next({...!N(e)||A.isValid&&r!==a.isValid?{}:{name:e},...i.resolver||!e?{isValid:r}:{},errors:a.errors}),t.shouldFocus&&!n&&$(o,ed,e?s:b.mount),n},ek=e=>{let t={...y.mount?u:d};return g(e)?t:N(e)?v(t,e):e.map(e=>v(t,e))},eE=(e,t)=>({invalid:!!v((t||a).errors,e),isDirty:!!v((t||a).dirtyFields,e),error:v((t||a).errors,e),isValidating:!!v(a.validatingFields,e),isTouched:!!v((t||a).touchedFields,e)}),eA=(e,t,i)=>{let r=(v(o,e,{_f:{}})._f||{}).ref,{ref:n,message:s,type:c,...l}=v(a.errors,e)||{};_(a.errors,e,{...l,...t,ref:r}),S.state.next({name:e,errors:a.errors,isValid:!1}),i&&i.shouldFocus&&r&&r.focus&&r.focus()},eS=(e,t={})=>{for(let r of e?P(e):b.mount)b.mount.delete(r),b.array.delete(r),t.keepValue||(ei(o,r),ei(u,r)),t.keepError||ei(a.errors,r),t.keepDirty||ei(a.dirtyFields,r),t.keepTouched||ei(a.touchedFields,r),t.keepIsValidating||ei(a.validatingFields,r),i.shouldUnregister||t.keepDefaultValue||ei(d,r);S.values.next({values:{...u}}),S.state.next({...a,...t.keepDirty?{isDirty:X()}:{}}),t.keepIsValid||I()},eT=({disabled:e,name:t,field:i,fields:a,value:r})=>{if(x(e)&&y.mount||e){let n=e?void 0:g(r)?eh(i?i._f:v(a,t)._f):r;!e&&(e||g(n))||_(u,t,n),V(t,n,!1,!1,!0)}},eC=(e,t={})=>{let a=v(o,e),r=x(t.disabled)||x(i.disabled);return _(o,e,{...a||{},_f:{...a&&a._f?a._f:{ref:{name:e}},name:e,mount:!0,...t}}),b.mount.add(e),a?eT({field:a,disabled:x(t.disabled)?t.disabled:i.disabled,name:e,value:t.value}):W(e,!0,t.value),{...r?{disabled:t.disabled||i.disabled}:{},...i.progressive?{required:!!t.required,min:em(t.min),max:em(t.max),minLength:em(t.minLength),maxLength:em(t.maxLength),pattern:em(t.pattern)}:{},name:e,onChange:el,onBlur:el,ref:r=>{if(r){eC(e,t),a=v(o,e);let i=g(r.value)&&r.querySelectorAll&&r.querySelectorAll("input,select,textarea")[0]||r,n=eo(i),s=a._f.refs||[];(n?s.find(e=>e===i):i===a._f.ref)||(_(o,e,{_f:{...a._f,...n?{refs:[...s.filter(ec),i,...Array.isArray(v(d,e))?[{}]:[]],ref:{type:i.type,name:e}}:{ref:i}}}),W(e,!1,void 0,i))}else(a=v(o,e,{}))._f&&(a._f.mount=!1),(i.shouldUnregister||t.shouldUnregister)&&!(p(b.array,e)&&y.action)&&b.unMount.add(e)}}},eO=()=>i.shouldFocusError&&$(o,ed,b.mount),eR=(e,t)=>async r=>{let n;if(r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist()),i.disabled){t&&await t({...a.errors},r);return}let s=f(u);if(S.state.next({isSubmitting:!0}),i.resolver){let{errors:e,values:t}=await K();a.errors=e,s=t}else await G(o);if(ei(a.errors,"root"),O(a.errors)){S.state.next({errors:{}});try{await e(s,r)}catch(e){n=e}}else t&&await t({...a.errors},r),eO(),setTimeout(eO);if(S.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:O(a.errors)&&!n,submitCount:a.submitCount+1,errors:a.errors}),n)throw n},eP=(e,t={})=>{let r=e?f(e):d,n=f(r),s=O(e),c=s?d:n;if(t.keepDefaultValues||(d=r),!t.keepValues){if(t.keepDirtyValues)for(let e of Array.from(new Set([...b.mount,...Object.keys(ep(d,u))])))v(a.dirtyFields,e)?_(c,e,v(u,e)):er(e,v(c,e));else{if(h&&g(e))for(let e of b.mount){let t=v(o,e);if(t&&t._f){let e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(q(e)){let t=e.closest("form");if(t){t.reset();break}}}}o={}}u=i.shouldUnregister?t.keepDefaultValues?f(d):{}:f(c),S.array.next({values:{...c}}),S.values.next({values:{...c}})}b={mount:t.keepDirtyValues?b.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},y.mount=!A.isValid||!!t.keepIsValid||!!t.keepDirtyValues,y.watch=!!i.shouldUnregister,S.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:!s&&(t.keepDirty?a.isDirty:!!(t.keepDefaultValues&&!en(e,d))),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:s?{}:t.keepDirtyValues?t.keepDefaultValues&&u?ep(d,u):a.dirtyFields:t.keepDefaultValues&&e?ep(d,e):t.keepDirty?a.dirtyFields:{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&a.isSubmitSuccessful,isSubmitting:!1})},ej=(e,t)=>eP(B(e)?e(u):e,t);return{control:{register:eC,unregister:eS,getFieldState:eE,handleSubmit:eR,setError:eA,_executeSchema:K,_getWatch:Q,_getDirty:X,_updateValid:I,_removeUnmounted:()=>{for(let e of b.unMount){let t=v(o,e);t&&(t._f.refs?t._f.refs.every(e=>!ec(e)):!ec(t._f.ref))&&eS(e)}b.unMount=new Set},_updateFieldArray:(e,t=[],r,n,s=!0,c=!0)=>{if(n&&r&&!i.disabled){if(y.action=!0,c&&Array.isArray(v(o,e))){let t=r(v(o,e),n.argA,n.argB);s&&_(o,e,t)}if(c&&Array.isArray(v(a.errors,e))){let t=r(v(a.errors,e),n.argA,n.argB);s&&_(a.errors,e,t),e_(a.errors,e)}if(A.touchedFields&&c&&Array.isArray(v(a.touchedFields,e))){let t=r(v(a.touchedFields,e),n.argA,n.argB);s&&_(a.touchedFields,e,t)}A.dirtyFields&&(a.dirtyFields=ep(d,u)),S.state.next({name:e,isDirty:X(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else _(u,e,t)},_updateDisabledField:eT,_getFieldArray:e=>m(v(y.mount?u:d,e,i.shouldUnregister?v(d,e,[]):[])),_reset:eP,_resetDefaultValues:()=>B(i.defaultValues)&&i.defaultValues().then(e=>{ej(e,i.resetOptions),S.state.next({isLoading:!1})}),_updateFormState:e=>{a={...a,...e}},_disableForm:e=>{x(e)&&(S.state.next({disabled:e}),$(o,(t,i)=>{let a=v(o,i);a&&(t.disabled=a._f.disabled||e,Array.isArray(a._f.refs)&&a._f.refs.forEach(t=>{t.disabled=a._f.disabled||e}))},0,!1))},_subjects:S,_proxyFormState:A,_setErrors:e=>{a.errors=e,S.state.next({errors:a.errors,isValid:!1})},get _fields(){return o},get _formValues(){return u},get _state(){return y},set _state(value){y=value},get _defaultValues(){return d},get _names(){return b},set _names(value){b=value},get _formState(){return a},set _formState(value){a=value},get _options(){return i},set _options(value){i={...i,...value}}},trigger:eg,register:eC,handleSubmit:eR,watch:(e,t)=>B(e)?S.values.subscribe({next:i=>e(Q(void 0,t),i)}):Q(e,t,!0),setValue:er,getValues:ek,reset:ej,resetField:(e,t={})=>{v(o,e)&&(g(t.defaultValue)?er(e,f(v(d,e))):(er(e,t.defaultValue),_(d,e,f(t.defaultValue))),t.keepTouched||ei(a.touchedFields,e),t.keepDirty||(ei(a.dirtyFields,e),a.isDirty=t.defaultValue?X(e,f(v(d,e))):X()),!t.keepError&&(ei(a.errors,e),A.isValid&&I()),S.state.next({...a}))},clearErrors:e=>{e&&P(e).forEach(e=>ei(a.errors,e)),S.state.next({errors:e?a.errors:{}})},unregister:eS,setError:eA,setFocus:(e,t={})=>{let i=v(o,e),a=i&&i._f;if(a){let e=a.refs?a.refs[0]:a.ref;e.focus&&(e.focus(),t.shouldSelect&&B(e.select)&&e.select())}},getFieldState:eE}}(e),formState:o});let u=t.current.control;return u._options=e,I({subject:u._subjects.state,next:e=>{R(e,u._proxyFormState,u._updateFormState,!0)&&d({...u._formState})}}),a.useEffect(()=>u._disableForm(e.disabled),[u,e.disabled]),a.useEffect(()=>{if(u._proxyFormState.isDirty){let e=u._getDirty();e!==o.isDirty&&u._subjects.state.next({isDirty:e})}},[u,o.isDirty]),a.useEffect(()=>{e.values&&!en(e.values,i.current)?(u._reset(e.values,u._options.resetOptions),i.current=e.values,d(e=>({...e}))):u._resetDefaultValues()},[e.values,u]),a.useEffect(()=>{e.errors&&u._setErrors(e.errors)},[e.errors,u]),a.useEffect(()=>{u._state.mount||(u._updateValid(),u._state.mount=!0),u._state.watch&&(u._state.watch=!1,u._subjects.state.next({...u._formState})),u._removeUnmounted()}),a.useEffect(()=>{e.shouldUnregister&&u._subjects.values.next({values:u._getWatch()})},[e.shouldUnregister,u]),t.current.formState=C(o,u),t.current}},16131:(e,t,i)=>{"use strict";var a,r,n,s,o,c;let l;i.d(t,{Ik:()=>eI,Yj:()=>ej}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let i of e)t[i]=i;return t},e.getValidEnumValues=t=>{let i=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),a={};for(let e of i)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t},e.find=(e,t)=>{for(let i of e)if(t(i))return i},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(a||(a={})),(r||(r={})).mergeShapes=(e,t)=>({...e,...t});let d=a.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),p=e=>{switch(typeof e){case"undefined":return d.undefined;case"string":return d.string;case"number":return isNaN(e)?d.nan:d.number;case"boolean":return d.boolean;case"function":return d.function;case"bigint":return d.bigint;case"symbol":return d.symbol;case"object":if(Array.isArray(e))return d.array;if(null===e)return d.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return d.promise;if("undefined"!=typeof Map&&e instanceof Map)return d.map;if("undefined"!=typeof Set&&e instanceof Set)return d.set;if("undefined"!=typeof Date&&e instanceof Date)return d.date;return d.object;default:return d.unknown}},u=a.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class h extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},i={_errors:[]},a=e=>{for(let r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(a);else if("invalid_return_type"===r.code)a(r.returnTypeError);else if("invalid_arguments"===r.code)a(r.argumentsError);else if(0===r.path.length)i._errors.push(t(r));else{let e=i,a=0;for(;a<r.path.length;){let i=r.path[a];a===r.path.length-1?(e[i]=e[i]||{_errors:[]},e[i]._errors.push(t(r))):e[i]=e[i]||{_errors:[]},e=e[i],a++}}};return a(this),i}static assert(e){if(!(e instanceof h))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,a.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},i=[];for(let a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}h.create=e=>new h(e);let f=(e,t)=>{let i;switch(e.code){case u.invalid_type:i=e.received===d.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case u.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,a.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:i=`Unrecognized key(s) in object: ${a.joinValues(e.keys,", ")}`;break;case u.invalid_union:i="Invalid input";break;case u.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${a.joinValues(e.options)}`;break;case u.invalid_enum_value:i=`Invalid enum value. Expected ${a.joinValues(e.options)}, received '${e.received}'`;break;case u.invalid_arguments:i="Invalid function arguments";break;case u.invalid_return_type:i="Invalid function return type";break;case u.invalid_date:i="Invalid date";break;case u.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(i=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?i=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?i=`Invalid input: must end with "${e.validation.endsWith}"`:a.assertNever(e.validation):i="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case u.too_small:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case u.too_big:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case u.custom:i="Invalid input";break;case u.invalid_intersection_types:i="Intersection results could not be merged";break;case u.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case u.not_finite:i="Number must be finite";break;default:i=t.defaultError,a.assertNever(e)}return{message:i}},m=e=>{let{data:t,path:i,errorMaps:a,issueData:r}=e,n=[...i,...r.path||[]],s={...r,path:n};if(void 0!==r.message)return{...r,path:n,message:r.message};let o="";for(let e of a.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...r,path:n,message:o}};function g(e,t){let i=m({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,f,f==f?void 0:f].filter(e=>!!e)});e.common.issues.push(i)}class v{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let i=[];for(let a of t){if("aborted"===a.status)return x;"dirty"===a.status&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){let i=[];for(let e of t){let t=await e.key,a=await e.value;i.push({key:t,value:a})}return v.mergeObjectSync(e,i)}static mergeObjectSync(e,t){let i={};for(let a of t){let{key:t,value:r}=a;if("aborted"===t.status||"aborted"===r.status)return x;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==r.value||a.alwaysSet)&&(i[t.value]=r.value)}return{status:e.value,value:i}}}let x=Object.freeze({status:"aborted"}),y=e=>({status:"dirty",value:e}),b=e=>({status:"valid",value:e}),_=e=>"aborted"===e.status,w=e=>"dirty"===e.status,k=e=>"valid"===e.status,E=e=>"undefined"!=typeof Promise&&e instanceof Promise;function A(e,t,i,a){if("a"===i&&!a)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)}function S(e,t,i,a,r){if("m"===a)throw TypeError("Private method is not writable");if("a"===a&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(n||(n={}));class T{constructor(e,t,i,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let C=(e,t)=>{if(k(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new h(e.common.issues);return this._error=t,this._error}}};function O(e){if(!e)return{};let{errorMap:t,invalid_type_error:i,required_error:a,description:r}=e;if(t&&(i||a))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:r}:{errorMap:(t,r)=>{var n,s;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:r.defaultError}:void 0===r.data?{message:null!==(n=null!=o?o:a)&&void 0!==n?n:r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:null!==(s=null!=o?o:i)&&void 0!==s?s:r.defaultError}},description:r}}class R{get description(){return this._def.description}_getType(e){return p(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:p(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new v,ctx:{common:e.parent.common,data:e.data,parsedType:p(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(E(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;let a={common:{issues:[],async:null!==(i=null==t?void 0:t.async)&&void 0!==i&&i,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)},r=this._parseSync({data:e,path:a.path,parent:a});return C(a,r)}"~validate"(e){var t,i;let a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:a});return k(t)?{value:t.value}:{issues:a.common.issues}}catch(e){(null===(i=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===i?void 0:i.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(e=>k(e)?{value:e.value}:{issues:a.common.issues})}async parseAsync(e,t){let i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){let i={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)},a=this._parse({data:e,path:i.path,parent:i});return C(i,await (E(a)?a:Promise.resolve(a)))}refine(e,t){let i=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,a)=>{let r=e(t),n=()=>a.addIssue({code:u.custom,...i(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then(e=>!!e||(n(),!1)):!!r||(n(),!1)})}refinement(e,t){return this._refinement((i,a)=>!!e(i)||(a.addIssue("function"==typeof t?t(i,a):t),!1))}_refinement(e){return new ek({schema:this,typeName:c.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eE.create(this,this._def)}nullable(){return eA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return es.create(this)}promise(){return ew.create(this,this._def)}or(e){return ec.create([this,e],this._def)}and(e){return ep.create(this,e,this._def)}transform(e){return new ek({...O(this._def),schema:this,typeName:c.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eS({...O(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:c.ZodDefault})}brand(){return new eO({typeName:c.ZodBranded,type:this,...O(this._def)})}catch(e){return new eT({...O(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:c.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eR.create(this,e)}readonly(){return eP.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let P=/^c[^\s-]{8,}$/i,j=/^[0-9a-z]+$/,I=/^[0-9A-HJKMNP-TV-Z]{26}$/i,N=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U=/^[a-z0-9_-]{21}$/i,L=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,D=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,H=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,q=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,W="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",V=RegExp(`^${W}$`);function Z(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}class K extends R{_parse(e){var t,i,r,n;let s;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==d.string){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.string,received:t.parsedType}),x}let o=new v;for(let c of this._def.checks)if("min"===c.kind)e.data.length<c.value&&(g(s=this._getOrReturnCtx(e,s),{code:u.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),o.dirty());else if("max"===c.kind)e.data.length>c.value&&(g(s=this._getOrReturnCtx(e,s),{code:u.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),o.dirty());else if("length"===c.kind){let t=e.data.length>c.value,i=e.data.length<c.value;(t||i)&&(s=this._getOrReturnCtx(e,s),t?g(s,{code:u.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):i&&g(s,{code:u.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),o.dirty())}else if("email"===c.kind)M.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"email",code:u.invalid_string,message:c.message}),o.dirty());else if("emoji"===c.kind)l||(l=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),l.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"emoji",code:u.invalid_string,message:c.message}),o.dirty());else if("uuid"===c.kind)N.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"uuid",code:u.invalid_string,message:c.message}),o.dirty());else if("nanoid"===c.kind)U.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"nanoid",code:u.invalid_string,message:c.message}),o.dirty());else if("cuid"===c.kind)P.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"cuid",code:u.invalid_string,message:c.message}),o.dirty());else if("cuid2"===c.kind)j.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"cuid2",code:u.invalid_string,message:c.message}),o.dirty());else if("ulid"===c.kind)I.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"ulid",code:u.invalid_string,message:c.message}),o.dirty());else if("url"===c.kind)try{new URL(e.data)}catch(t){g(s=this._getOrReturnCtx(e,s),{validation:"url",code:u.invalid_string,message:c.message}),o.dirty()}else"regex"===c.kind?(c.regex.lastIndex=0,c.regex.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"regex",code:u.invalid_string,message:c.message}),o.dirty())):"trim"===c.kind?e.data=e.data.trim():"includes"===c.kind?e.data.includes(c.value,c.position)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),o.dirty()):"toLowerCase"===c.kind?e.data=e.data.toLowerCase():"toUpperCase"===c.kind?e.data=e.data.toUpperCase():"startsWith"===c.kind?e.data.startsWith(c.value)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:{startsWith:c.value},message:c.message}),o.dirty()):"endsWith"===c.kind?e.data.endsWith(c.value)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:{endsWith:c.value},message:c.message}),o.dirty()):"datetime"===c.kind?(function(e){let t=`${W}T${Z(e)}`,i=[];return i.push(e.local?"Z?":"Z"),e.offset&&i.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${i.join("|")})`,RegExp(`^${t}$`)})(c).test(e.data)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:"datetime",message:c.message}),o.dirty()):"date"===c.kind?V.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:"date",message:c.message}),o.dirty()):"time"===c.kind?RegExp(`^${Z(c)}$`).test(e.data)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:"time",message:c.message}),o.dirty()):"duration"===c.kind?D.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"duration",code:u.invalid_string,message:c.message}),o.dirty()):"ip"===c.kind?(t=e.data,("v4"===(i=c.version)||!i)&&H.test(t)||("v6"===i||!i)&&F.test(t)||(g(s=this._getOrReturnCtx(e,s),{validation:"ip",code:u.invalid_string,message:c.message}),o.dirty())):"jwt"===c.kind?!function(e,t){if(!L.test(e))return!1;try{let[i]=e.split("."),a=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),r=JSON.parse(atob(a));if("object"!=typeof r||null===r||!r.typ||!r.alg||t&&r.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,c.alg)&&(g(s=this._getOrReturnCtx(e,s),{validation:"jwt",code:u.invalid_string,message:c.message}),o.dirty()):"cidr"===c.kind?(r=e.data,("v4"===(n=c.version)||!n)&&$.test(r)||("v6"===n||!n)&&z.test(r)||(g(s=this._getOrReturnCtx(e,s),{validation:"cidr",code:u.invalid_string,message:c.message}),o.dirty())):"base64"===c.kind?B.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"base64",code:u.invalid_string,message:c.message}),o.dirty()):"base64url"===c.kind?q.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"base64url",code:u.invalid_string,message:c.message}),o.dirty()):a.assertNever(c);return{status:o.value,value:e.data}}_regex(e,t,i){return this.refinement(t=>e.test(t),{validation:t,code:u.invalid_string,...n.errToObj(i)})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...n.errToObj(e)})}url(e){return this._addCheck({kind:"url",...n.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...n.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...n.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...n.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...n.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...n.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...n.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...n.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...n.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...n.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...n.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...n.errToObj(e)})}datetime(e){var t,i;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(i=null==e?void 0:e.local)&&void 0!==i&&i,...n.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...n.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...n.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...n.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...n.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...n.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...n.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...n.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...n.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...n.errToObj(t)})}nonempty(e){return this.min(1,n.errToObj(e))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>{var t;return new K({checks:[],typeName:c.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class J extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==d.number){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.number,received:t.parsedType}),x}let i=new v;for(let r of this._def.checks)"int"===r.kind?a.isInteger(e.data)||(g(t=this._getOrReturnCtx(e,t),{code:u.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"multipleOf"===r.kind?0!==function(e,t){let i=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=i>a?i:a;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}(e.data,r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(g(t=this._getOrReturnCtx(e,t),{code:u.not_finite,message:r.message}),i.dirty()):a.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,n.toString(t))}gt(e,t){return this.setLimit("min",e,!1,n.toString(t))}lte(e,t){return this.setLimit("max",e,!0,n.toString(t))}lt(e,t){return this.setLimit("max",e,!1,n.toString(t))}setLimit(e,t,i,a){return new J({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:n.toString(a)}]})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:n.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:n.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:n.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:n.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:n.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:n.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:n.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:n.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:n.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&a.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let i of this._def.checks){if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===t||i.value>t)&&(t=i.value):"max"===i.kind&&(null===e||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}J.create=e=>new J({checks:[],typeName:c.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class G extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==d.bigint)return this._getInvalidInput(e);let i=new v;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(g(t=this._getOrReturnCtx(e,t),{code:u.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):a.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.bigint,received:t.parsedType}),x}gte(e,t){return this.setLimit("min",e,!0,n.toString(t))}gt(e,t){return this.setLimit("min",e,!1,n.toString(t))}lte(e,t){return this.setLimit("max",e,!0,n.toString(t))}lt(e,t){return this.setLimit("max",e,!1,n.toString(t))}setLimit(e,t,i,a){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:n.toString(a)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:n.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:n.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:n.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:n.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:n.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}G.create=e=>{var t;return new G({checks:[],typeName:c.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class X extends R{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==d.boolean){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.boolean,received:t.parsedType}),x}return b(e.data)}}X.create=e=>new X({typeName:c.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class Q extends R{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==d.date){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.date,received:t.parsedType}),x}if(isNaN(e.data.getTime()))return g(this._getOrReturnCtx(e),{code:u.invalid_date}),x;let i=new v;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):a.assertNever(r);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:n.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:n.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Q.create=e=>new Q({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:c.ZodDate,...O(e)});class Y extends R{_parse(e){if(this._getType(e)!==d.symbol){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.symbol,received:t.parsedType}),x}return b(e.data)}}Y.create=e=>new Y({typeName:c.ZodSymbol,...O(e)});class ee extends R{_parse(e){if(this._getType(e)!==d.undefined){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.undefined,received:t.parsedType}),x}return b(e.data)}}ee.create=e=>new ee({typeName:c.ZodUndefined,...O(e)});class et extends R{_parse(e){if(this._getType(e)!==d.null){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.null,received:t.parsedType}),x}return b(e.data)}}et.create=e=>new et({typeName:c.ZodNull,...O(e)});class ei extends R{constructor(){super(...arguments),this._any=!0}_parse(e){return b(e.data)}}ei.create=e=>new ei({typeName:c.ZodAny,...O(e)});class ea extends R{constructor(){super(...arguments),this._unknown=!0}_parse(e){return b(e.data)}}ea.create=e=>new ea({typeName:c.ZodUnknown,...O(e)});class er extends R{_parse(e){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.never,received:t.parsedType}),x}}er.create=e=>new er({typeName:c.ZodNever,...O(e)});class en extends R{_parse(e){if(this._getType(e)!==d.undefined){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.void,received:t.parsedType}),x}return b(e.data)}}en.create=e=>new en({typeName:c.ZodVoid,...O(e)});class es extends R{_parse(e){let{ctx:t,status:i}=this._processInputParams(e),a=this._def;if(t.parsedType!==d.array)return g(t,{code:u.invalid_type,expected:d.array,received:t.parsedType}),x;if(null!==a.exactLength){let e=t.data.length>a.exactLength.value,r=t.data.length<a.exactLength.value;(e||r)&&(g(t,{code:e?u.too_big:u.too_small,minimum:r?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(g(t,{code:u.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(g(t,{code:u.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((e,i)=>a.type._parseAsync(new T(t,e,t.path,i)))).then(e=>v.mergeArray(i,e));let r=[...t.data].map((e,i)=>a.type._parseSync(new T(t,e,t.path,i)));return v.mergeArray(i,r)}get element(){return this._def.type}min(e,t){return new es({...this._def,minLength:{value:e,message:n.toString(t)}})}max(e,t){return new es({...this._def,maxLength:{value:e,message:n.toString(t)}})}length(e,t){return new es({...this._def,exactLength:{value:e,message:n.toString(t)}})}nonempty(e){return this.min(1,e)}}es.create=(e,t)=>new es({type:e,minLength:null,maxLength:null,exactLength:null,typeName:c.ZodArray,...O(t)});class eo extends R{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=a.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==d.object){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.object,received:t.parsedType}),x}let{status:t,ctx:i}=this._processInputParams(e),{shape:a,keys:r}=this._getCached(),n=[];if(!(this._def.catchall instanceof er&&"strip"===this._def.unknownKeys))for(let e in i.data)r.includes(e)||n.push(e);let s=[];for(let e of r){let t=a[e],r=i.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new T(i,r,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof er){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}});else if("strict"===e)n.length>0&&(g(i,{code:u.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let a=i.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new T(i,a,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let i=await t.key,a=await t.value;e.push({key:i,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>v.mergeObjectSync(t,e)):v.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return n.errToObj,new eo({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,i)=>{var a,r,s,o;let c=null!==(s=null===(r=(a=this._def).errorMap)||void 0===r?void 0:r.call(a,t,i).message)&&void 0!==s?s:i.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=n.errToObj(e).message)&&void 0!==o?o:c}:{message:c}}}:{}})}strip(){return new eo({...this._def,unknownKeys:"strip"})}passthrough(){return new eo({...this._def,unknownKeys:"passthrough"})}extend(e){return new eo({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new eo({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:c.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new eo({...this._def,catchall:e})}pick(e){let t={};return a.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])}),new eo({...this._def,shape:()=>t})}omit(e){let t={};return a.objectKeys(this.shape).forEach(i=>{e[i]||(t[i]=this.shape[i])}),new eo({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof eo){let i={};for(let a in t.shape){let r=t.shape[a];i[a]=eE.create(e(r))}return new eo({...t._def,shape:()=>i})}return t instanceof es?new es({...t._def,type:e(t.element)}):t instanceof eE?eE.create(e(t.unwrap())):t instanceof eA?eA.create(e(t.unwrap())):t instanceof eu?eu.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return a.objectKeys(this.shape).forEach(i=>{let a=this.shape[i];e&&!e[i]?t[i]=a:t[i]=a.optional()}),new eo({...this._def,shape:()=>t})}required(e){let t={};return a.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])t[i]=this.shape[i];else{let e=this.shape[i];for(;e instanceof eE;)e=e._def.innerType;t[i]=e}}),new eo({...this._def,shape:()=>t})}keyof(){return ey(a.objectKeys(this.shape))}}eo.create=(e,t)=>new eo({shape:()=>e,unknownKeys:"strip",catchall:er.create(),typeName:c.ZodObject,...O(t)}),eo.strictCreate=(e,t)=>new eo({shape:()=>e,unknownKeys:"strict",catchall:er.create(),typeName:c.ZodObject,...O(t)}),eo.lazycreate=(e,t)=>new eo({shape:e,unknownKeys:"strip",catchall:er.create(),typeName:c.ZodObject,...O(t)});class ec extends R{_parse(e){let{ctx:t}=this._processInputParams(e),i=this._def.options;if(t.common.async)return Promise.all(i.map(async e=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let i of e)if("dirty"===i.result.status)return t.common.issues.push(...i.ctx.common.issues),i.result;let i=e.map(e=>new h(e.ctx.common.issues));return g(t,{code:u.invalid_union,unionErrors:i}),x});{let e;let a=[];for(let r of i){let i={...t,common:{...t.common,issues:[]},parent:null},n=r._parseSync({data:t.data,path:t.path,parent:i});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:i}),i.common.issues.length&&a.push(i.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let r=a.map(e=>new h(e));return g(t,{code:u.invalid_union,unionErrors:r}),x}}get options(){return this._def.options}}ec.create=(e,t)=>new ec({options:e,typeName:c.ZodUnion,...O(t)});let el=e=>{if(e instanceof ev)return el(e.schema);if(e instanceof ek)return el(e.innerType());if(e instanceof ex)return[e.value];if(e instanceof eb)return e.options;if(e instanceof e_)return a.objectValues(e.enum);if(e instanceof eS)return el(e._def.innerType);if(e instanceof ee)return[void 0];else if(e instanceof et)return[null];else if(e instanceof eE)return[void 0,...el(e.unwrap())];else if(e instanceof eA)return[null,...el(e.unwrap())];else if(e instanceof eO)return el(e.unwrap());else if(e instanceof eP)return el(e.unwrap());else if(e instanceof eT)return el(e._def.innerType);else return[]};class ed extends R{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.object)return g(t,{code:u.invalid_type,expected:d.object,received:t.parsedType}),x;let i=this.discriminator,a=t.data[i],r=this.optionsMap.get(a);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(g(t,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),x)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){let a=new Map;for(let i of t){let t=el(i.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let r of t){if(a.has(r))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);a.set(r,i)}}return new ed({typeName:c.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...O(i)})}}class ep extends R{_parse(e){let{status:t,ctx:i}=this._processInputParams(e),r=(e,r)=>{if(_(e)||_(r))return x;let n=function e(t,i){let r=p(t),n=p(i);if(t===i)return{valid:!0,data:t};if(r===d.object&&n===d.object){let r=a.objectKeys(i),n=a.objectKeys(t).filter(e=>-1!==r.indexOf(e)),s={...t,...i};for(let a of n){let r=e(t[a],i[a]);if(!r.valid)return{valid:!1};s[a]=r.data}return{valid:!0,data:s}}if(r===d.array&&n===d.array){if(t.length!==i.length)return{valid:!1};let a=[];for(let r=0;r<t.length;r++){let n=e(t[r],i[r]);if(!n.valid)return{valid:!1};a.push(n.data)}return{valid:!0,data:a}}return r===d.date&&n===d.date&&+t==+i?{valid:!0,data:t}:{valid:!1}}(e.value,r.value);return n.valid?((w(e)||w(r))&&t.dirty(),{status:t.value,value:n.data}):(g(i,{code:u.invalid_intersection_types}),x)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}ep.create=(e,t,i)=>new ep({left:e,right:t,typeName:c.ZodIntersection,...O(i)});class eu extends R{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==d.array)return g(i,{code:u.invalid_type,expected:d.array,received:i.parsedType}),x;if(i.data.length<this._def.items.length)return g(i,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&i.data.length>this._def.items.length&&(g(i,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...i.data].map((e,t)=>{let a=this._def.items[t]||this._def.rest;return a?a._parse(new T(i,e,i.path,t)):null}).filter(e=>!!e);return i.common.async?Promise.all(a).then(e=>v.mergeArray(t,e)):v.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new eu({...this._def,rest:e})}}eu.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eu({items:e,typeName:c.ZodTuple,rest:null,...O(t)})};class eh extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==d.object)return g(i,{code:u.invalid_type,expected:d.object,received:i.parsedType}),x;let a=[],r=this._def.keyType,n=this._def.valueType;for(let e in i.data)a.push({key:r._parse(new T(i,e,i.path,e)),value:n._parse(new T(i,i.data[e],i.path,e)),alwaysSet:e in i.data});return i.common.async?v.mergeObjectAsync(t,a):v.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,i){return new eh(t instanceof R?{keyType:e,valueType:t,typeName:c.ZodRecord,...O(i)}:{keyType:K.create(),valueType:e,typeName:c.ZodRecord,...O(t)})}}class ef extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==d.map)return g(i,{code:u.invalid_type,expected:d.map,received:i.parsedType}),x;let a=this._def.keyType,r=this._def.valueType,n=[...i.data.entries()].map(([e,t],n)=>({key:a._parse(new T(i,e,i.path,[n,"key"])),value:r._parse(new T(i,t,i.path,[n,"value"]))}));if(i.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let i of n){let a=await i.key,r=await i.value;if("aborted"===a.status||"aborted"===r.status)return x;("dirty"===a.status||"dirty"===r.status)&&t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}})}{let e=new Map;for(let i of n){let a=i.key,r=i.value;if("aborted"===a.status||"aborted"===r.status)return x;("dirty"===a.status||"dirty"===r.status)&&t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}}}ef.create=(e,t,i)=>new ef({valueType:t,keyType:e,typeName:c.ZodMap,...O(i)});class em extends R{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==d.set)return g(i,{code:u.invalid_type,expected:d.set,received:i.parsedType}),x;let a=this._def;null!==a.minSize&&i.data.size<a.minSize.value&&(g(i,{code:u.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&i.data.size>a.maxSize.value&&(g(i,{code:u.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let r=this._def.valueType;function n(e){let i=new Set;for(let a of e){if("aborted"===a.status)return x;"dirty"===a.status&&t.dirty(),i.add(a.value)}return{status:t.value,value:i}}let s=[...i.data.values()].map((e,t)=>r._parse(new T(i,e,i.path,t)));return i.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new em({...this._def,minSize:{value:e,message:n.toString(t)}})}max(e,t){return new em({...this._def,maxSize:{value:e,message:n.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}em.create=(e,t)=>new em({valueType:e,minSize:null,maxSize:null,typeName:c.ZodSet,...O(t)});class eg extends R{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.function)return g(t,{code:u.invalid_type,expected:d.function,received:t.parsedType}),x;function i(e,i){return m({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,f,f].filter(e=>!!e),issueData:{code:u.invalid_arguments,argumentsError:i}})}function a(e,i){return m({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,f,f].filter(e=>!!e),issueData:{code:u.invalid_return_type,returnTypeError:i}})}let r={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof ew){let e=this;return b(async function(...t){let s=new h([]),o=await e._def.args.parseAsync(t,r).catch(e=>{throw s.addIssue(i(t,e)),s}),c=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(c,r).catch(e=>{throw s.addIssue(a(c,e)),s})})}{let e=this;return b(function(...t){let s=e._def.args.safeParse(t,r);if(!s.success)throw new h([i(t,s.error)]);let o=Reflect.apply(n,this,s.data),c=e._def.returns.safeParse(o,r);if(!c.success)throw new h([a(o,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eg({...this._def,args:eu.create(e).rest(ea.create())})}returns(e){return new eg({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new eg({args:e||eu.create([]).rest(ea.create()),returns:t||ea.create(),typeName:c.ZodFunction,...O(i)})}}class ev extends R{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ev.create=(e,t)=>new ev({getter:e,typeName:c.ZodLazy,...O(t)});class ex extends R{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return g(t,{received:t.data,code:u.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ey(e,t){return new eb({values:e,typeName:c.ZodEnum,...O(t)})}ex.create=(e,t)=>new ex({value:e,typeName:c.ZodLiteral,...O(t)});class eb extends R{constructor(){super(...arguments),s.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),i=this._def.values;return g(t,{expected:a.joinValues(i),received:t.parsedType,code:u.invalid_type}),x}if(A(this,s,"f")||S(this,s,new Set(this._def.values),"f"),!A(this,s,"f").has(e.data)){let t=this._getOrReturnCtx(e),i=this._def.values;return g(t,{received:t.data,code:u.invalid_enum_value,options:i}),x}return b(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eb.create(e,{...this._def,...t})}exclude(e,t=this._def){return eb.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}s=new WeakMap,eb.create=ey;class e_ extends R{constructor(){super(...arguments),o.set(this,void 0)}_parse(e){let t=a.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==d.string&&i.parsedType!==d.number){let e=a.objectValues(t);return g(i,{expected:a.joinValues(e),received:i.parsedType,code:u.invalid_type}),x}if(A(this,o,"f")||S(this,o,new Set(a.getValidEnumValues(this._def.values)),"f"),!A(this,o,"f").has(e.data)){let e=a.objectValues(t);return g(i,{received:i.data,code:u.invalid_enum_value,options:e}),x}return b(e.data)}get enum(){return this._def.values}}o=new WeakMap,e_.create=(e,t)=>new e_({values:e,typeName:c.ZodNativeEnum,...O(t)});class ew extends R{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==d.promise&&!1===t.common.async?(g(t,{code:u.invalid_type,expected:d.promise,received:t.parsedType}),x):b((t.parsedType===d.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ew.create=(e,t)=>new ew({type:e,typeName:c.ZodPromise,...O(t)});class ek extends R{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===c.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:e=>{g(i,e),e.fatal?t.abort():t.dirty()},get path(){return i.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===r.type){let e=r.transform(i.data,n);if(i.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return x;let a=await this._def.schema._parseAsync({data:e,path:i.path,parent:i});return"aborted"===a.status?x:"dirty"===a.status||"dirty"===t.value?y(a.value):a});{if("aborted"===t.value)return x;let a=this._def.schema._parseSync({data:e,path:i.path,parent:i});return"aborted"===a.status?x:"dirty"===a.status||"dirty"===t.value?y(a.value):a}}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,n);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==i.common.async)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(i=>"aborted"===i.status?x:("dirty"===i.status&&t.dirty(),e(i.value).then(()=>({status:t.value,value:i.value}))));{let a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===a.status?x:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}}if("transform"===r.type){if(!1!==i.common.async)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(e=>k(e)?Promise.resolve(r.transform(e.value,n)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!k(e))return e;let a=r.transform(e.value,n);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}a.assertNever(r)}}ek.create=(e,t,i)=>new ek({schema:e,typeName:c.ZodEffects,effect:t,...O(i)}),ek.createWithPreprocess=(e,t,i)=>new ek({schema:t,effect:{type:"preprocess",transform:e},typeName:c.ZodEffects,...O(i)});class eE extends R{_parse(e){return this._getType(e)===d.undefined?b(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eE.create=(e,t)=>new eE({innerType:e,typeName:c.ZodOptional,...O(t)});class eA extends R{_parse(e){return this._getType(e)===d.null?b(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eA.create=(e,t)=>new eA({innerType:e,typeName:c.ZodNullable,...O(t)});class eS extends R{_parse(e){let{ctx:t}=this._processInputParams(e),i=t.data;return t.parsedType===d.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eS.create=(e,t)=>new eS({innerType:e,typeName:c.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...O(t)});class eT extends R{_parse(e){let{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return E(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new h(i.common.issues)},input:i.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new h(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:c.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...O(t)});class eC extends R{_parse(e){if(this._getType(e)!==d.nan){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.nan,received:t.parsedType}),x}return{status:"valid",value:e.data}}}eC.create=e=>new eC({typeName:c.ZodNaN,...O(e)}),Symbol("zod_brand");class eO extends R{_parse(e){let{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class eR extends R{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?x:"dirty"===e.status?(t.dirty(),y(e.value)):this._def.out._parseAsync({data:e.value,path:i.path,parent:i})})();{let e=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?x:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:i.path,parent:i})}}static create(e,t){return new eR({in:e,out:t,typeName:c.ZodPipeline})}}class eP extends R{_parse(e){let t=this._def.innerType._parse(e),i=e=>(k(e)&&(e.value=Object.freeze(e.value)),e);return E(t)?t.then(e=>i(e)):i(t)}unwrap(){return this._def.innerType}}eP.create=(e,t)=>new eP({innerType:e,typeName:c.ZodReadonly,...O(t)}),eo.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(c||(c={}));let ej=K.create,eI=(J.create,eC.create,G.create,X.create,Q.create,Y.create,ee.create,et.create,ei.create,ea.create,er.create,en.create,es.create,eo.create);eo.strictCreate,ec.create,ed.create,ep.create,eu.create,eh.create,ef.create,em.create,eg.create,ev.create,ex.create,eb.create,e_.create,ew.create,ek.create,eE.create,eA.create,ek.createWithPreprocess,eR.create},37067:(e,t,i)=>{"use strict";function a(e){return{createUser:({id:t,...i})=>e.user.create(r(i)),getUser:t=>e.user.findUnique({where:{id:t}}),getUserByEmail:t=>e.user.findUnique({where:{email:t}}),async getUserByAccount(t){let i=await e.account.findUnique({where:{provider_providerAccountId:t},select:{user:!0}});return i?.user??null},updateUser:({id:t,...i})=>e.user.update({where:{id:t},...r(i)}),deleteUser:t=>e.user.delete({where:{id:t}}),linkAccount:t=>e.account.create({data:t}),unlinkAccount:t=>e.account.delete({where:{provider_providerAccountId:t}}),async getSessionAndUser(t){let i=await e.session.findUnique({where:{sessionToken:t},include:{user:!0}});if(!i)return null;let{user:a,...r}=i;return{user:a,session:r}},createSession:t=>e.session.create(r(t)),updateSession:t=>e.session.update({where:{sessionToken:t.sessionToken},...r(t)}),deleteSession:t=>e.session.delete({where:{sessionToken:t}}),async createVerificationToken(t){let i=await e.verificationToken.create(r(t));return i.id&&delete i.id,i},async useVerificationToken(t){try{let i=await e.verificationToken.delete({where:{identifier_token:t}});return i.id&&delete i.id,i}catch(e){if("P2025"===e.code)return null;throw e}},getAccount:async(t,i)=>e.account.findFirst({where:{providerAccountId:t,provider:i}}),createAuthenticator:async t=>e.authenticator.create(r(t)),getAuthenticator:async t=>e.authenticator.findUnique({where:{credentialID:t}}),listAuthenticatorsByUserId:async t=>e.authenticator.findMany({where:{userId:t}}),updateAuthenticatorCounter:async(t,i)=>e.authenticator.update({where:{credentialID:t},data:{counter:i}})}}function r(e){let t={};for(let i in e)void 0!==e[i]&&(t[i]=e[i]);return{data:t}}i.d(t,{y:()=>a})},73063:(e,t,i)=>{"use strict";let a,r,n,s,o;i.d(t,{lR:()=>u,Ay:()=>nW});var c=function(e,t,i,a,r){if("m"===a)throw TypeError("Private method is not writable");if("a"===a&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i},l=function(e,t,i,a){if("a"===i&&!a)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)};function d(e){let t=e?"__Secure-":"";return{sessionToken:{name:`${t}authjs.session-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},callbackUrl:{name:`${t}authjs.callback-url`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},csrfToken:{name:`${e?"__Host-":""}authjs.csrf-token`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},pkceCodeVerifier:{name:`${t}authjs.pkce.code_verifier`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},state:{name:`${t}authjs.state`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}},nonce:{name:`${t}authjs.nonce`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e}},webauthnChallenge:{name:`${t}authjs.challenge`,options:{httpOnly:!0,sameSite:"lax",path:"/",secure:e,maxAge:900}}}}class p{constructor(e,t,i){if(iv.add(this),ix.set(this,{}),iy.set(this,void 0),ib.set(this,void 0),c(this,ib,i,"f"),c(this,iy,e,"f"),!t)return;let{name:a}=e;for(let[e,i]of Object.entries(t))e.startsWith(a)&&i&&(l(this,ix,"f")[e]=i)}get value(){return Object.keys(l(this,ix,"f")).sort((e,t)=>parseInt(e.split(".").pop()||"0")-parseInt(t.split(".").pop()||"0")).map(e=>l(this,ix,"f")[e]).join("")}chunk(e,t){let i=l(this,iv,"m",iw).call(this);for(let a of l(this,iv,"m",i_).call(this,{name:l(this,iy,"f").name,value:e,options:{...l(this,iy,"f").options,...t}}))i[a.name]=a;return Object.values(i)}clean(){return Object.values(l(this,iv,"m",iw).call(this))}}ix=new WeakMap,iy=new WeakMap,ib=new WeakMap,iv=new WeakSet,i_=function(e){let t=Math.ceil(e.value.length/3936);if(1===t)return l(this,ix,"f")[e.name]=e.value,[e];let i=[];for(let a=0;a<t;a++){let t=`${e.name}.${a}`,r=e.value.substr(3936*a,3936);i.push({...e,name:t,value:r}),l(this,ix,"f")[t]=r}return l(this,ib,"f").debug("CHUNKING_SESSION_COOKIE",{message:"Session cookie exceeds allowed 4096 bytes.",emptyCookieSize:160,valueSize:e.value.length,chunks:i.map(e=>e.value.length+160)}),i},iw=function(){let e={};for(let t in l(this,ix,"f"))delete l(this,ix,"f")?.[t],e[t]={name:t,value:"",options:{...l(this,iy,"f").options,maxAge:0}};return e};class u extends Error{constructor(e,t){e instanceof Error?super(void 0,{cause:{err:e,...e.cause,...t}}):"string"==typeof e?(t instanceof Error&&(t={err:t,...t.cause}),super(e,t)):super(void 0,e),this.name=this.constructor.name,this.type=this.constructor.type??"AuthError",this.kind=this.constructor.kind??"error",Error.captureStackTrace?.(this,this.constructor);let i=`https://errors.authjs.dev#${this.type.toLowerCase()}`;this.message+=`${this.message?". ":""}Read more at ${i}`}}class h extends u{}h.kind="signIn";class f extends u{}f.type="AdapterError";class m extends u{}m.type="AccessDenied";class g extends u{}g.type="CallbackRouteError";class v extends u{}v.type="ErrorPageLoop";class x extends u{}x.type="EventError";class y extends u{}y.type="InvalidCallbackUrl";class b extends h{constructor(){super(...arguments),this.code="credentials"}}b.type="CredentialsSignin";class _ extends u{}_.type="InvalidEndpoints";class w extends u{}w.type="InvalidCheck";class k extends u{}k.type="JWTSessionError";class E extends u{}E.type="MissingAdapter";class A extends u{}A.type="MissingAdapterMethods";class S extends u{}S.type="MissingAuthorize";class T extends u{}T.type="MissingSecret";class C extends h{}C.type="OAuthAccountNotLinked";class O extends h{}O.type="OAuthCallbackError";class R extends u{}R.type="OAuthProfileParseError";class P extends u{}P.type="SessionTokenError";class j extends h{}j.type="OAuthSignInError";class I extends h{}I.type="EmailSignInError";class N extends u{}N.type="SignOutError";class U extends u{}U.type="UnknownAction";class L extends u{}L.type="UnsupportedStrategy";class D extends u{}D.type="InvalidProvider";class M extends u{}M.type="UntrustedHost";class H extends u{}H.type="Verification";class $ extends h{}$.type="MissingCSRF";let F=new Set(["CredentialsSignin","OAuthAccountNotLinked","OAuthCallbackError","AccessDenied","Verification","MissingCSRF","AccountNotLinked","WebAuthnVerificationError"]);class z extends u{}z.type="DuplicateConditionalUI";class B extends u{}B.type="MissingWebAuthnAutocomplete";class q extends u{}q.type="WebAuthnVerificationError";class W extends h{}W.type="AccountNotLinked";class V extends u{}V.type="ExperimentalFeatureNotEnabled";let Z=!1;function K(e,t){try{return/^https?:/.test(new URL(e,e.startsWith("/")?t:void 0).protocol)}catch{return!1}}let J=!1,G=!1,X=!1,Q=["createVerificationToken","useVerificationToken","getUserByEmail"],Y=["createUser","getUser","getUserByEmail","getUserByAccount","updateUser","linkAccount","createSession","getSessionAndUser","updateSession","deleteSession"],ee=["createUser","getUser","linkAccount","getAccount","getAuthenticator","createAuthenticator","listAuthenticatorsByUserId","updateAuthenticatorCounter"];var et=i(55511);let ei=(e,t,i,a,r)=>{let n=parseInt(e.substr(3),10)>>3||20,s=(0,et.createHmac)(e,i.byteLength?i:new Uint8Array(n)).update(t).digest(),o=Math.ceil(r/n),c=new Uint8Array(n*o+a.byteLength+1),l=0,d=0;for(let t=1;t<=o;t++)c.set(a,d),c[d+a.byteLength]=t,c.set((0,et.createHmac)(e,s).update(c.subarray(l,d+a.byteLength+1)).digest(),d),l=d,d+=n;return c.slice(0,r)};"function"!=typeof et.hkdf||process.versions.electron||(a=async(...e)=>new Promise((t,i)=>{et.hkdf(...e,(e,a)=>{e?i(e):t(new Uint8Array(a))})}));let ea=async(e,t,i,r,n)=>(a||ei)(e,t,i,r,n);function er(e,t){if("string"==typeof e)return new TextEncoder().encode(e);if(!(e instanceof Uint8Array))throw TypeError(`"${t}"" must be an instance of Uint8Array or a string`);return e}async function en(e,t,i,a,r){return ea(function(e){switch(e){case"sha256":case"sha384":case"sha512":case"sha1":return e;default:throw TypeError('unsupported "digest" value')}}(e),function(e){let t=er(e,"ikm");if(!t.byteLength)throw TypeError('"ikm" must be at least one byte in length');return t}(t),er(i,"salt"),function(e){let t=er(e,"info");if(t.byteLength>1024)throw TypeError('"info" must not contain more than 1024 bytes');return t}(a),function(e,t){if("number"!=typeof e||!Number.isInteger(e)||e<1)throw TypeError('"keylen" must be a positive integer');if(e>255*(parseInt(t.substr(3),10)>>3||20))throw TypeError('"keylen" too large');return e}(r,e))}var es=i(77598);let eo=(e,t)=>(0,es.createHash)(e).update(t).digest();var ec=i(4573);let el=new TextEncoder,ed=new TextDecoder;function ep(...e){let t=new Uint8Array(e.reduce((e,{length:t})=>e+t,0)),i=0;for(let a of e)t.set(a,i),i+=a.length;return t}function eu(e,t){return ep(el.encode(e),new Uint8Array([0]),t)}function eh(e,t,i){if(t<0||t>=0x100000000)throw RangeError(`value must be >= 0 and <= ${0x100000000-1}. Received ${t}`);e.set([t>>>24,t>>>16,t>>>8,255&t],i)}function ef(e){let t=new Uint8Array(4);return eh(t,e),t}function em(e){return ep(ef(e.length),e)}async function eg(e,t,i){let a=Math.ceil((t>>3)/32),r=new Uint8Array(32*a);for(let t=0;t<a;t++){let a=new Uint8Array(4+e.length+i.length);a.set(ef(t+1)),a.set(e,4),a.set(i,4+e.length),r.set(await eo("sha256",a),32*t)}return r.slice(0,t>>3)}let ev=e=>ec.Buffer.from(e).toString("base64url"),ex=e=>new Uint8Array(ec.Buffer.from(function(e){let t=e;return t instanceof Uint8Array&&(t=ed.decode(t)),t}(e),"base64url"));class ey extends Error{static code="ERR_JOSE_GENERIC";code="ERR_JOSE_GENERIC";constructor(e,t){super(e,t),this.name=this.constructor.name,Error.captureStackTrace?.(this,this.constructor)}}class eb extends ey{static code="ERR_JWT_CLAIM_VALIDATION_FAILED";code="ERR_JWT_CLAIM_VALIDATION_FAILED";claim;reason;payload;constructor(e,t,i="unspecified",a="unspecified"){super(e,{cause:{claim:i,reason:a,payload:t}}),this.claim=i,this.reason=a,this.payload=t}}class e_ extends ey{static code="ERR_JWT_EXPIRED";code="ERR_JWT_EXPIRED";claim;reason;payload;constructor(e,t,i="unspecified",a="unspecified"){super(e,{cause:{claim:i,reason:a,payload:t}}),this.claim=i,this.reason=a,this.payload=t}}class ew extends ey{static code="ERR_JOSE_ALG_NOT_ALLOWED";code="ERR_JOSE_ALG_NOT_ALLOWED"}class ek extends ey{static code="ERR_JOSE_NOT_SUPPORTED";code="ERR_JOSE_NOT_SUPPORTED"}class eE extends ey{static code="ERR_JWE_DECRYPTION_FAILED";code="ERR_JWE_DECRYPTION_FAILED";constructor(e="decryption operation failed",t){super(e,t)}}class eA extends ey{static code="ERR_JWE_INVALID";code="ERR_JWE_INVALID"}class eS extends ey{static code="ERR_JWT_INVALID";code="ERR_JWT_INVALID"}class eT extends ey{static code="ERR_JWK_INVALID";code="ERR_JWK_INVALID"}class eC extends ey{[Symbol.asyncIterator];static code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";constructor(e="multiple matching keys found in the JSON Web Key Set",t){super(e,t)}}function eO(e){if(!("object"==typeof e&&null!==e)||"[object Object]"!==Object.prototype.toString.call(e))return!1;if(null===Object.getPrototypeOf(e))return!0;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}let eR=(e,t)=>{if("string"!=typeof e||!e)throw new eT(`${t} missing or invalid`)};async function eP(e,t){let i;if(!eO(e))throw TypeError("JWK must be an object");if("sha256"!==(t??="sha256")&&"sha384"!==t&&"sha512"!==t)throw TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');switch(e.kty){case"EC":eR(e.crv,'"crv" (Curve) Parameter'),eR(e.x,'"x" (X Coordinate) Parameter'),eR(e.y,'"y" (Y Coordinate) Parameter'),i={crv:e.crv,kty:e.kty,x:e.x,y:e.y};break;case"OKP":eR(e.crv,'"crv" (Subtype of Key Pair) Parameter'),eR(e.x,'"x" (Public Key) Parameter'),i={crv:e.crv,kty:e.kty,x:e.x};break;case"RSA":eR(e.e,'"e" (Exponent) Parameter'),eR(e.n,'"n" (Modulus) Parameter'),i={e:e.e,kty:e.kty,n:e.n};break;case"oct":eR(e.k,'"k" (Key Value) Parameter'),i={k:e.k,kty:e.kty};break;default:throw new ek('"kty" (Key Type) Parameter missing or unsupported')}let a=el.encode(JSON.stringify(i));return ev(await eo(t,a))}let ej=Symbol();function eI(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new ek(`Unsupported JWE Algorithm: ${e}`)}}let eN=e=>(0,es.randomFillSync)(new Uint8Array(eI(e)>>3)),eU=(e,t)=>{if(t.length<<3!==eI(e))throw new eA("Invalid Initialization Vector length")};var eL=i(57975);let eD=e=>eL.types.isKeyObject(e),eM=(e,t)=>{let i;switch(e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":i=parseInt(e.slice(-3),10);break;case"A128GCM":case"A192GCM":case"A256GCM":i=parseInt(e.slice(1,4),10);break;default:throw new ek(`Content Encryption Algorithm ${e} is not supported either by JOSE or your javascript runtime`)}if(t instanceof Uint8Array){let e=t.byteLength<<3;if(e!==i)throw new eA(`Invalid Content Encryption Key length. Expected ${i} bits, got ${e} bits`);return}if(eD(t)&&"secret"===t.type){let e=t.symmetricKeySize<<3;if(e!==i)throw new eA(`Invalid Content Encryption Key length. Expected ${i} bits, got ${e} bits`);return}throw TypeError("Invalid Content Encryption Key type")};function eH(e,t,i,a,r,n){let s=ep(e,t,i,function(e){let t=Math.floor(e/0x100000000),i=new Uint8Array(8);return eh(i,t,0),eh(i,e%0x100000000,4),i}(e.length<<3)),o=(0,es.createHmac)(`sha${a}`,r);return o.update(s),o.digest().slice(0,n>>3)}let e$=es.webcrypto,eF=e=>eL.types.isCryptoKey(e);function ez(e,t="algorithm.name"){return TypeError(`CryptoKey does not support this operation, its ${t} must be ${e}`)}function eB(e,t){return e.name===t}function eq(e,t,...i){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":{if(!eB(e.algorithm,"AES-GCM"))throw ez("AES-GCM");let i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw ez(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!eB(e.algorithm,"AES-KW"))throw ez("AES-KW");let i=parseInt(t.slice(1,4),10);if(e.algorithm.length!==i)throw ez(i,"algorithm.length");break}case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw ez("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!eB(e.algorithm,"PBKDF2"))throw ez("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!eB(e.algorithm,"RSA-OAEP"))throw ez("RSA-OAEP");let i=parseInt(t.slice(9),10)||1;if(parseInt(e.algorithm.hash.name.slice(4),10)!==i)throw ez(`SHA-${i}`,"algorithm.hash");break}default:throw TypeError("CryptoKey does not support this operation")}(function(e,t){if(t.length&&!t.some(t=>e.usages.includes(t))){let e="CryptoKey does not support this operation, its usages must include ";if(t.length>2){let i=t.pop();e+=`one of ${t.join(", ")}, or ${i}.`}else 2===t.length?e+=`one of ${t[0]} or ${t[1]}.`:e+=`${t[0]}.`;throw TypeError(e)}})(e,i)}function eW(e,t,...i){if((i=i.filter(Boolean)).length>2){let t=i.pop();e+=`one of type ${i.join(", ")}, or ${t}.`}else 2===i.length?e+=`one of type ${i[0]} or ${i[1]}.`:e+=`of type ${i[0]}.`;return null==t?e+=` Received ${t}`:"function"==typeof t&&t.name?e+=` Received function ${t.name}`:"object"==typeof t&&null!=t&&t.constructor?.name&&(e+=` Received an instance of ${t.constructor.name}`),e}let eV=(e,...t)=>eW("Key must be ",e,...t);function eZ(e,t,...i){return eW(`Key for the ${e} algorithm must be `,t,...i)}let eK=e=>(r||=new Set((0,es.getCiphers)())).has(e),eJ=e=>eD(e)||eF(e),eG=["KeyObject"];(globalThis.CryptoKey||e$?.CryptoKey)&&eG.push("CryptoKey");let eX=(e,t,i,a,r)=>{let n;if(eF(i))eq(i,e,"encrypt"),n=es.KeyObject.from(i);else if(i instanceof Uint8Array||eD(i))n=i;else throw TypeError(eV(i,...eG,"Uint8Array"));switch(eM(e,n),a?eU(e,a):a=eN(e),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,i,a,r){let n=parseInt(e.slice(1,4),10);eD(i)&&(i=i.export());let s=i.subarray(n>>3),o=i.subarray(0,n>>3),c=`aes-${n}-cbc`;if(!eK(c))throw new ek(`alg ${e} is not supported by your javascript runtime`);let l=(0,es.createCipheriv)(c,s,a),d=ep(l.update(t),l.final()),p=eH(r,a,d,parseInt(e.slice(-3),10),o,n);return{ciphertext:d,tag:p,iv:a}}(e,t,n,a,r);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,i,a,r){let n=parseInt(e.slice(1,4),10),s=`aes-${n}-gcm`;if(!eK(s))throw new ek(`alg ${e} is not supported by your javascript runtime`);let o=(0,es.createCipheriv)(s,i,a,{authTagLength:16});r.byteLength&&o.setAAD(r,{plaintextLength:t.length});let c=o.update(t);return o.final(),{ciphertext:c,tag:o.getAuthTag(),iv:a}}(e,t,n,a,r);default:throw new ek("Unsupported JWE Content Encryption Algorithm")}};function eQ(e,t){if(e.symmetricKeySize<<3!==parseInt(t.slice(1,4),10))throw TypeError(`Invalid key size for alg: ${t}`)}function eY(e,t,i){if(eD(e))return e;if(e instanceof Uint8Array)return(0,es.createSecretKey)(e);if(eF(e))return eq(e,t,i),es.KeyObject.from(e);throw TypeError(eV(e,...eG,"Uint8Array"))}let e0=(e,t,i)=>{let a=parseInt(e.slice(1,4),10),r=`aes${a}-wrap`;if(!eK(r))throw new ek(`alg ${e} is not supported either by JOSE or your javascript runtime`);let n=eY(t,e,"wrapKey");eQ(n,e);let s=(0,es.createCipheriv)(r,n,ec.Buffer.alloc(8,166));return ep(s.update(i),s.final())},e1=(e,t,i)=>{let a=parseInt(e.slice(1,4),10),r=`aes${a}-wrap`;if(!eK(r))throw new ek(`alg ${e} is not supported either by JOSE or your javascript runtime`);let n=eY(t,e,"unwrapKey");eQ(n,e);let s=(0,es.createDecipheriv)(r,n,ec.Buffer.alloc(8,166));return ep(s.update(i),s.final())};function e2(e){return eO(e)&&"string"==typeof e.kty}new WeakMap;let e5=e=>{switch(e){case"prime256v1":return"P-256";case"secp384r1":return"P-384";case"secp521r1":return"P-521";case"secp256k1":return"secp256k1";default:throw new ek("Unsupported key curve for this operation")}},e3=(e,t)=>{let i;if(eF(e))i=es.KeyObject.from(e);else if(eD(e))i=e;else if(e2(e))return e.crv;else throw TypeError(eV(e,...eG));if("secret"===i.type)throw TypeError('only "private" or "public" type keys can be used for this operation');switch(i.asymmetricKeyType){case"ed25519":case"ed448":return`Ed${i.asymmetricKeyType.slice(2)}`;case"x25519":case"x448":return`X${i.asymmetricKeyType.slice(1)}`;case"ec":{let e=i.asymmetricKeyDetails.namedCurve;if(t)return e;return e5(e)}default:throw TypeError("Invalid asymmetric key type for this operation")}},e6=(0,eL.promisify)(es.generateKeyPair);async function e4(e,t,i,a,r=new Uint8Array(0),n=new Uint8Array(0)){let s,o;if(eF(e))eq(e,"ECDH"),s=es.KeyObject.from(e);else if(eD(e))s=e;else throw TypeError(eV(e,...eG));if(eF(t))eq(t,"ECDH","deriveBits"),o=es.KeyObject.from(t);else if(eD(t))o=t;else throw TypeError(eV(t,...eG));let c=ep(em(el.encode(i)),em(r),em(n),ef(a));return eg((0,es.diffieHellman)({privateKey:o,publicKey:s}),a,c)}async function e9(e){let t;if(eF(e))t=es.KeyObject.from(e);else if(eD(e))t=e;else throw TypeError(eV(e,...eG));switch(t.asymmetricKeyType){case"x25519":return e6("x25519");case"x448":return e6("x448");case"ec":return e6("ec",{namedCurve:e3(t)});default:throw new ek("Invalid or unsupported EPK")}}let e8=e=>["P-256","P-384","P-521","X25519","X448"].includes(e3(e));function e7(e){if(!(e instanceof Uint8Array)||e.length<8)throw new eA("PBES2 Salt Input must be 8 or more octets")}let te=(0,eL.promisify)(es.pbkdf2);function tt(e,t){if(eD(e))return e.export();if(e instanceof Uint8Array)return e;if(eF(e))return eq(e,t,"deriveBits","deriveKey"),es.KeyObject.from(e).export();throw TypeError(eV(e,...eG,"Uint8Array"))}let ti=async(e,t,i,a=2048,r=(0,es.randomFillSync)(new Uint8Array(16)))=>{e7(r);let n=eu(e,r),s=parseInt(e.slice(13,16),10)>>3,o=tt(t,e),c=await te(o,n,a,s,`sha${e.slice(8,11)}`);return{encryptedKey:await e0(e.slice(-6),c,i),p2c:a,p2s:ev(r)}},ta=async(e,t,i,a,r)=>{e7(r);let n=eu(e,r),s=parseInt(e.slice(13,16),10)>>3,o=tt(t,e),c=await te(o,n,a,s,`sha${e.slice(8,11)}`);return e1(e.slice(-6),c,i)},tr=(e,t)=>{let i;try{i=e instanceof es.KeyObject?e.asymmetricKeyDetails?.modulusLength:Buffer.from(e.n,"base64url").byteLength<<3}catch{}if("number"!=typeof i||i<2048)throw TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)},tn=(e,t)=>{if("rsa"!==e.asymmetricKeyType)throw TypeError("Invalid key for this operation, its asymmetricKeyType must be rsa");tr(e,t)},ts=(0,eL.deprecate)(()=>es.constants.RSA_PKCS1_PADDING,'The RSA1_5 "alg" (JWE Algorithm) is deprecated and will be removed in the next major revision.'),to=e=>{switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return es.constants.RSA_PKCS1_OAEP_PADDING;case"RSA1_5":return ts();default:return}},tc=e=>{switch(e){case"RSA-OAEP":return"sha1";case"RSA-OAEP-256":return"sha256";case"RSA-OAEP-384":return"sha384";case"RSA-OAEP-512":return"sha512";default:return}};function tl(e,t,...i){if(eD(e))return e;if(eF(e))return eq(e,t,...i),es.KeyObject.from(e);throw TypeError(eV(e,...eG))}let td=(e,t,i)=>{let a=to(e),r=tc(e),n=tl(t,e,"wrapKey","encrypt");return tn(n,e),(0,es.publicEncrypt)({key:n,oaepHash:r,padding:a},i)},tp=(e,t,i)=>{let a=to(e),r=tc(e),n=tl(t,e,"unwrapKey","decrypt");return tn(n,e),(0,es.privateDecrypt)({key:n,oaepHash:r,padding:a},i)},tu={};function th(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new ek(`Unsupported JWE Algorithm: ${e}`)}}let tf=e=>(0,es.randomFillSync)(new Uint8Array(th(e)>>3)),tm=e=>{let t;if(eF(e)){if(!e.extractable)throw TypeError("CryptoKey is not extractable");t=es.KeyObject.from(e)}else if(eD(e))t=e;else if(e instanceof Uint8Array)return{kty:"oct",k:ev(e)};else throw TypeError(eV(e,...eG,"Uint8Array"));if("secret"!==t.type&&!["rsa","ec","ed25519","x25519","ed448","x448"].includes(t.asymmetricKeyType))throw new ek("Unsupported key asymmetricKeyType");return t.export({format:"jwk"})};async function tg(e){return tm(e)}let tv=e=>e?.[Symbol.toStringTag],tx=(e,t,i)=>{if(void 0!==t.use&&"sig"!==t.use)throw TypeError("Invalid key for this operation, when present its use must be sig");if(void 0!==t.key_ops&&t.key_ops.includes?.(i)!==!0)throw TypeError(`Invalid key for this operation, when present its key_ops must include ${i}`);if(void 0!==t.alg&&t.alg!==e)throw TypeError(`Invalid key for this operation, when present its alg must be ${e}`);return!0},ty=(e,t,i,a)=>{if(!(t instanceof Uint8Array)){if(a&&e2(t)){if(function(e){return e2(e)&&"oct"===e.kty&&"string"==typeof e.k}(t)&&tx(e,t,i))return;throw TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!eJ(t))throw TypeError(eZ(e,t,...eG,"Uint8Array",a?"JSON Web Key":null));if("secret"!==t.type)throw TypeError(`${tv(t)} instances for symmetric algorithms must be of type "secret"`)}},tb=(e,t,i,a)=>{if(a&&e2(t))switch(i){case"sign":if(function(e){return"oct"!==e.kty&&"string"==typeof e.d}(t)&&tx(e,t,i))return;throw TypeError("JSON Web Key for this operation be a private JWK");case"verify":if(function(e){return"oct"!==e.kty&&void 0===e.d}(t)&&tx(e,t,i))return;throw TypeError("JSON Web Key for this operation be a public JWK")}if(!eJ(t))throw TypeError(eZ(e,t,...eG,a?"JSON Web Key":null));if("secret"===t.type)throw TypeError(`${tv(t)} instances for asymmetric algorithms must not be of type "secret"`);if("sign"===i&&"public"===t.type)throw TypeError(`${tv(t)} instances for asymmetric algorithm signing must be of type "private"`);if("decrypt"===i&&"public"===t.type)throw TypeError(`${tv(t)} instances for asymmetric algorithm decryption must be of type "private"`);if(t.algorithm&&"verify"===i&&"private"===t.type)throw TypeError(`${tv(t)} instances for asymmetric algorithm verifying must be of type "public"`);if(t.algorithm&&"encrypt"===i&&"private"===t.type)throw TypeError(`${tv(t)} instances for asymmetric algorithm encryption must be of type "public"`)};function t_(e,t,i,a){t.startsWith("HS")||"dir"===t||t.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(t)?ty(t,i,a,e):tb(t,i,a,e)}let tw=t_.bind(void 0,!1);t_.bind(void 0,!0);let tk=es.timingSafeEqual,tE=(e,t,i,a,r,n)=>{let s;if(eF(t))eq(t,e,"decrypt"),s=es.KeyObject.from(t);else if(t instanceof Uint8Array||eD(t))s=t;else throw TypeError(eV(t,...eG,"Uint8Array"));if(!a)throw new eA("JWE Initialization Vector missing");if(!r)throw new eA("JWE Authentication Tag missing");switch(eM(e,s),eU(e,a),e){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return function(e,t,i,a,r,n){let s,o;let c=parseInt(e.slice(1,4),10);eD(t)&&(t=t.export());let l=t.subarray(c>>3),d=t.subarray(0,c>>3),p=parseInt(e.slice(-3),10),u=`aes-${c}-cbc`;if(!eK(u))throw new ek(`alg ${e} is not supported by your javascript runtime`);let h=eH(n,a,i,p,d,c);try{s=tk(r,h)}catch{}if(!s)throw new eE;try{let e=(0,es.createDecipheriv)(u,l,a);o=ep(e.update(i),e.final())}catch{}if(!o)throw new eE;return o}(e,s,i,a,r,n);case"A128GCM":case"A192GCM":case"A256GCM":return function(e,t,i,a,r,n){let s=parseInt(e.slice(1,4),10),o=`aes-${s}-gcm`;if(!eK(o))throw new ek(`alg ${e} is not supported by your javascript runtime`);try{let e=(0,es.createDecipheriv)(o,t,a,{authTagLength:16});e.setAuthTag(r),n.byteLength&&e.setAAD(n,{plaintextLength:i.length});let s=e.update(i);return e.final(),s}catch{throw new eE}}(e,s,i,a,r,n);default:throw new ek("Unsupported JWE Content Encryption Algorithm")}};async function tA(e,t,i,a){let r=e.slice(0,7),n=await eX(r,i,t,a,new Uint8Array(0));return{encryptedKey:n.ciphertext,iv:ev(n.iv),tag:ev(n.tag)}}async function tS(e,t,i,a,r){return tE(e.slice(0,7),t,i,a,r,new Uint8Array(0))}async function tT(e,t,i,a,r={}){let n,s,o;switch(tw(e,i,"encrypt"),i=await tu.normalizePublicKey?.(i,e)||i,e){case"dir":o=i;break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(!e8(i))throw new ek("ECDH with the provided key is not allowed or not supported by your javascript runtime");let{apu:c,apv:l}=r,{epk:d}=r;d||=(await e9(i)).privateKey;let{x:p,y:u,crv:h,kty:f}=await tg(d),m=await e4(i,d,"ECDH-ES"===e?t:e,"ECDH-ES"===e?th(t):parseInt(e.slice(-5,-2),10),c,l);if(s={epk:{x:p,crv:h,kty:f}},"EC"===f&&(s.epk.y=u),c&&(s.apu=ev(c)),l&&(s.apv=ev(l)),"ECDH-ES"===e){o=m;break}o=a||tf(t);let g=e.slice(-6);n=await e0(g,m,o);break}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":o=a||tf(t),n=await td(e,i,o);break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=a||tf(t);let{p2c:c,p2s:l}=r;({encryptedKey:n,...s}=await ti(e,i,o,c,l));break}case"A128KW":case"A192KW":case"A256KW":o=a||tf(t),n=await e0(e,i,o);break;case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=a||tf(t);let{iv:c}=r;({encryptedKey:n,...s}=await tA(e,i,o,c));break}default:throw new ek('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:n,parameters:s}}let tC=(...e)=>{let t;let i=e.filter(Boolean);if(0===i.length||1===i.length)return!0;for(let e of i){let i=Object.keys(e);if(!t||0===t.size){t=new Set(i);continue}for(let e of i){if(t.has(e))return!1;t.add(e)}}return!0},tO=function(e,t,i,a,r){let n;if(void 0!==r.crit&&a?.crit===void 0)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!a||void 0===a.crit)return new Set;if(!Array.isArray(a.crit)||0===a.crit.length||a.crit.some(e=>"string"!=typeof e||0===e.length))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');for(let s of(n=void 0!==i?new Map([...Object.entries(i),...t.entries()]):t,a.crit)){if(!n.has(s))throw new ek(`Extension Header Parameter "${s}" is not recognized`);if(void 0===r[s])throw new e(`Extension Header Parameter "${s}" is missing`);if(n.get(s)&&void 0===a[s])throw new e(`Extension Header Parameter "${s}" MUST be integrity protected`)}return new Set(a.crit)};class tR{_plaintext;_protectedHeader;_sharedUnprotectedHeader;_unprotectedHeader;_aad;_cek;_iv;_keyManagementParameters;constructor(e){if(!(e instanceof Uint8Array))throw TypeError("plaintext must be an instance of Uint8Array");this._plaintext=e}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setSharedUnprotectedHeader(e){if(this._sharedUnprotectedHeader)throw TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}setUnprotectedHeader(e){if(this._unprotectedHeader)throw TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}setAdditionalAuthenticatedData(e){return this._aad=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}async encrypt(e,t){let i,a,r,n,s;if(!this._protectedHeader&&!this._unprotectedHeader&&!this._sharedUnprotectedHeader)throw new eA("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!tC(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader))throw new eA("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");let o={...this._protectedHeader,...this._unprotectedHeader,...this._sharedUnprotectedHeader};if(tO(eA,new Map,t?.crit,this._protectedHeader,o),void 0!==o.zip)throw new ek('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:c,enc:l}=o;if("string"!=typeof c||!c)throw new eA('JWE "alg" (Algorithm) Header Parameter missing or invalid');if("string"!=typeof l||!l)throw new eA('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');if(this._cek&&("dir"===c||"ECDH-ES"===c))throw TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${c}`);{let r;({cek:a,encryptedKey:i,parameters:r}=await tT(c,l,e,this._cek,this._keyManagementParameters)),r&&(t&&ej in t?this._unprotectedHeader?this._unprotectedHeader={...this._unprotectedHeader,...r}:this.setUnprotectedHeader(r):this._protectedHeader?this._protectedHeader={...this._protectedHeader,...r}:this.setProtectedHeader(r))}n=this._protectedHeader?el.encode(ev(JSON.stringify(this._protectedHeader))):el.encode(""),this._aad?(s=ev(this._aad),r=ep(n,el.encode("."),el.encode(s))):r=n;let{ciphertext:d,tag:p,iv:u}=await eX(l,this._plaintext,a,this._iv,r),h={ciphertext:ev(d)};return u&&(h.iv=ev(u)),p&&(h.tag=ev(p)),i&&(h.encrypted_key=ev(i)),s&&(h.aad=s),this._protectedHeader&&(h.protected=ed.decode(n)),this._sharedUnprotectedHeader&&(h.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(h.header=this._unprotectedHeader),h}}class tP{_flattened;constructor(e){this._flattened=new tR(e)}setContentEncryptionKey(e){return this._flattened.setContentEncryptionKey(e),this}setInitializationVector(e){return this._flattened.setInitializationVector(e),this}setProtectedHeader(e){return this._flattened.setProtectedHeader(e),this}setKeyManagementParameters(e){return this._flattened.setKeyManagementParameters(e),this}async encrypt(e,t){let i=await this._flattened.encrypt(e,t);return[i.protected,i.encrypted_key,i.iv,i.ciphertext,i.tag].join(".")}}let tj=e=>Math.floor(e.getTime()/1e3),tI=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i,tN=e=>{let t;let i=tI.exec(e);if(!i||i[4]&&i[1])throw TypeError("Invalid time period format");let a=parseFloat(i[2]);switch(i[3].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":t=Math.round(a);break;case"minute":case"minutes":case"min":case"mins":case"m":t=Math.round(60*a);break;case"hour":case"hours":case"hr":case"hrs":case"h":t=Math.round(3600*a);break;case"day":case"days":case"d":t=Math.round(86400*a);break;case"week":case"weeks":case"w":t=Math.round(604800*a);break;default:t=Math.round(0x1e187e0*a)}return"-"===i[1]||"ago"===i[4]?-t:t};function tU(e,t){if(!Number.isFinite(t))throw TypeError(`Invalid ${e} input`);return t}class tL{_payload;constructor(e={}){if(!eO(e))throw TypeError("JWT Claims Set MUST be an object");this._payload=e}setIssuer(e){return this._payload={...this._payload,iss:e},this}setSubject(e){return this._payload={...this._payload,sub:e},this}setAudience(e){return this._payload={...this._payload,aud:e},this}setJti(e){return this._payload={...this._payload,jti:e},this}setNotBefore(e){return"number"==typeof e?this._payload={...this._payload,nbf:tU("setNotBefore",e)}:e instanceof Date?this._payload={...this._payload,nbf:tU("setNotBefore",tj(e))}:this._payload={...this._payload,nbf:tj(new Date)+tN(e)},this}setExpirationTime(e){return"number"==typeof e?this._payload={...this._payload,exp:tU("setExpirationTime",e)}:e instanceof Date?this._payload={...this._payload,exp:tU("setExpirationTime",tj(e))}:this._payload={...this._payload,exp:tj(new Date)+tN(e)},this}setIssuedAt(e){return void 0===e?this._payload={...this._payload,iat:tj(new Date)}:e instanceof Date?this._payload={...this._payload,iat:tU("setIssuedAt",tj(e))}:"string"==typeof e?this._payload={...this._payload,iat:tU("setIssuedAt",tj(new Date)+tN(e))}:this._payload={...this._payload,iat:tU("setIssuedAt",e)},this}}class tD extends tL{_cek;_iv;_keyManagementParameters;_protectedHeader;_replicateIssuerAsHeader;_replicateSubjectAsHeader;_replicateAudienceAsHeader;setProtectedHeader(e){if(this._protectedHeader)throw TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}setKeyManagementParameters(e){if(this._keyManagementParameters)throw TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}setContentEncryptionKey(e){if(this._cek)throw TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}setInitializationVector(e){if(this._iv)throw TypeError("setInitializationVector can only be called once");return this._iv=e,this}replicateIssuerAsHeader(){return this._replicateIssuerAsHeader=!0,this}replicateSubjectAsHeader(){return this._replicateSubjectAsHeader=!0,this}replicateAudienceAsHeader(){return this._replicateAudienceAsHeader=!0,this}async encrypt(e,t){let i=new tP(el.encode(JSON.stringify(this._payload)));return this._replicateIssuerAsHeader&&(this._protectedHeader={...this._protectedHeader,iss:this._payload.iss}),this._replicateSubjectAsHeader&&(this._protectedHeader={...this._protectedHeader,sub:this._payload.sub}),this._replicateAudienceAsHeader&&(this._protectedHeader={...this._protectedHeader,aud:this._payload.aud}),i.setProtectedHeader(this._protectedHeader),this._iv&&i.setInitializationVector(this._iv),this._cek&&i.setContentEncryptionKey(this._cek),this._keyManagementParameters&&i.setKeyManagementParameters(this._keyManagementParameters),i.encrypt(e,t)}}let tM=e=>e.d?(0,es.createPrivateKey)({format:"jwk",key:e}):(0,es.createPublicKey)({format:"jwk",key:e});async function tH(e,t){if(!eO(e))throw TypeError("JWK must be an object");switch(t||=e.alg,e.kty){case"oct":if("string"!=typeof e.k||!e.k)throw TypeError('missing "k" (Key Value) Parameter value');return ex(e.k);case"RSA":if(void 0!==e.oth)throw new ek('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case"EC":case"OKP":return tM({...e,alg:t});default:throw new ek('Unsupported "kty" (Key Type) Parameter value')}}async function t$(e,t,i,a,r){switch(tw(e,t,"decrypt"),t=await tu.normalizePrivateKey?.(t,e)||t,e){case"dir":if(void 0!==i)throw new eA("Encountered unexpected JWE Encrypted Key");return t;case"ECDH-ES":if(void 0!==i)throw new eA("Encountered unexpected JWE Encrypted Key");case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{let r,n;if(!eO(a.epk))throw new eA('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');if(!e8(t))throw new ek("ECDH with the provided key is not allowed or not supported by your javascript runtime");let s=await tH(a.epk,e);if(void 0!==a.apu){if("string"!=typeof a.apu)throw new eA('JOSE Header "apu" (Agreement PartyUInfo) invalid');try{r=ex(a.apu)}catch{throw new eA("Failed to base64url decode the apu")}}if(void 0!==a.apv){if("string"!=typeof a.apv)throw new eA('JOSE Header "apv" (Agreement PartyVInfo) invalid');try{n=ex(a.apv)}catch{throw new eA("Failed to base64url decode the apv")}}let o=await e4(s,t,"ECDH-ES"===e?a.enc:e,"ECDH-ES"===e?th(a.enc):parseInt(e.slice(-5,-2),10),r,n);if("ECDH-ES"===e)return o;if(void 0===i)throw new eA("JWE Encrypted Key missing");return e1(e.slice(-6),o,i)}case"RSA1_5":case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(void 0===i)throw new eA("JWE Encrypted Key missing");return tp(e,t,i);case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{let n;if(void 0===i)throw new eA("JWE Encrypted Key missing");if("number"!=typeof a.p2c)throw new eA('JOSE Header "p2c" (PBES2 Count) missing or invalid');let s=r?.maxPBES2Count||1e4;if(a.p2c>s)throw new eA('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');if("string"!=typeof a.p2s)throw new eA('JOSE Header "p2s" (PBES2 Salt) missing or invalid');try{n=ex(a.p2s)}catch{throw new eA("Failed to base64url decode the p2s")}return ta(e,t,i,a.p2c,n)}case"A128KW":case"A192KW":case"A256KW":if(void 0===i)throw new eA("JWE Encrypted Key missing");return e1(e,t,i);case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{let r,n;if(void 0===i)throw new eA("JWE Encrypted Key missing");if("string"!=typeof a.iv)throw new eA('JOSE Header "iv" (Initialization Vector) missing or invalid');if("string"!=typeof a.tag)throw new eA('JOSE Header "tag" (Authentication Tag) missing or invalid');try{r=ex(a.iv)}catch{throw new eA("Failed to base64url decode the iv")}try{n=ex(a.tag)}catch{throw new eA("Failed to base64url decode the tag")}return tS(e,t,i,r,n)}default:throw new ek('Invalid or unsupported "alg" (JWE Algorithm) header value')}}let tF=(e,t)=>{if(void 0!==t&&(!Array.isArray(t)||t.some(e=>"string"!=typeof e)))throw TypeError(`"${e}" option must be an array of strings`);if(t)return new Set(t)};async function tz(e,t,i){let a,r,n,s,o,c,l;if(!eO(e))throw new eA("Flattened JWE must be an object");if(void 0===e.protected&&void 0===e.header&&void 0===e.unprotected)throw new eA("JOSE Header missing");if(void 0!==e.iv&&"string"!=typeof e.iv)throw new eA("JWE Initialization Vector incorrect type");if("string"!=typeof e.ciphertext)throw new eA("JWE Ciphertext missing or incorrect type");if(void 0!==e.tag&&"string"!=typeof e.tag)throw new eA("JWE Authentication Tag incorrect type");if(void 0!==e.protected&&"string"!=typeof e.protected)throw new eA("JWE Protected Header incorrect type");if(void 0!==e.encrypted_key&&"string"!=typeof e.encrypted_key)throw new eA("JWE Encrypted Key incorrect type");if(void 0!==e.aad&&"string"!=typeof e.aad)throw new eA("JWE AAD incorrect type");if(void 0!==e.header&&!eO(e.header))throw new eA("JWE Shared Unprotected Header incorrect type");if(void 0!==e.unprotected&&!eO(e.unprotected))throw new eA("JWE Per-Recipient Unprotected Header incorrect type");if(e.protected)try{let t=ex(e.protected);a=JSON.parse(ed.decode(t))}catch{throw new eA("JWE Protected Header is invalid")}if(!tC(a,e.header,e.unprotected))throw new eA("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");let d={...a,...e.header,...e.unprotected};if(tO(eA,new Map,i?.crit,a,d),void 0!==d.zip)throw new ek('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');let{alg:p,enc:u}=d;if("string"!=typeof p||!p)throw new eA("missing JWE Algorithm (alg) in JWE Header");if("string"!=typeof u||!u)throw new eA("missing JWE Encryption Algorithm (enc) in JWE Header");let h=i&&tF("keyManagementAlgorithms",i.keyManagementAlgorithms),f=i&&tF("contentEncryptionAlgorithms",i.contentEncryptionAlgorithms);if(h&&!h.has(p)||!h&&p.startsWith("PBES2"))throw new ew('"alg" (Algorithm) Header Parameter value not allowed');if(f&&!f.has(u))throw new ew('"enc" (Encryption Algorithm) Header Parameter value not allowed');if(void 0!==e.encrypted_key)try{r=ex(e.encrypted_key)}catch{throw new eA("Failed to base64url decode the encrypted_key")}let m=!1;"function"==typeof t&&(t=await t(a,e),m=!0);try{n=await t$(p,t,r,d,i)}catch(e){if(e instanceof TypeError||e instanceof eA||e instanceof ek)throw e;n=tf(u)}if(void 0!==e.iv)try{s=ex(e.iv)}catch{throw new eA("Failed to base64url decode the iv")}if(void 0!==e.tag)try{o=ex(e.tag)}catch{throw new eA("Failed to base64url decode the tag")}let g=el.encode(e.protected??"");c=void 0!==e.aad?ep(g,el.encode("."),el.encode(e.aad)):g;try{l=ex(e.ciphertext)}catch{throw new eA("Failed to base64url decode the ciphertext")}let v={plaintext:await tE(u,n,l,s,o,c)};if(void 0!==e.protected&&(v.protectedHeader=a),void 0!==e.aad)try{v.additionalAuthenticatedData=ex(e.aad)}catch{throw new eA("Failed to base64url decode the aad")}return(void 0!==e.unprotected&&(v.sharedUnprotectedHeader=e.unprotected),void 0!==e.header&&(v.unprotectedHeader=e.header),m)?{...v,key:t}:v}async function tB(e,t,i){if(e instanceof Uint8Array&&(e=ed.decode(e)),"string"!=typeof e)throw new eA("Compact JWE must be a string or Uint8Array");let{0:a,1:r,2:n,3:s,4:o,length:c}=e.split(".");if(5!==c)throw new eA("Invalid Compact JWE");let l=await tz({ciphertext:s,iv:n||void 0,protected:a,tag:o||void 0,encrypted_key:r||void 0},t,i),d={plaintext:l.plaintext,protectedHeader:l.protectedHeader};return"function"==typeof t?{...d,key:l.key}:d}let tq=e=>e.toLowerCase().replace(/^application\//,""),tW=(e,t)=>"string"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e))),tV=(e,t,i={})=>{let a,r;try{a=JSON.parse(ed.decode(t))}catch{}if(!eO(a))throw new eS("JWT Claims Set must be a top-level JSON object");let{typ:n}=i;if(n&&("string"!=typeof e.typ||tq(e.typ)!==tq(n)))throw new eb('unexpected "typ" JWT header value',a,"typ","check_failed");let{requiredClaims:s=[],issuer:o,subject:c,audience:l,maxTokenAge:d}=i,p=[...s];for(let e of(void 0!==d&&p.push("iat"),void 0!==l&&p.push("aud"),void 0!==c&&p.push("sub"),void 0!==o&&p.push("iss"),new Set(p.reverse())))if(!(e in a))throw new eb(`missing required "${e}" claim`,a,e,"missing");if(o&&!(Array.isArray(o)?o:[o]).includes(a.iss))throw new eb('unexpected "iss" claim value',a,"iss","check_failed");if(c&&a.sub!==c)throw new eb('unexpected "sub" claim value',a,"sub","check_failed");if(l&&!tW(a.aud,"string"==typeof l?[l]:l))throw new eb('unexpected "aud" claim value',a,"aud","check_failed");switch(typeof i.clockTolerance){case"string":r=tN(i.clockTolerance);break;case"number":r=i.clockTolerance;break;case"undefined":r=0;break;default:throw TypeError("Invalid clockTolerance option type")}let{currentDate:u}=i,h=tj(u||new Date);if((void 0!==a.iat||d)&&"number"!=typeof a.iat)throw new eb('"iat" claim must be a number',a,"iat","invalid");if(void 0!==a.nbf){if("number"!=typeof a.nbf)throw new eb('"nbf" claim must be a number',a,"nbf","invalid");if(a.nbf>h+r)throw new eb('"nbf" claim timestamp check failed',a,"nbf","check_failed")}if(void 0!==a.exp){if("number"!=typeof a.exp)throw new eb('"exp" claim must be a number',a,"exp","invalid");if(a.exp<=h-r)throw new e_('"exp" claim timestamp check failed',a,"exp","check_failed")}if(d){let e=h-a.iat;if(e-r>("number"==typeof d?d:tN(d)))throw new e_('"iat" claim timestamp check failed (too far in the past)',a,"iat","check_failed");if(e<0-r)throw new eb('"iat" claim timestamp check failed (it should be in the past)',a,"iat","check_failed")}return a};async function tZ(e,t,i){let a=await tB(e,t,i),r=tV(a.protectedHeader,a.plaintext,i),{protectedHeader:n}=a;if(void 0!==n.iss&&n.iss!==r.iss)throw new eb('replicated "iss" claim header parameter mismatch',r,"iss","mismatch");if(void 0!==n.sub&&n.sub!==r.sub)throw new eb('replicated "sub" claim header parameter mismatch',r,"sub","mismatch");if(void 0!==n.aud&&JSON.stringify(n.aud)!==JSON.stringify(r.aud))throw new eb('replicated "aud" claim header parameter mismatch',r,"aud","mismatch");let s={payload:r,protectedHeader:n};return"function"==typeof t?{...s,key:a.key}:s}var tK=i(84576);let tJ=()=>Date.now()/1e3|0,tG="A256CBC-HS512";async function tX(e){let{token:t={},secret:i,maxAge:a=2592e3,salt:r}=e,n=Array.isArray(i)?i:[i],s=await tY(tG,n[0],r),o=await eP({kty:"oct",k:ev(s)},`sha${s.byteLength<<3}`);return await new tD(t).setProtectedHeader({alg:"dir",enc:tG,kid:o}).setIssuedAt().setExpirationTime(tJ()+a).setJti(crypto.randomUUID()).encrypt(s)}async function tQ(e){let{token:t,secret:i,salt:a}=e,r=Array.isArray(i)?i:[i];if(!t)return null;let{payload:n}=await tZ(t,async({kid:e,enc:t})=>{for(let i of r){let r=await tY(t,i,a);if(void 0===e||e===await eP({kty:"oct",k:ev(r)},`sha${r.byteLength<<3}`))return r}throw Error("no matching decryption secret")},{clockTolerance:15,keyManagementAlgorithms:["dir"],contentEncryptionAlgorithms:[tG,"A256GCM"]});return n}async function tY(e,t,i){let a;switch(e){case"A256CBC-HS512":a=64;break;case"A256GCM":a=32;break;default:throw Error("Unsupported JWT Content Encryption Algorithm")}return await en("sha256",t,i,`Auth.js Generated Encryption Key (${i})`,a)}async function t0({options:e,paramValue:t,cookieValue:i}){let{url:a,callbacks:r}=e,n=a.origin;return t?n=await r.redirect({url:t,baseUrl:a.origin}):i&&(n=await r.redirect({url:i,baseUrl:a.origin})),{callbackUrl:n,callbackUrlCookie:n!==i?n:void 0}}let t1="\x1b[31m",t2="\x1b[0m",t5={error(e){let t=e instanceof u?e.type:e.name;if(console.error(`${t1}[auth][error]${t2} ${t}: ${e.message}`),e.cause&&"object"==typeof e.cause&&"err"in e.cause&&e.cause.err instanceof Error){let{err:t,...i}=e.cause;console.error(`${t1}[auth][cause]${t2}:`,t.stack),i&&console.error(`${t1}[auth][details]${t2}:`,JSON.stringify(i,null,2))}else e.stack&&console.error(e.stack.replace(/.*/,"").substring(1))},warn(e){let t=`https://warnings.authjs.dev#${e}`;console.warn(`\x1b[33m[auth][warn][${e}]${t2}`,`Read more: ${t}`)},debug(e,t){console.log(`\x1b[90m[auth][debug]:${t2} ${e}`,JSON.stringify(t,null,2))}};function t3(e){let t={...t5};return e.debug||(t.debug=()=>{}),e.logger?.error&&(t.error=e.logger.error),e.logger?.warn&&(t.warn=e.logger.warn),e.logger?.debug&&(t.debug=e.logger.debug),e.logger??(e.logger=t),t}let t6=["providers","session","csrf","signin","signout","callback","verify-request","error","webauthn-options"];async function t4(e){if(!("body"in e)||!e.body||"POST"!==e.method)return;let t=e.headers.get("content-type");return t?.includes("application/json")?await e.json():t?.includes("application/x-www-form-urlencoded")?Object.fromEntries(new URLSearchParams(await e.text())):void 0}async function t9(e,t){try{if("GET"!==e.method&&"POST"!==e.method)throw new U("Only GET and POST requests are supported");t.basePath??(t.basePath="/auth");let i=new URL(e.url),{action:a,providerId:r}=function(e,t){let i=e.match(RegExp(`^${t}(.+)`));if(null===i)throw new U(`Cannot parse action at ${e}`);let a=i.at(-1).replace(/^\//,"").split("/").filter(Boolean);if(1!==a.length&&2!==a.length)throw new U(`Cannot parse action at ${e}`);let[r,n]=a;if(!t6.includes(r)||n&&!["signin","callback","webauthn-options"].includes(r))throw new U(`Cannot parse action at ${e}`);return{action:r,providerId:n}}(i.pathname,t.basePath);return{url:i,action:a,providerId:r,method:e.method,headers:Object.fromEntries(e.headers),body:e.body?await t4(e):void 0,cookies:(0,tK.q)(e.headers.get("cookie")??"")??{},error:i.searchParams.get("error")??void 0,query:Object.fromEntries(i.searchParams)}}catch(a){let i=t3(t);i.error(a),i.debug("request",e)}}function t8(e){let t=new Headers(e.headers);e.cookies?.forEach(e=>{let{name:i,value:a,options:r}=e,n=tK.l(i,a,r);t.has("Set-Cookie")?t.append("Set-Cookie",n):t.set("Set-Cookie",n)});let i=e.body;"application/json"===t.get("content-type")?i=JSON.stringify(e.body):"application/x-www-form-urlencoded"===t.get("content-type")&&(i=new URLSearchParams(e.body).toString());let a=new Response(i,{headers:t,status:e.redirect?302:e.status??200});return e.redirect&&a.headers.set("Location",e.redirect),a}async function t7(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>e.toString(16).padStart(2,"0")).join("").toString()}function ie(e){let t=e=>("0"+e.toString(16)).slice(-2);return Array.from(crypto.getRandomValues(new Uint8Array(e))).reduce((e,i)=>e+t(i),"")}async function it({options:e,cookieValue:t,isPost:i,bodyValue:a}){if(t){let[r,n]=t.split("|");if(n===await t7(`${r}${e.secret}`))return{csrfTokenVerified:i&&r===a,csrfToken:r}}let r=ie(32),n=await t7(`${r}${e.secret}`);return{cookie:`${r}|${n}`,csrfToken:r}}function ii(e,t){if(!t)throw new $(`CSRF token was missing during an action ${e}`)}function ia(e){return null!==e&&"object"==typeof e}function ir(e,...t){if(!t.length)return e;let i=t.shift();if(ia(e)&&ia(i))for(let t in i)ia(i[t])?(ia(e[t])||(e[t]=Array.isArray(i[t])?[]:{}),ir(e[t],i[t])):void 0!==i[t]&&(e[t]=i[t]);return ir(e,...t)}let is=Symbol("skip-csrf-check"),io=Symbol("return-type-raw"),ic=Symbol("custom-fetch"),il=Symbol("conform-internal"),id=e=>iu({id:e.sub??e.id??crypto.randomUUID(),name:e.name??e.nickname??e.preferred_username,email:e.email,image:e.picture}),ip=e=>iu({access_token:e.access_token,id_token:e.id_token,refresh_token:e.refresh_token,expires_at:e.expires_at,scope:e.scope,token_type:e.token_type,session_state:e.session_state});function iu(e){let t={};for(let[i,a]of Object.entries(e))void 0!==a&&(t[i]=a);return t}function ih(e,t){if(!e&&t)return;if("string"==typeof e)return{url:new URL(e)};let i=new URL(e?.url??"https://authjs.dev");if(e?.params!=null)for(let[t,a]of Object.entries(e.params))"claims"===t&&(a=JSON.stringify(a)),i.searchParams.set(t,String(a));return{url:i,request:e?.request,conform:e?.conform,...e?.clientPrivateKey?{clientPrivateKey:e?.clientPrivateKey}:null}}let im={signIn:()=>!0,redirect:({url:e,baseUrl:t})=>e.startsWith("/")?`${t}${e}`:new URL(e).origin===t?e:t,session:({session:e})=>({user:{name:e.user?.name,email:e.user?.email,image:e.user?.image},expires:e.expires?.toISOString?.()??e.expires}),jwt:({token:e})=>e};async function ig({authOptions:e,providerId:t,action:i,url:a,cookies:r,callbackUrl:n,csrfToken:s,csrfDisabled:o,isPost:c}){var l;let p=t3(e),{providers:u,provider:h}=function(e){let{providerId:t,config:i}=e,a=new URL(i.basePath??"/auth",e.url.origin),r=i.providers.map(e=>{let t="function"==typeof e?e():e,{options:r,...n}=t,s=r?.id??n.id,o=ir(n,r,{signinUrl:`${a}/signin/${s}`,callbackUrl:`${a}/callback/${s}`});if("oauth"===t.type||"oidc"===t.type){o.redirectProxyUrl??(o.redirectProxyUrl=r?.redirectProxyUrl??i.redirectProxyUrl);let e=function(e){e.issuer&&(e.wellKnown??(e.wellKnown=`${e.issuer}/.well-known/openid-configuration`));let t=ih(e.authorization,e.issuer);t&&!t.url?.searchParams.has("scope")&&t.url.searchParams.set("scope","openid profile email");let i=ih(e.token,e.issuer),a=ih(e.userinfo,e.issuer),r=e.checks??["pkce"];return e.redirectProxyUrl&&(r.includes("state")||r.push("state"),e.redirectProxyUrl=`${e.redirectProxyUrl}/callback/${e.id}`),{...e,authorization:t,token:i,checks:r,userinfo:a,profile:e.profile??id,account:e.account??ip}}(o);return e.authorization?.url.searchParams.get("response_mode")==="form_post"&&delete e.redirectProxyUrl,e[ic]??(e[ic]=r?.[ic]),e}return o});return{providers:r,provider:r.find(({id:e})=>e===t)}}({url:a,providerId:t,config:e}),m=!1;if((h?.type==="oauth"||h?.type==="oidc")&&h.redirectProxyUrl)try{m=new URL(h.redirectProxyUrl).origin===a.origin}catch{throw TypeError(`redirectProxyUrl must be a valid URL. Received: ${h.redirectProxyUrl}`)}let g={debug:!1,pages:{},theme:{colorScheme:"auto",logo:"",brandColor:"",buttonText:""},...e,url:a,action:i,provider:h,cookies:ir(d(e.useSecureCookies??"https:"===a.protocol),e.cookies),providers:u,session:{strategy:e.adapter?"database":"jwt",maxAge:2592e3,updateAge:86400,generateSessionToken:()=>crypto.randomUUID(),...e.session},jwt:{secret:e.secret,maxAge:e.session?.maxAge??2592e3,encode:tX,decode:tQ,...e.jwt},events:Object.keys(l=e.events??{}).reduce((e,t)=>(e[t]=async(...e)=>{try{let i=l[t];return await i(...e)}catch(e){p.error(new x(e))}},e),{}),adapter:function(e,t){if(e)return Object.keys(e).reduce((i,a)=>(i[a]=async(...i)=>{try{t.debug(`adapter_${a}`,{args:i});let r=e[a];return await r(...i)}catch(i){let e=new f(i);throw t.error(e),e}},i),{})}(e.adapter,p),callbacks:{...im,...e.callbacks},logger:p,callbackUrl:a.origin,isOnRedirectProxy:m,experimental:{...e.experimental}},v=[];if(o)g.csrfTokenVerified=!0;else{let{csrfToken:e,cookie:t,csrfTokenVerified:i}=await it({options:g,cookieValue:r?.[g.cookies.csrfToken.name],isPost:c,bodyValue:s});g.csrfToken=e,g.csrfTokenVerified=i,t&&v.push({name:g.cookies.csrfToken.name,value:t,options:g.cookies.csrfToken.options})}let{callbackUrl:y,callbackUrlCookie:b}=await t0({options:g,cookieValue:r?.[g.cookies.callbackUrl.name],paramValue:n});return g.callbackUrl=y,b&&v.push({name:g.cookies.callbackUrl.name,value:b,options:g.cookies.callbackUrl.options}),{options:g,cookies:v}}var iv,ix,iy,ib,i_,iw,ik,iE,iA,iS,iT,iC={},iO=[],iR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function iP(e,t){for(var i in t)e[i]=t[i];return e}function ij(e){var t=e.parentNode;t&&t.removeChild(e)}function iI(e,t,i,a,r){var n={type:e,props:t,key:i,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++iA:r};return null==r&&null!=iE.vnode&&iE.vnode(n),n}function iN(e){return e.children}function iU(e,t){this.props=e,this.context=t}function iL(e,t){if(null==t)return e.__?iL(e.__,e.__.__k.indexOf(e)+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return"function"==typeof e.type?iL(e):null}function iD(e){(!e.__d&&(e.__d=!0)&&iS.push(e)&&!iM.__r++||iT!==iE.debounceRendering)&&((iT=iE.debounceRendering)||setTimeout)(iM)}function iM(){for(var e;iM.__r=iS.length;)e=iS.sort(function(e,t){return e.__v.__b-t.__v.__b}),iS=[],e.some(function(e){var t,i,a,r,n;e.__d&&(r=(a=e.__v).__e,(n=e.__P)&&(t=[],(i=iP({},a)).__v=a.__v+1,iW(n,a,i,e.__n,void 0!==n.ownerSVGElement,null!=a.__h?[r]:null,t,null==r?iL(a):r,a.__h),iV(t,a),a.__e!=r&&function e(t){var i,a;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,i=0;i<t.__k.length;i++)if(null!=(a=t.__k[i])&&null!=a.__e){t.__e=t.__c.base=a.__e;break}return e(t)}}(a)))})}function iH(e,t,i,a,r,n,s,o,c,l){var d,p,u,h,f,m,g,v=a&&a.__k||iO,x=v.length;for(i.__k=[],d=0;d<t.length;d++)if(null!=(h=i.__k[d]=null==(h=t[d])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?iI(null,h,null,null,h):Array.isArray(h)?iI(iN,{children:h},null,null,null):h.__b>0?iI(h.type,h.props,h.key,h.ref?h.ref:null,h.__v):h)){if(h.__=i,h.__b=i.__b+1,null===(u=v[d])||u&&h.key==u.key&&h.type===u.type)v[d]=void 0;else for(p=0;p<x;p++){if((u=v[p])&&h.key==u.key&&h.type===u.type){v[p]=void 0;break}u=null}iW(e,h,u=u||iC,r,n,s,o,c,l),f=h.__e,(p=h.ref)&&u.ref!=p&&(g||(g=[]),u.ref&&g.push(u.ref,null,h),g.push(p,h.__c||f,h)),null!=f?(null==m&&(m=f),"function"==typeof h.type&&h.__k===u.__k?h.__d=c=function e(t,i,a){for(var r,n=t.__k,s=0;n&&s<n.length;s++)(r=n[s])&&(r.__=t,i="function"==typeof r.type?e(r,i,a):i$(a,r,r,n,r.__e,i));return i}(h,c,e):c=i$(e,h,u,v,f,c),"function"==typeof i.type&&(i.__d=c)):c&&u.__e==c&&c.parentNode!=e&&(c=iL(u))}for(i.__e=m,d=x;d--;)null!=v[d]&&function e(t,i,a){var r,n;if(iE.unmount&&iE.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||iZ(r,null,i)),null!=(r=t.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){iE.__e(e,i)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(n=0;n<r.length;n++)r[n]&&e(r[n],i,a||"function"!=typeof t.type);a||null==t.__e||ij(t.__e),t.__=t.__e=t.__d=void 0}(v[d],v[d]);if(g)for(d=0;d<g.length;d++)iZ(g[d],g[++d],g[++d])}function i$(e,t,i,a,r,n){var s,o,c;if(void 0!==t.__d)s=t.__d,t.__d=void 0;else if(null==i||r!=n||null==r.parentNode)e:if(null==n||n.parentNode!==e)e.appendChild(r),s=null;else{for(o=n,c=0;(o=o.nextSibling)&&c<a.length;c+=1)if(o==r)break e;e.insertBefore(r,n),s=n}return void 0!==s?s:r.nextSibling}function iF(e,t,i){"-"===t[0]?e.setProperty(t,i):e[t]=null==i?"":"number"!=typeof i||iR.test(t)?i:i+"px"}function iz(e,t,i,a,r){var n;e:if("style"===t){if("string"==typeof i)e.style.cssText=i;else{if("string"==typeof a&&(e.style.cssText=a=""),a)for(t in a)i&&t in i||iF(e.style,t,"");if(i)for(t in i)a&&i[t]===a[t]||iF(e.style,t,i[t])}}else if("o"===t[0]&&"n"===t[1])n=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?a||e.addEventListener(t,n?iq:iB,n):e.removeEventListener(t,n?iq:iB,n);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==i?"":i;break e}catch(e){}"function"==typeof i||(null==i||!1===i&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,i))}}function iB(e){this.l[e.type+!1](iE.event?iE.event(e):e)}function iq(e){this.l[e.type+!0](iE.event?iE.event(e):e)}function iW(e,t,i,a,r,n,s,o,c){var l,d,p,u,h,f,m,g,v,x,y,b,_,w,k,E=t.type;if(void 0!==t.constructor)return null;null!=i.__h&&(c=i.__h,o=t.__e=i.__e,t.__h=null,n=[o]),(l=iE.__b)&&l(t);try{e:if("function"==typeof E){if(g=t.props,v=(l=E.contextType)&&a[l.__c],x=l?v?v.props.value:l.__:a,i.__c?m=(d=t.__c=i.__c).__=d.__E:("prototype"in E&&E.prototype.render?t.__c=d=new E(g,x):(t.__c=d=new iU(g,x),d.constructor=E,d.render=iK),v&&v.sub(d),d.props=g,d.state||(d.state={}),d.context=x,d.__n=a,p=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=E.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=iP({},d.__s)),iP(d.__s,E.getDerivedStateFromProps(g,d.__s))),u=d.props,h=d.state,p)null==E.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==E.getDerivedStateFromProps&&g!==u&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(g,x),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(g,d.__s,x)||t.__v===i.__v){for(d.props=g,d.state=d.__s,t.__v!==i.__v&&(d.__d=!1),d.__v=t,t.__e=i.__e,t.__k=i.__k,t.__k.forEach(function(e){e&&(e.__=t)}),y=0;y<d._sb.length;y++)d.__h.push(d._sb[y]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(g,d.__s,x),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(u,h,f)})}if(d.context=x,d.props=g,d.__v=t,d.__P=e,b=iE.__r,_=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,b&&b(t),l=d.render(d.props,d.state,d.context),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[]}else do d.__d=!1,b&&b(t),l=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++_<25);d.state=d.__s,null!=d.getChildContext&&(a=iP(iP({},a),d.getChildContext())),p||null==d.getSnapshotBeforeUpdate||(f=d.getSnapshotBeforeUpdate(u,h)),k=null!=l&&l.type===iN&&null==l.key?l.props.children:l,iH(e,Array.isArray(k)?k:[k],t,i,a,r,n,s,o,c),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),m&&(d.__E=d.__=null),d.__e=!1}else null==n&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=function(e,t,i,a,r,n,s,o){var c,l,d,p=i.props,u=t.props,h=t.type,f=0;if("svg"===h&&(r=!0),null!=n){for(;f<n.length;f++)if((c=n[f])&&"setAttribute"in c==!!h&&(h?c.localName===h:3===c.nodeType)){e=c,n[f]=null;break}}if(null==e){if(null===h)return document.createTextNode(u);e=r?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,u.is&&u),n=null,o=!1}if(null===h)p===u||o&&e.data===u||(e.data=u);else{if(n=n&&ik.call(e.childNodes),l=(p=i.props||iC).dangerouslySetInnerHTML,d=u.dangerouslySetInnerHTML,!o){if(null!=n)for(p={},f=0;f<e.attributes.length;f++)p[e.attributes[f].name]=e.attributes[f].value;(d||l)&&(d&&(l&&d.__html==l.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(e,t,i,a,r){var n;for(n in i)"children"===n||"key"===n||n in t||iz(e,n,null,i[n],a);for(n in t)r&&"function"!=typeof t[n]||"children"===n||"key"===n||"value"===n||"checked"===n||i[n]===t[n]||iz(e,n,t[n],i[n],a)}(e,u,p,r,o),d)t.__k=[];else if(iH(e,Array.isArray(f=t.props.children)?f:[f],t,i,a,r&&"foreignObject"!==h,n,s,n?n[0]:i.__k&&iL(i,0),o),null!=n)for(f=n.length;f--;)null!=n[f]&&ij(n[f]);o||("value"in u&&void 0!==(f=u.value)&&(f!==e.value||"progress"===h&&!f||"option"===h&&f!==p.value)&&iz(e,"value",f,p.value,!1),"checked"in u&&void 0!==(f=u.checked)&&f!==e.checked&&iz(e,"checked",f,p.checked,!1))}return e}(i.__e,t,i,a,r,n,s,c);(l=iE.diffed)&&l(t)}catch(e){t.__v=null,(c||null!=n)&&(t.__e=o,t.__h=!!c,n[n.indexOf(o)]=null),iE.__e(e,t,i)}}function iV(e,t){iE.__c&&iE.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){iE.__e(e,t.__v)}})}function iZ(e,t,i){try{"function"==typeof e?e(t):e.current=t}catch(e){iE.__e(e,i)}}function iK(e,t,i){return this.constructor(e,i)}function iJ(e,t){var i,a,r,n;i=e,iE.__&&iE.__(i,t),r=(a="function"==typeof iJ)?null:iJ&&iJ.__k||t.__k,n=[],iW(t,i=(!a&&iJ||t).__k=function(e,t,i){var a,r,n,s={};for(n in t)"key"==n?a=t[n]:"ref"==n?r=t[n]:s[n]=t[n];if(arguments.length>2&&(s.children=arguments.length>3?ik.call(arguments,2):i),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===s[n]&&(s[n]=e.defaultProps[n]);return iI(e,s,a,r,null)}(iN,null,[i]),r||iC,iC,void 0!==t.ownerSVGElement,!a&&iJ?[iJ]:r?null:t.firstChild?ik.call(t.childNodes):null,n,!a&&iJ?iJ:r?r.__e:t.firstChild,a),iV(n,i)}ik=iO.slice,iE={__e:function(e,t,i,a){for(var r,n,s;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(e)),s=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,a||{}),s=r.__d),s)return r.__E=r}catch(t){e=t}throw e}},iA=0,iU.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=iP({},this.state),"function"==typeof e&&(e=e(iP({},i),this.props)),e&&iP(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),iD(this))},iU.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),iD(this))},iU.prototype.render=iN,iS=[],iM.__r=0;var iG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i,iX=/^(area|base|br|col|embed|hr|img|input|link|meta|param|source|track|wbr)$/,iQ=/[\s\n\\/='"\0<>]/,iY=/^xlink:?./,i0=/["&<]/;function i1(e){if(!1===i0.test(e+=""))return e;for(var t=0,i=0,a="",r="";i<e.length;i++){switch(e.charCodeAt(i)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;default:continue}i!==t&&(a+=e.slice(t,i)),a+=r,t=i+1}return i!==t&&(a+=e.slice(t,i)),a}var i2=function(e,t){return String(e).replace(/(\n+)/g,"$1"+(t||"	"))},i5=function(e,t,i){return String(e).length>(t||40)||!i&&-1!==String(e).indexOf("\n")||-1!==String(e).indexOf("<")},i3={},i6=/([A-Z])/g;function i4(e){var t="";for(var i in e){var a=e[i];null!=a&&""!==a&&(t&&(t+=" "),t+="-"==i[0]?i:i3[i]||(i3[i]=i.replace(i6,"-$1").toLowerCase()),t="number"==typeof a&&!1===iG.test(i)?t+": "+a+"px;":t+": "+a+";")}return t||void 0}function i9(e,t){return Array.isArray(t)?t.reduce(i9,e):null!=t&&!1!==t&&e.push(t),e}function i8(){this.__d=!0}function i7(e,t){return{__v:e,context:t,props:e.props,setState:i8,forceUpdate:i8,__d:!0,__h:[]}}function ae(e,t){var i=e.contextType,a=i&&t[i.__c];return null!=i?a?a.props.value:i.__:t}var at=[],ai={shallow:!0};ar.render=ar;var aa=[];function ar(e,t,i){t=t||{};var a,r=iE.__s;return iE.__s=!0,a=i&&(i.pretty||i.voidElements||i.sortAttributes||i.shallow||i.allAttributes||i.xml||i.attributeHook)?function e(t,i,a,r,n,s){if(null==t||"boolean"==typeof t)return"";if("object"!=typeof t)return i1(t);var o=a.pretty,c=o&&"string"==typeof o?o:"	";if(Array.isArray(t)){for(var l="",d=0;d<t.length;d++)o&&d>0&&(l+="\n"),l+=e(t[d],i,a,r,n,s);return l}var p,u=t.type,h=t.props,f=!1;if("function"==typeof u){if(f=!0,!a.shallow||!r&&!1!==a.renderRootComponent){if(u===iN){var m=[];return i9(m,t.props.children),e(m,i,a,!1!==a.shallowHighOrder,n,s)}var g,v=t.__c=i7(t,i);iE.__b&&iE.__b(t);var x=iE.__r;if(u.prototype&&"function"==typeof u.prototype.render){var y=ae(u,i);(v=t.__c=new u(h,y)).__v=t,v._dirty=v.__d=!0,v.props=h,null==v.state&&(v.state={}),null==v._nextState&&null==v.__s&&(v._nextState=v.__s=v.state),v.context=y,u.getDerivedStateFromProps?v.state=Object.assign({},v.state,u.getDerivedStateFromProps(v.props,v.state)):v.componentWillMount&&(v.componentWillMount(),v.state=v._nextState!==v.state?v._nextState:v.__s!==v.state?v.__s:v.state),x&&x(t),g=v.render(v.props,v.state,v.context)}else for(var b=ae(u,i),_=0;v.__d&&_++<25;)v.__d=!1,x&&x(t),g=u.call(t.__c,h,b);return v.getChildContext&&(i=Object.assign({},i,v.getChildContext())),iE.diffed&&iE.diffed(t),e(g,i,a,!1!==a.shallowHighOrder,n,s)}u=(p=u).displayName||p!==Function&&p.name||function(e){var t=(Function.prototype.toString.call(e).match(/^\s*function\s+([^( ]+)/)||"")[1];if(!t){for(var i=-1,a=at.length;a--;)if(at[a]===e){i=a;break}i<0&&(i=at.push(e)-1),t="UnnamedComponent"+i}return t}(p)}var w,k,E="<"+u;if(h){var A=Object.keys(h);a&&!0===a.sortAttributes&&A.sort();for(var S=0;S<A.length;S++){var T=A[S],C=h[T];if("children"!==T){if(!iQ.test(T)&&(a&&a.allAttributes||"key"!==T&&"ref"!==T&&"__self"!==T&&"__source"!==T)){if("defaultValue"===T)T="value";else if("defaultChecked"===T)T="checked";else if("defaultSelected"===T)T="selected";else if("className"===T){if(void 0!==h.class)continue;T="class"}else n&&iY.test(T)&&(T=T.toLowerCase().replace(/^xlink:?/,"xlink:"));if("htmlFor"===T){if(h.for)continue;T="for"}"style"===T&&C&&"object"==typeof C&&(C=i4(C)),"a"===T[0]&&"r"===T[1]&&"boolean"==typeof C&&(C=String(C));var O=a.attributeHook&&a.attributeHook(T,C,i,a,f);if(O||""===O)E+=O;else if("dangerouslySetInnerHTML"===T)k=C&&C.__html;else if("textarea"===u&&"value"===T)w=C;else if((C||0===C||""===C)&&"function"!=typeof C){if(!(!0!==C&&""!==C||(C=T,a&&a.xml))){E=E+" "+T;continue}if("value"===T){if("select"===u){s=C;continue}"option"===u&&s==C&&void 0===h.selected&&(E+=" selected")}E=E+" "+T+'="'+i1(C)+'"'}}}else w=C}}if(o){var R=E.replace(/\n\s*/," ");R===E||~R.indexOf("\n")?o&&~E.indexOf("\n")&&(E+="\n"):E=R}if(E+=">",iQ.test(u))throw Error(u+" is not a valid HTML tag name in "+E);var P,j=iX.test(u)||a.voidElements&&a.voidElements.test(u),I=[];if(k)o&&i5(k)&&(k="\n"+c+i2(k,c)),E+=k;else if(null!=w&&i9(P=[],w).length){for(var N=o&&~E.indexOf("\n"),U=!1,L=0;L<P.length;L++){var D=P[L];if(null!=D&&!1!==D){var M=e(D,i,a,!0,"svg"===u||"foreignObject"!==u&&n,s);if(o&&!N&&i5(M)&&(N=!0),M){if(o){var H=M.length>0&&"<"!=M[0];U&&H?I[I.length-1]+=M:I.push(M),U=H}else I.push(M)}}}if(o&&N)for(var $=I.length;$--;)I[$]="\n"+c+i2(I[$],c)}if(I.length||k)E+=I.join("");else if(a&&a.xml)return E.substring(0,E.length-1)+" />";return!j||P||k?(o&&~E.indexOf("\n")&&(E+="\n"),E=E+"</"+u+">"):E=E.replace(/>$/," />"),E}(e,t,i):function e(t,i,a,r){if(null==t||!0===t||!1===t||""===t)return"";if("object"!=typeof t)return i1(t);if(an(t)){for(var n="",s=0;s<t.length;s++)n+=e(t[s],i,a,r);return n}iE.__b&&iE.__b(t);var o=t.type,c=t.props;if("function"==typeof o){if(o===iN)return e(t.props.children,i,a,r);f=o.prototype&&"function"==typeof o.prototype.render?(l=i,p=ae(d=t.type,l),u=new d(t.props,p),t.__c=u,u.__v=t,u.__d=!0,u.props=t.props,null==u.state&&(u.state={}),null==u.__s&&(u.__s=u.state),u.context=p,d.getDerivedStateFromProps?u.state=as({},u.state,d.getDerivedStateFromProps(u.props,u.state)):u.componentWillMount&&(u.componentWillMount(),u.state=u.__s!==u.state?u.__s:u.state),(h=iE.__r)&&h(t),u.render(u.props,u.state,u.context)):function(e,t){var i,a=i7(e,t),r=ae(e.type,t);e.__c=a;for(var n=iE.__r,s=0;a.__d&&s++<25;)a.__d=!1,n&&n(e),i=e.type.call(a,e.props,r);return i}(t,i);var l,d,p,u,h,f,m=t.__c;m.getChildContext&&(i=as({},i,m.getChildContext()));var g=e(f,i,a,r);return iE.diffed&&iE.diffed(t),g}var v,x,y="<";if(y+=o,c)for(var b in v=c.children,c){var _,w,k,E=c[b];if(!("key"===b||"ref"===b||"__self"===b||"__source"===b||"children"===b||"className"===b&&"class"in c||"htmlFor"===b&&"for"in c||iQ.test(b))){if(w=b="className"===(_=b)?"class":"htmlFor"===_?"for":"defaultValue"===_?"value":"defaultChecked"===_?"checked":"defaultSelected"===_?"selected":a&&iY.test(_)?_.toLowerCase().replace(/^xlink:?/,"xlink:"):_,k=E,E="style"===w&&null!=k&&"object"==typeof k?i4(k):"a"===w[0]&&"r"===w[1]&&"boolean"==typeof k?String(k):k,"dangerouslySetInnerHTML"===b)x=E&&E.__html;else if("textarea"===o&&"value"===b)v=E;else if((E||0===E||""===E)&&"function"!=typeof E){if(!0===E||""===E){E=b,y=y+" "+b;continue}if("value"===b){if("select"===o){r=E;continue}"option"!==o||r!=E||"selected"in c||(y+=" selected")}y=y+" "+b+'="'+i1(E)+'"'}}}var A=y;if(y+=">",iQ.test(o))throw Error(o+" is not a valid HTML tag name in "+y);var S="",T=!1;if(x)S+=x,T=!0;else if("string"==typeof v)S+=i1(v),T=!0;else if(an(v))for(var C=0;C<v.length;C++){var O=v[C];if(null!=O&&!1!==O){var R=e(O,i,"svg"===o||"foreignObject"!==o&&a,r);R&&(S+=R,T=!0)}}else if(null!=v&&!1!==v&&!0!==v){var P=e(v,i,"svg"===o||"foreignObject"!==o&&a,r);P&&(S+=P,T=!0)}if(iE.diffed&&iE.diffed(t),T)y+=S;else if(iX.test(o))return A+" />";return y+"</"+o+">"}(e,t,!1,void 0),iE.__c&&iE.__c(e,aa),iE.__s=r,aa.length=0,a}var an=Array.isArray,as=Object.assign;ar.shallowRender=function(e,t){return ar(e,t,ai)};var ao=0;function ac(e,t,i,a,r){var n,s,o={};for(s in t)"ref"==s?n=t[s]:o[s]=t[s];var c={type:e,props:o,key:i,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--ao,__source:r,__self:a};if("function"==typeof e&&(n=e.defaultProps))for(s in n)void 0===o[s]&&(o[s]=n[s]);return iE.vnode&&iE.vnode(c),c}async function al(e,t){let i=window.SimpleWebAuthnBrowser;async function a(i){let a=new URL(`${e}/webauthn-options/${t}`);i&&a.searchParams.append("action",i),n().forEach(e=>{a.searchParams.append(e.name,e.value)});let r=await fetch(a);if(!r.ok){console.error("Failed to fetch options",r);return}return r.json()}function r(){let e=`#${t}-form`,i=document.querySelector(e);if(!i)throw Error(`Form '${e}' not found`);return i}function n(){return Array.from(r().querySelectorAll("input[data-form-field]"))}async function s(e,t){let i=r();if(e){let t=document.createElement("input");t.type="hidden",t.name="action",t.value=e,i.appendChild(t)}if(t){let e=document.createElement("input");e.type="hidden",e.name="data",e.value=JSON.stringify(t),i.appendChild(e)}return i.submit()}async function o(e,t){let a=await i.startAuthentication(e,t);return await s("authenticate",a)}async function c(e){n().forEach(e=>{if(e.required&&!e.value)throw Error(`Missing required field: ${e.name}`)});let t=await i.startRegistration(e);return await s("register",t)}async function l(){if(!i.browserSupportsWebAuthnAutofill())return;let e=await a("authenticate");if(!e){console.error("Failed to fetch option for autofill authentication");return}try{await o(e.options,!0)}catch(e){console.error(e)}}(async function(){let e=r();if(!i.browserSupportsWebAuthn()){e.style.display="none";return}e&&e.addEventListener("submit",async e=>{e.preventDefault();let t=await a(void 0);if(!t){console.error("Failed to fetch options for form submission");return}if("authenticate"===t.action)try{await o(t.options,!1)}catch(e){console.error(e)}else if("register"===t.action)try{await c(t.options)}catch(e){console.error(e)}})})(),l()}let ad={default:"Unable to sign in.",Signin:"Try signing in with a different account.",OAuthSignin:"Try signing in with a different account.",OAuthCallbackError:"Try signing in with a different account.",OAuthCreateAccount:"Try signing in with a different account.",EmailCreateAccount:"Try signing in with a different account.",Callback:"Try signing in with a different account.",OAuthAccountNotLinked:"To confirm your identity, sign in with the same account you used originally.",EmailSignin:"The e-mail could not be sent.",CredentialsSignin:"Sign in failed. Check the details you provided are correct.",SessionRequired:"Please sign in to access this page."},ap=`:root {
  --border-width: 1px;
  --border-radius: 0.5rem;
  --color-error: #c94b4b;
  --color-info: #157efb;
  --color-info-hover: #0f6ddb;
  --color-info-text: #fff;
}

.__next-auth-theme-auto,
.__next-auth-theme-light {
  --color-background: #ececec;
  --color-background-hover: rgba(236, 236, 236, 0.8);
  --color-background-card: #fff;
  --color-text: #000;
  --color-primary: #444;
  --color-control-border: #bbb;
  --color-button-active-background: #f9f9f9;
  --color-button-active-border: #aaa;
  --color-separator: #ccc;
}

.__next-auth-theme-dark {
  --color-background: #161b22;
  --color-background-hover: rgba(22, 27, 34, 0.8);
  --color-background-card: #0d1117;
  --color-text: #fff;
  --color-primary: #ccc;
  --color-control-border: #555;
  --color-button-active-background: #060606;
  --color-button-active-border: #666;
  --color-separator: #444;
}

@media (prefers-color-scheme: dark) {
  .__next-auth-theme-auto {
    --color-background: #161b22;
    --color-background-hover: rgba(22, 27, 34, 0.8);
    --color-background-card: #0d1117;
    --color-text: #fff;
    --color-primary: #ccc;
    --color-control-border: #555;
    --color-button-active-background: #060606;
    --color-button-active-border: #666;
    --color-separator: #444;
  }

  button,
  a.button {
    color: var(--provider-dark-color, var(--color-primary)) !important;
    background-color: var(
      --provider-dark-bg,
      var(--color-background)
    ) !important;
  }

    :is(button,a.button):hover {
      background-color: var(
        --provider-dark-bg-hover,
        var(--color-background-hover)
      ) !important;
    }

    :is(button,a.button) span {
      color: var(--provider-dark-bg) !important;
    }
}

html {
  box-sizing: border-box;
}

*,
*:before,
*:after {
  box-sizing: inherit;
  margin: 0;
  padding: 0;
}

body {
  background-color: var(--color-background);
  margin: 0;
  padding: 0;
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    "Segoe UI",
    Roboto,
    "Helvetica Neue",
    Arial,
    "Noto Sans",
    sans-serif,
    "Apple Color Emoji",
    "Segoe UI Emoji",
    "Segoe UI Symbol",
    "Noto Color Emoji";
}

h1 {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  font-weight: 400;
  color: var(--color-text);
}

p {
  margin-bottom: 1.5rem;
  padding: 0 1rem;
  color: var(--color-text);
}

form {
  margin: 0;
  padding: 0;
}

label {
  font-weight: 500;
  text-align: left;
  margin-bottom: 0.25rem;
  display: block;
  color: var(--color-text);
}

input[type] {
  box-sizing: border-box;
  display: block;
  width: 100%;
  padding: 0.5rem 1rem;
  border: var(--border-width) solid var(--color-control-border);
  background: var(--color-background-card);
  font-size: 1rem;
  border-radius: var(--border-radius);
  color: var(--color-text);
}

p {
  font-size: 1.1rem;
  line-height: 2rem;
}

a.button {
  text-decoration: none;
  line-height: 1rem;
}

a.button:link,
  a.button:visited {
    background-color: var(--color-background);
    color: var(--color-primary);
  }

button,
a.button {
  padding: 0.75rem 1rem;
  color: var(--provider-color, var(--color-primary));
  background-color: var(--provider-bg, var(--color-background));
  border: 1px solid #00000031;
  font-size: 0.9rem;
  height: 50px;
  border-radius: var(--border-radius);
  transition: background-color 250ms ease-in-out;
  font-weight: 300;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: space-between;
}

:is(button,a.button):hover {
    background-color: var(--provider-bg-hover, var(--color-background-hover));
    cursor: pointer;
  }

:is(button,a.button):active {
    cursor: pointer;
  }

:is(button,a.button) span {
    color: #fff;
  }

#submitButton {
  color: var(--button-text-color, var(--color-info-text));
  background-color: var(--brand-color, var(--color-info));
  width: 100%;
}

#submitButton:hover {
    background-color: var(
      --button-hover-bg,
      var(--color-info-hover)
    ) !important;
  }

a.site {
  color: var(--color-primary);
  text-decoration: none;
  font-size: 1rem;
  line-height: 2rem;
}

a.site:hover {
    text-decoration: underline;
  }

.page {
  position: absolute;
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

.page > div {
    text-align: center;
  }

.error a.button {
    padding-left: 2rem;
    padding-right: 2rem;
    margin-top: 0.5rem;
  }

.error .message {
    margin-bottom: 1.5rem;
  }

.signin input[type="text"] {
    margin-left: auto;
    margin-right: auto;
    display: block;
  }

.signin hr {
    display: block;
    border: 0;
    border-top: 1px solid var(--color-separator);
    margin: 2rem auto 1rem auto;
    overflow: visible;
  }

.signin hr::before {
      content: "or";
      background: var(--color-background-card);
      color: #888;
      padding: 0 0.4rem;
      position: relative;
      top: -0.7rem;
    }

.signin .error {
    background: #f5f5f5;
    font-weight: 500;
    border-radius: 0.3rem;
    background: var(--color-error);
  }

.signin .error p {
      text-align: left;
      padding: 0.5rem 1rem;
      font-size: 0.9rem;
      line-height: 1.2rem;
      color: var(--color-info-text);
    }

.signin > div,
  .signin form {
    display: block;
  }

.signin > div input[type], .signin form input[type] {
      margin-bottom: 0.5rem;
    }

.signin > div button, .signin form button {
      width: 100%;
    }

.signin .provider + .provider {
    margin-top: 1rem;
  }

.logo {
  display: inline-block;
  max-width: 150px;
  margin: 1.25rem 0;
  max-height: 70px;
}

.card {
  background-color: var(--color-background-card);
  border-radius: 1rem;
  padding: 1.25rem 2rem;
}

.card .header {
    color: var(--color-primary);
  }

.card input[type]::-moz-placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type]::placeholder {
    color: color-mix(
      in srgb,
      var(--color-text) 20%,
      var(--color-button-active-background)
    );
  }

.card input[type] {
    background: color-mix(in srgb, var(--color-background-card) 95%, black);
  }

.section-header {
  color: var(--color-text);
}

@media screen and (min-width: 450px) {
  .card {
    margin: 2rem 0;
    width: 368px;
  }
}

@media screen and (max-width: 450px) {
  .card {
    margin: 1rem 0;
    width: 343px;
  }
}
`;function au({html:e,title:t,status:i,cookies:a,theme:r,headTags:n}){return{cookies:a,status:i,headers:{"Content-Type":"text/html"},body:`<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><style>${ap}</style><title>${t}</title>${n??""}</head><body class="__next-auth-theme-${r?.colorScheme??"auto"}"><div class="page">${ar(e)}</div></body></html>`}}function ah(e){let{url:t,theme:i,query:a,cookies:r,pages:n,providers:s}=e;return{csrf:(e,t,i)=>e?(t.logger.warn("csrf-disabled"),i.push({name:t.cookies.csrfToken.name,value:"",options:{...t.cookies.csrfToken.options,maxAge:0}}),{status:404,cookies:i}):{headers:{"Content-Type":"application/json"},body:{csrfToken:t.csrfToken},cookies:i},providers:e=>({headers:{"Content-Type":"application/json"},body:e.reduce((e,{id:t,name:i,type:a,signinUrl:r,callbackUrl:n})=>(e[t]={id:t,name:i,type:a,signinUrl:r,callbackUrl:n},e),{})}),signin(t,o){if(t)throw new U("Unsupported action");if(n?.signIn){let t=`${n.signIn}${n.signIn.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:e.callbackUrl??"/"})}`;return o&&(t=`${t}&${new URLSearchParams({error:o})}`),{redirect:t,cookies:r}}let c=s?.find(e=>"webauthn"===e.type&&e.enableConditionalUI&&!!e.simpleWebAuthnBrowserVersion),l="";if(c){let{simpleWebAuthnBrowserVersion:e}=c;l=`<script src="https://unpkg.com/@simplewebauthn/browser@${e}/dist/bundle/index.umd.min.js" crossorigin="anonymous"></script>`}return au({cookies:r,theme:i,html:function(e){let{csrfToken:t,providers:i=[],callbackUrl:a,theme:r,email:n,error:s}=e;"undefined"!=typeof document&&r?.brandColor&&document.documentElement.style.setProperty("--brand-color",r.brandColor),"undefined"!=typeof document&&r?.buttonText&&document.documentElement.style.setProperty("--button-text-color",r.buttonText);let o=s&&(ad[s]??ad.default),c=i.find(e=>"webauthn"===e.type&&e.enableConditionalUI)?.id;return ac("div",{className:"signin",children:[r?.brandColor&&ac("style",{dangerouslySetInnerHTML:{__html:`:root {--brand-color: ${r.brandColor}}`}}),r?.buttonText&&ac("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${r.buttonText}
        }
      `}}),ac("div",{className:"card",children:[o&&ac("div",{className:"error",children:ac("p",{children:o})}),r?.logo&&ac("img",{src:r.logo,alt:"Logo",className:"logo"}),i.map((e,r)=>{let s,o,c;("oauth"===e.type||"oidc"===e.type)&&({bg:s="#fff",brandColor:o,logo:c=`https://authjs.dev/img/providers/${e.id}.svg`}=e.style??{});let l=o??s??"#fff";return ac("div",{className:"provider",children:["oauth"===e.type||"oidc"===e.type?ac("form",{action:e.signinUrl,method:"POST",children:[ac("input",{type:"hidden",name:"csrfToken",value:t}),a&&ac("input",{type:"hidden",name:"callbackUrl",value:a}),ac("button",{type:"submit",className:"button",style:{"--provider-bg":"#fff","--provider-bg-hover":`color-mix(in srgb, ${l} 30%, #fff)`,"--provider-dark-bg":"#161b22","--provider-dark-bg-hover":`color-mix(in srgb, ${l} 30%, #000)`},tabIndex:0,children:[ac("span",{style:{filter:"invert(1) grayscale(1) brightness(1.3) contrast(9000)","mix-blend-mode":"luminosity",opacity:.95},children:["Sign in with ",e.name]}),c&&ac("img",{loading:"lazy",height:24,src:c})]})]}):null,("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&r>0&&"email"!==i[r-1].type&&"credentials"!==i[r-1].type&&"webauthn"!==i[r-1].type&&ac("hr",{}),"email"===e.type&&ac("form",{action:e.signinUrl,method:"POST",children:[ac("input",{type:"hidden",name:"csrfToken",value:t}),ac("label",{className:"section-header",htmlFor:`input-email-for-${e.id}-provider`,children:"Email"}),ac("input",{id:`input-email-for-${e.id}-provider`,autoFocus:!0,type:"email",name:"email",value:n,placeholder:"email@example.com",required:!0}),ac("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"credentials"===e.type&&ac("form",{action:e.callbackUrl,method:"POST",children:[ac("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.credentials).map(t=>ac("div",{children:[ac("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.credentials[t].label??t}),ac("input",{name:t,id:`input-${t}-for-${e.id}-provider`,type:e.credentials[t].type??"text",placeholder:e.credentials[t].placeholder??"",...e.credentials[t]})]},`input-group-${e.id}`)),ac("button",{id:"submitButton",type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),"webauthn"===e.type&&ac("form",{action:e.callbackUrl,method:"POST",id:`${e.id}-form`,children:[ac("input",{type:"hidden",name:"csrfToken",value:t}),Object.keys(e.formFields).map(t=>ac("div",{children:[ac("label",{className:"section-header",htmlFor:`input-${t}-for-${e.id}-provider`,children:e.formFields[t].label??t}),ac("input",{name:t,"data-form-field":!0,id:`input-${t}-for-${e.id}-provider`,type:e.formFields[t].type??"text",placeholder:e.formFields[t].placeholder??"",...e.formFields[t]})]},`input-group-${e.id}`)),ac("button",{id:`submitButton-${e.id}`,type:"submit",tabIndex:0,children:["Sign in with ",e.name]})]}),("email"===e.type||"credentials"===e.type||"webauthn"===e.type)&&r+1<i.length&&ac("hr",{})]},e.id)})]}),c&&ac(iN,{children:ac("script",{dangerouslySetInnerHTML:{__html:`
const currentURL = window.location.href;
const authURL = currentURL.substring(0, currentURL.lastIndexOf('/'));
(${al})(authURL, "${c}");
`}})})]})}({csrfToken:e.csrfToken,providers:e.providers?.filter(e=>["email","oauth","oidc"].includes(e.type)||"credentials"===e.type&&e.credentials||"webauthn"===e.type&&e.formFields||!1),callbackUrl:e.callbackUrl,theme:e.theme,error:o,...a}),title:"Sign In",headTags:l})},signout:()=>n?.signOut?{redirect:n.signOut,cookies:r}:au({cookies:r,theme:i,html:function(e){let{url:t,csrfToken:i,theme:a}=e;return ac("div",{className:"signout",children:[a?.brandColor&&ac("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${a.brandColor}
        }
      `}}),a?.buttonText&&ac("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --button-text-color: ${a.buttonText}
        }
      `}}),ac("div",{className:"card",children:[a?.logo&&ac("img",{src:a.logo,alt:"Logo",className:"logo"}),ac("h1",{children:"Signout"}),ac("p",{children:"Are you sure you want to sign out?"}),ac("form",{action:t?.toString(),method:"POST",children:[ac("input",{type:"hidden",name:"csrfToken",value:i}),ac("button",{id:"submitButton",type:"submit",children:"Sign out"})]})]})]})}({csrfToken:e.csrfToken,url:t,theme:i}),title:"Sign Out"}),verifyRequest:e=>n?.verifyRequest?{redirect:n.verifyRequest,cookies:r}:au({cookies:r,theme:i,html:function(e){let{url:t,theme:i}=e;return ac("div",{className:"verify-request",children:[i.brandColor&&ac("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${i.brandColor}
        }
      `}}),ac("div",{className:"card",children:[i.logo&&ac("img",{src:i.logo,alt:"Logo",className:"logo"}),ac("h1",{children:"Check your email"}),ac("p",{children:"A sign in link has been sent to your email address."}),ac("p",{children:ac("a",{className:"site",href:t.origin,children:t.host})})]})]})}({url:t,theme:i,...e}),title:"Verify Request"}),error:e=>n?.error?{redirect:`${n.error}${n.error.includes("?")?"&":"?"}error=${e}`,cookies:r}:au({cookies:r,theme:i,...function(e){let{url:t,error:i="default",theme:a}=e,r=`${t}/signin`,n={default:{status:200,heading:"Error",message:ac("p",{children:ac("a",{className:"site",href:t?.origin,children:t?.host})})},Configuration:{status:500,heading:"Server error",message:ac("div",{children:[ac("p",{children:"There is a problem with the server configuration."}),ac("p",{children:"Check the server logs for more information."})]})},AccessDenied:{status:403,heading:"Access Denied",message:ac("div",{children:[ac("p",{children:"You do not have permission to sign in."}),ac("p",{children:ac("a",{className:"button",href:r,children:"Sign in"})})]})},Verification:{status:403,heading:"Unable to sign in",message:ac("div",{children:[ac("p",{children:"The sign in link is no longer valid."}),ac("p",{children:"It may have been used already or it may have expired."})]}),signin:ac("a",{className:"button",href:r,children:"Sign in"})}},{status:s,heading:o,message:c,signin:l}=n[i]??n.default;return{status:s,html:ac("div",{className:"error",children:[a?.brandColor&&ac("style",{dangerouslySetInnerHTML:{__html:`
        :root {
          --brand-color: ${a?.brandColor}
        }
      `}}),ac("div",{className:"card",children:[a?.logo&&ac("img",{src:a?.logo,alt:"Logo",className:"logo"}),ac("h1",{children:o}),ac("div",{className:"message",children:c}),l]})]})}}({url:t,theme:i,error:e}),title:"Error"})}}function af(e,t=Date.now()){return new Date(t+1e3*e)}async function am(e,t,i,a){if(!i?.providerAccountId||!i.type)throw Error("Missing or invalid provider account");if(!["email","oauth","oidc","webauthn"].includes(i.type))throw Error("Provider not supported");let{adapter:r,jwt:n,events:s,session:{strategy:o,generateSessionToken:c}}=a;if(!r)return{user:t,account:i};let l=i,{createUser:d,updateUser:p,getUser:u,getUserByAccount:h,getUserByEmail:f,linkAccount:m,createSession:g,getSessionAndUser:v,deleteSession:x}=r,y=null,b=null,_=!1,w="jwt"===o;if(e){if(w)try{let t=a.cookies.sessionToken.name;(y=await n.decode({...n,token:e,salt:t}))&&"sub"in y&&y.sub&&(b=await u(y.sub))}catch{}else{let t=await v(e);t&&(y=t.session,b=t.user)}}if("email"===l.type){let i=await f(t.email);return i?(b?.id!==i.id&&!w&&e&&await x(e),b=await p({id:i.id,emailVerified:new Date}),await s.updateUser?.({user:b})):(b=await d({...t,emailVerified:new Date}),await s.createUser?.({user:b}),_=!0),{session:y=w?{}:await g({sessionToken:c(),userId:b.id,expires:af(a.session.maxAge)}),user:b,isNewUser:_}}if("webauthn"===l.type){let e=await h({providerAccountId:l.providerAccountId,provider:l.provider});if(e){if(b){if(e.id===b.id){let e={...l,userId:b.id};return{session:y,user:b,isNewUser:_,account:e}}throw new W("The account is already associated with another user",{provider:l.provider})}y=w?{}:await g({sessionToken:c(),userId:e.id,expires:af(a.session.maxAge)});let t={...l,userId:e.id};return{session:y,user:e,isNewUser:_,account:t}}{if(b){await m({...l,userId:b.id}),await s.linkAccount?.({user:b,account:l,profile:t});let e={...l,userId:b.id};return{session:y,user:b,isNewUser:_,account:e}}if(t.email?await f(t.email):null)throw new W("Another account already exists with the same e-mail address",{provider:l.provider});b=await d({...t}),await s.createUser?.({user:b}),await m({...l,userId:b.id}),await s.linkAccount?.({user:b,account:l,profile:t}),y=w?{}:await g({sessionToken:c(),userId:b.id,expires:af(a.session.maxAge)});let e={...l,userId:b.id};return{session:y,user:b,isNewUser:!0,account:e}}}let k=await h({providerAccountId:l.providerAccountId,provider:l.provider});if(k){if(b){if(k.id===b.id)return{session:y,user:b,isNewUser:_};throw new C("The account is already associated with another user",{provider:l.provider})}return{session:y=w?{}:await g({sessionToken:c(),userId:k.id,expires:af(a.session.maxAge)}),user:k,isNewUser:_}}{let{provider:e}=a,{type:i,provider:r,providerAccountId:n,userId:o,...p}=l;if(l=Object.assign(e.account(p)??{},{providerAccountId:n,provider:r,type:i,userId:o}),b)return await m({...l,userId:b.id}),await s.linkAccount?.({user:b,account:l,profile:t}),{session:y,user:b,isNewUser:_};let u=t.email?await f(t.email):null;if(u){let e=a.provider;if(e?.allowDangerousEmailAccountLinking)b=u,_=!1;else throw new C("Another account already exists with the same e-mail address",{provider:l.provider})}else b=await d({...t,emailVerified:null}),_=!0;return await s.createUser?.({user:b}),await m({...l,userId:b.id}),await s.linkAccount?.({user:b,account:l,profile:t}),{session:y=w?{}:await g({sessionToken:c(),userId:b.id,expires:af(a.session.maxAge)}),user:b,isNewUser:_}}}function ag(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch{return!1}}"undefined"!=typeof navigator&&navigator.userAgent?.startsWith?.("Mozilla/5.0 ")||(n="oauth4webapi/v3.1.4");let av="ERR_INVALID_ARG_VALUE",ax="ERR_INVALID_ARG_TYPE";function ay(e,t,i){let a=TypeError(e,{cause:i});return Object.assign(a,{code:t}),a}let ab=Symbol(),a_=Symbol(),aw=Symbol(),ak=Symbol(),aE=Symbol(),aA=Symbol(),aS=Symbol(),aT=new TextEncoder,aC=new TextDecoder;function aO(e){return"string"==typeof e?aT.encode(e):aC.decode(e)}function aR(e){return"string"==typeof e?function(e){try{let t=atob(e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"")),i=new Uint8Array(t.length);for(let e=0;e<t.length;e++)i[e]=t.charCodeAt(e);return i}catch(e){throw ay("The input to be decoded is not correctly encoded.",av,e)}}(e):function(e){e instanceof ArrayBuffer&&(e=new Uint8Array(e));let t=[];for(let i=0;i<e.byteLength;i+=32768)t.push(String.fromCharCode.apply(null,e.subarray(i,i+32768)));return btoa(t.join("")).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}(e)}class aP extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=rC,Error.captureStackTrace?.(this,this.constructor)}}class aj extends Error{code;constructor(e,t){super(e,t),this.name=this.constructor.name,t?.code&&(this.code=t?.code),Error.captureStackTrace?.(this,this.constructor)}}function aI(e,t,i){return new aj(e,{code:t,cause:i})}function aN(e){return!(null===e||"object"!=typeof e||Array.isArray(e))}function aU(e){ag(e,Headers)&&(e=Object.fromEntries(e.entries()));let t=new Headers(e);if(n&&!t.has("user-agent")&&t.set("user-agent",n),t.has("authorization"))throw ay('"options.headers" must not include the "authorization" header name',av);if(t.has("dpop"))throw ay('"options.headers" must not include the "dpop" header name',av);return t}function aL(e){if("function"==typeof e&&(e=e()),!(e instanceof AbortSignal))throw ay('"options.signal" must return or be an instance of AbortSignal',ax);return e}async function aD(e,t){if(!(e instanceof URL))throw ay('"issuerIdentifier" must be an instance of URL',ax);a0(e,t?.[ab]!==!0);let i=new URL(e.href);switch(t?.algorithm){case void 0:case"oidc":i.pathname=`${i.pathname}/.well-known/openid-configuration`.replace("//","/");break;case"oauth2":"/"===i.pathname?i.pathname=".well-known/oauth-authorization-server":i.pathname=`.well-known/oauth-authorization-server/${i.pathname}`.replace("//","/");break;default:throw ay('"options.algorithm" must be "oidc" (default), or "oauth2"',av)}let a=aU(t?.headers);return a.set("accept","application/json"),(t?.[ak]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(a.entries()),method:"GET",redirect:"manual",signal:t?.signal?aL(t.signal):void 0})}function aM(e,t,i,a,r){try{if("number"!=typeof e||!Number.isFinite(e))throw ay(`${i} must be a number`,ax,r);if(e>0)return;if(t&&0!==e)throw ay(`${i} must be a non-negative number`,av,r);throw ay(`${i} must be a positive number`,av,r)}catch(e){if(a)throw aI(e.message,a,r);throw e}}function aH(e,t,i,a){try{if("string"!=typeof e)throw ay(`${t} must be a string`,ax,a);if(0===e.length)throw ay(`${t} must not be empty`,av,a)}catch(e){if(i)throw aI(e.message,i,a);throw e}}async function a$(e,t){let i;if(!(e instanceof URL)&&e!==r3)throw ay('"expectedIssuer" must be an instance of URL',ax);if(!ag(t,Response))throw ay('"response" must be an instance of Response',ax);if(200!==t.status)throw aI('"response" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',rN,t);rB(t),aF(t);try{i=await t.json()}catch(e){throw aI('failed to parse "response" body as JSON',rP,e)}if(!aN(i))throw aI('"response" body must be a top level object',rj,{body:i});if(aH(i.issuer,'"response" body "issuer" property',rj,{body:i}),new URL(i.issuer).href!==e.href&&e!==r3)throw aI('"response" body "issuer" property does not match the expected value',rH,{expected:e.href,body:i,attribute:"issuer"});return i}function aF(e){(function(e,t){if(rn(e)!==t)throw az(e,t)})(e,"application/json")}function az(e,...t){let i='"response" content-type must be ';if(t.length>2){let e=t.pop();i+=`${t.join(", ")}, or ${e}`}else 2===t.length?i+=`${t[0]} or ${t[1]}`:i+=t[0];return aI(i,rI,e)}function aB(){return aR(crypto.getRandomValues(new Uint8Array(32)))}async function aq(e){return aH(e,"codeVerifier"),aR(await crypto.subtle.digest("SHA-256",aO(e)))}function aW(e){let t=e?.[a_];return"number"==typeof t&&Number.isFinite(t)?t:0}function aV(e){let t=e?.[aw];return"number"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function aZ(){return Math.floor(Date.now()/1e3)}function aK(e){if("object"!=typeof e||null===e)throw ay('"as" must be an object',ax);aH(e.issuer,'"as.issuer"')}function aJ(e){if("object"!=typeof e||null===e)throw ay('"client" must be an object',ax);aH(e.client_id,'"client.client_id"')}function aG(e,t){let i=aZ()+aW(t);return{jti:aB(),aud:e.issuer,exp:i+60,iat:i,nbf:i,iss:t.client_id,sub:t.client_id}}async function aX(e,t,i){if(!i.usages.includes("sign"))throw ay('CryptoKey instances used for signing assertions must include "sign" in their "usages"',av);let a=`${aR(aO(JSON.stringify(e)))}.${aR(aO(JSON.stringify(t)))}`,r=aR(await crypto.subtle.sign(rK(i),i,aO(a)));return`${a}.${r}`}async function aQ(e){let{kty:t,e:i,n:a,x:r,y:n,crv:o}=await crypto.subtle.exportKey("jwk",e),c={kty:t,e:i,n:a,x:r,y:n,crv:o};return s.set(e,c),c}let aY=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch{return null}};function a0(e,t){if(t&&"https:"!==e.protocol)throw aI("only requests to HTTPS are allowed",rU,e);if("https:"!==e.protocol&&"http:"!==e.protocol)throw aI("only HTTP and HTTPS requests are allowed",rL,e)}function a1(e,t,i,a){let r;if("string"!=typeof e||!(r=aY(e)))throw aI(`authorization server metadata does not contain a valid ${i?`"as.mtls_endpoint_aliases.${t}"`:`"as.${t}"`}`,void 0===e?rF:rz,{attribute:i?`mtls_endpoint_aliases.${t}`:t});return a0(r,a),r}function a2(e,t,i,a){return i&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?a1(e.mtls_endpoint_aliases[t],t,i,a):a1(e[t],t,i,a)}class a5 extends Error{cause;code;error;status;error_description;response;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=rT,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,"response",{enumerable:!1,value:t.response}),Error.captureStackTrace?.(this,this.constructor)}}class a3 extends Error{cause;code;error;error_description;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=rO,this.cause=t.cause,this.error=t.cause.get("error"),this.error_description=t.cause.get("error_description")??void 0,Error.captureStackTrace?.(this,this.constructor)}}class a6 extends Error{cause;code;response;status;constructor(e,t){super(e,t),this.name=this.constructor.name,this.code=rS,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,"response",{enumerable:!1}),Error.captureStackTrace?.(this,this.constructor)}}let a4=/((?:,|, )?[0-9a-zA-Z!#$%&'*+-.^_`|~]+=)/,a9=/(?:^|, ?)([0-9a-zA-Z!#$%&'*+\-.^_`|~]+)(?=$|[ ,])/g;function a8(e){if(!ag(e,Response))throw ay('"response" must be an instance of Response',ax);let t=e.headers.get("www-authenticate");if(null===t)return;let i=[];for(let{1:e,index:a}of t.matchAll(a9))i.push([e,a]);if(i.length)return i.map(([e,i],a,r)=>{let n=r[a+1];return function(e,t){let i=t.split(a4).slice(1);if(!i.length)return{scheme:e.toLowerCase(),parameters:{}};i[i.length-1]=i[i.length-1].replace(/,$/,"");let a={};for(let e=1;e<i.length;e+=2){var r;let t=e;if('"'===i[t][0])for(;'"'!==i[t].slice(-1)&&++e<i.length;)i[t]+=i[e];a[i[t-1].replace(/^(?:, ?)|=$/g,"").toLowerCase()]=(r=i[t]).length>=2&&'"'===r[0]&&'"'===r[r.length-1]?r.slice(1,-1):r}return{scheme:e.toLowerCase(),parameters:a}}(e,n?t.slice(i,n[1]):t.slice(i))})}function a7(e){if(!rv.has(e))throw ay('"options.DPoP" is not a valid DPoPHandle',av)}async function re(e,t,i,a,r,n){if(aH(e,'"accessToken"'),!(i instanceof URL))throw ay('"url" must be an instance of URL',ax);a0(i,n?.[ab]!==!0),a=aU(a),n?.DPoP?(a7(n.DPoP),await n.DPoP.addProof(i,a,t.toUpperCase(),e),a.set("authorization",`DPoP ${e}`)):a.set("authorization",`Bearer ${e}`);let s=await (n?.[ak]||fetch)(i.href,{body:r,headers:Object.fromEntries(a.entries()),method:t,redirect:"manual",signal:n?.signal?aL(n.signal):void 0});return n?.DPoP?.cacheNonce(s),s}async function rt(e,t,i,a){aK(e),aJ(t);let r=a2(e,"userinfo_endpoint",t.use_mtls_endpoint_aliases,a?.[ab]!==!0),n=aU(a?.headers);return t.userinfo_signed_response_alg?n.set("accept","application/jwt"):(n.set("accept","application/json"),n.append("accept","application/jwt")),re(i,"GET",r,n,null,{...a,[a_]:aW(t)})}function ri(e,t,i,a){(o||=new WeakMap).set(e,{jwks:t,uat:i,get age(){return aZ()-this.uat}}),a&&Object.assign(a,{jwks:structuredClone(t),uat:i})}function ra(e,t){o?.delete(e),delete t?.jwks,delete t?.uat}let rr=Symbol();function rn(e){return e.headers.get("content-type")?.split(";")[0]}async function rs(e,t,i,a,r){let n,s;if(aK(e),aJ(t),!ag(a,Response))throw ay('"response" must be an instance of Response',ax);if(n=a8(a))throw new a6("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:n,response:a});if(200!==a.status)throw aI('"response" is not a conform UserInfo Endpoint response (unexpected HTTP status code)',rN,a);if(rB(a),"application/jwt"===rn(a)){let{claims:i,jwt:n}=await rJ(await a.text(),rQ.bind(void 0,t.userinfo_signed_response_alg,e.userinfo_signing_alg_values_supported,void 0),aW(t),aV(t),r?.[aA]).then(rh.bind(void 0,t.client_id)).then(rm.bind(void 0,e));rd.set(a,n),s=i}else{if(t.userinfo_signed_response_alg)throw aI("JWT UserInfo Response expected",rR,a);aF(a);try{s=await a.json()}catch(e){throw aI('failed to parse "response" body as JSON',rP,e)}}if(!aN(s))throw aI('"response" body must be a top level object',rj,{body:s});if(aH(s.sub,'"response" body "sub" property',rj,{body:s}),i===rr);else if(aH(i,'"expectedSubject"'),s.sub!==i)throw aI('unexpected "response" body "sub" property value',rH,{expected:i,body:s,attribute:"sub"});return s}async function ro(e,t,i,a,r,n,s){return await i(e,t,r,n),n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),(s?.[ak]||fetch)(a.href,{body:r,headers:Object.fromEntries(n.entries()),method:"POST",redirect:"manual",signal:s?.signal?aL(s.signal):void 0})}async function rc(e,t,i,a,r,n){let s=a2(e,"token_endpoint",t.use_mtls_endpoint_aliases,n?.[ab]!==!0);r.set("grant_type",a);let o=aU(n?.headers);o.set("accept","application/json"),n?.DPoP!==void 0&&(a7(n.DPoP),await n.DPoP.addProof(s,o,"POST"));let c=await ro(e,t,i,s,r,o,n);return n?.DPoP?.cacheNonce(c),c}let rl=new WeakMap,rd=new WeakMap;function rp(e){if(!e.id_token)return;let t=rl.get(e);if(!t)throw ay('"ref" was already garbage collected or did not resolve from the proper sources',av);return t}async function ru(e,t,i,a,r){let n,s;if(aK(e),aJ(t),!ag(i,Response))throw ay('"response" must be an instance of Response',ax);if(n=a8(i))throw new a6("server responded with a challenge in the WWW-Authenticate HTTP Header",{cause:n,response:i});if(200!==i.status){let e;if(e=await rV(i))throw await i.body?.cancel(),new a5("server responded with an error in the response body",{cause:e,response:i});throw aI('"response" is not a conform Token Endpoint response (unexpected HTTP status code)',rN,i)}rB(i),aF(i);try{s=await i.json()}catch(e){throw aI('failed to parse "response" body as JSON',rP,e)}if(!aN(s))throw aI('"response" body must be a top level object',rj,{body:s});if(aH(s.access_token,'"response" body "access_token" property',rj,{body:s}),aH(s.token_type,'"response" body "token_type" property',rj,{body:s}),s.token_type=s.token_type.toLowerCase(),"dpop"!==s.token_type&&"bearer"!==s.token_type)throw new aP("unsupported `token_type` value",{cause:{body:s}});if(void 0!==s.expires_in){let e="number"!=typeof s.expires_in?parseFloat(s.expires_in):s.expires_in;aM(e,!1,'"response" body "expires_in" property',rj,{body:s}),s.expires_in=e}if(void 0!==s.refresh_token&&aH(s.refresh_token,'"response" body "refresh_token" property',rj,{body:s}),void 0!==s.scope&&"string"!=typeof s.scope)throw aI('"response" body "scope" property must be a string',rj,{body:s});if(void 0!==s.id_token){aH(s.id_token,'"response" body "id_token" property',rj,{body:s});let n=["aud","exp","iat","iss","sub"];!0===t.require_auth_time&&n.push("auth_time"),void 0!==t.default_max_age&&(aM(t.default_max_age,!1,'"client.default_max_age"'),n.push("auth_time")),a?.length&&n.push(...a);let{claims:o,jwt:c}=await rJ(s.id_token,rQ.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,"RS256"),aW(t),aV(t),r?.[aA]).then(rb.bind(void 0,n)).then(rg.bind(void 0,e)).then(rf.bind(void 0,t.client_id));if(Array.isArray(o.aud)&&1!==o.aud.length){if(void 0===o.azp)throw aI('ID Token "aud" (audience) claim includes additional untrusted audiences',rM,{claims:o,claim:"aud"});if(o.azp!==t.client_id)throw aI('unexpected ID Token "azp" (authorized party) claim value',rM,{expected:t.client_id,claims:o,claim:"azp"})}void 0!==o.auth_time&&aM(o.auth_time,!1,'ID Token "auth_time" (authentication time)',rj,{claims:o}),rd.set(i,c),rl.set(s,o)}return s}function rh(e,t){return void 0!==t.claims.aud?rf(e,t):t}function rf(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw aI('unexpected JWT "aud" (audience) claim value',rM,{expected:e,claims:t.claims,claim:"aud"})}else if(t.claims.aud!==e)throw aI('unexpected JWT "aud" (audience) claim value',rM,{expected:e,claims:t.claims,claim:"aud"});return t}function rm(e,t){return void 0!==t.claims.iss?rg(e,t):t}function rg(e,t){let i=e[r6]?.(t)??e.issuer;if(t.claims.iss!==i)throw aI('unexpected JWT "iss" (issuer) claim value',rM,{expected:i,claims:t.claims,claim:"iss"});return t}let rv=new WeakSet;async function rx(e,t,i,a,r,n,s){if(aK(e),aJ(t),!rv.has(a))throw ay('"callbackParameters" must be an instance of URLSearchParams obtained from "validateAuthResponse()", or "validateJwtAuthResponse()',av);aH(r,'"redirectUri"');let o=rY(a,"code");if(!o)throw aI('no authorization code in "callbackParameters"',rj);let c=new URLSearchParams(s?.additionalParameters);return c.set("redirect_uri",r),c.set("code",o),n!==r5&&(aH(n,'"codeVerifier"'),c.set("code_verifier",n)),rc(e,t,i,"authorization_code",c,s)}let ry={aud:"audience",c_hash:"code hash",client_id:"client id",exp:"expiration time",iat:"issued at",iss:"issuer",jti:"jwt id",nonce:"nonce",s_hash:"state hash",sub:"subject",ath:"access token hash",htm:"http method",htu:"http uri",cnf:"confirmation",auth_time:"authentication time"};function rb(e,t){for(let i of e)if(void 0===t.claims[i])throw aI(`JWT "${i}" (${ry[i]}) claim missing`,rj,{claims:t.claims});return t}let r_=Symbol(),rw=Symbol();async function rk(e,t,i,a){return"string"==typeof a?.expectedNonce||"number"==typeof a?.maxAge||a?.requireIdToken?rE(e,t,i,a.expectedNonce,a.maxAge,{[aA]:a[aA]}):rA(e,t,i,a)}async function rE(e,t,i,a,r,n){let s=[];switch(a){case void 0:a=r_;break;case r_:break;default:aH(a,'"expectedNonce" argument'),s.push("nonce")}switch(r??=t.default_max_age){case void 0:r=rw;break;case rw:break;default:aM(r,!1,'"maxAge" argument'),s.push("auth_time")}let o=await ru(e,t,i,s,n);aH(o.id_token,'"response" body "id_token" property',rj,{body:o});let c=rp(o);if(r!==rw){let e=aZ()+aW(t),i=aV(t);if(c.auth_time+r<e-i)throw aI("too much time has elapsed since the last End-User authentication",rD,{claims:c,now:e,tolerance:i,claim:"auth_time"})}if(a===r_){if(void 0!==c.nonce)throw aI('unexpected ID Token "nonce" claim value',rM,{expected:void 0,claims:c,claim:"nonce"})}else if(c.nonce!==a)throw aI('unexpected ID Token "nonce" claim value',rM,{expected:a,claims:c,claim:"nonce"});return o}async function rA(e,t,i,a){let r=await ru(e,t,i,void 0,a),n=rp(r);if(n){if(void 0!==t.default_max_age){aM(t.default_max_age,!1,'"client.default_max_age"');let e=aZ()+aW(t),i=aV(t);if(n.auth_time+t.default_max_age<e-i)throw aI("too much time has elapsed since the last End-User authentication",rD,{claims:n,now:e,tolerance:i,claim:"auth_time"})}if(void 0!==n.nonce)throw aI('unexpected ID Token "nonce" claim value',rM,{expected:void 0,claims:n,claim:"nonce"})}return r}let rS="OAUTH_WWW_AUTHENTICATE_CHALLENGE",rT="OAUTH_RESPONSE_BODY_ERROR",rC="OAUTH_UNSUPPORTED_OPERATION",rO="OAUTH_AUTHORIZATION_RESPONSE_ERROR",rR="OAUTH_JWT_USERINFO_EXPECTED",rP="OAUTH_PARSE_ERROR",rj="OAUTH_INVALID_RESPONSE",rI="OAUTH_RESPONSE_IS_NOT_JSON",rN="OAUTH_RESPONSE_IS_NOT_CONFORM",rU="OAUTH_HTTP_REQUEST_FORBIDDEN",rL="OAUTH_REQUEST_PROTOCOL_FORBIDDEN",rD="OAUTH_JWT_TIMESTAMP_CHECK_FAILED",rM="OAUTH_JWT_CLAIM_COMPARISON_FAILED",rH="OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED",r$="OAUTH_KEY_SELECTION_FAILED",rF="OAUTH_MISSING_SERVER_METADATA",rz="OAUTH_INVALID_SERVER_METADATA";function rB(e){if(e.bodyUsed)throw ay('"response" body has been used already',av)}async function rq(e,t){aK(e);let i=a2(e,"jwks_uri",!1,t?.[ab]!==!0),a=aU(t?.headers);return a.set("accept","application/json"),a.append("accept","application/jwk-set+json"),(t?.[ak]||fetch)(i.href,{body:void 0,headers:Object.fromEntries(a.entries()),method:"GET",redirect:"manual",signal:t?.signal?aL(t.signal):void 0})}async function rW(e){let t;if(!ag(e,Response))throw ay('"response" must be an instance of Response',ax);if(200!==e.status)throw aI('"response" is not a conform JSON Web Key Set response (unexpected HTTP status code)',rN,e);rB(e),function(e,...t){if(!t.includes(rn(e)))throw az(e,...t)}(e,"application/json","application/jwk-set+json");try{t=await e.json()}catch(e){throw aI('failed to parse "response" body as JSON',rP,e)}if(!aN(t))throw aI('"response" body must be a top level object',rj,{body:t});if(!Array.isArray(t.keys))throw aI('"response" body "keys" property must be an array',rj,{body:t});if(!Array.prototype.every.call(t.keys,aN))throw aI('"response" body "keys" property members must be JWK formatted objects',rj,{body:t});return t}async function rV(e){if(e.status>399&&e.status<500){rB(e),aF(e);try{let t=await e.clone().json();if(aN(t)&&"string"==typeof t.error&&t.error.length)return t}catch{}}}function rZ(e){let{algorithm:t}=e;if("number"!=typeof t.modulusLength||t.modulusLength<2048)throw new aP(`unsupported ${t.name} modulusLength`,{cause:e})}function rK(e){switch(e.algorithm.name){case"ECDSA":return{name:e.algorithm.name,hash:function(e){let{algorithm:t}=e;switch(t.namedCurve){case"P-256":return"SHA-256";case"P-384":return"SHA-384";case"P-521":return"SHA-512";default:throw new aP("unsupported ECDSA namedCurve",{cause:e})}}(e)};case"RSA-PSS":switch(rZ(e),e.algorithm.hash.name){case"SHA-256":case"SHA-384":case"SHA-512":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new aP("unsupported RSA-PSS hash name",{cause:e})}case"RSASSA-PKCS1-v1_5":return rZ(e),e.algorithm.name;case"Ed25519":case"EdDSA":return e.algorithm.name}throw new aP("unsupported CryptoKey algorithm name",{cause:e})}async function rJ(e,t,i,a,r){let n,s,{0:o,1:c,length:l}=e.split(".");if(5===l){if(void 0!==r)e=await r(e),{0:o,1:c,length:l}=e.split(".");else throw new aP("JWE decryption is not configured",{cause:e})}if(3!==l)throw aI("Invalid JWT",rj,e);try{n=JSON.parse(aO(aR(o)))}catch(e){throw aI("failed to parse JWT Header body as base64url encoded JSON",rP,e)}if(!aN(n))throw aI("JWT Header must be a top level object",rj,e);if(t(n),void 0!==n.crit)throw new aP('no JWT "crit" header parameter extensions are supported',{cause:{header:n}});try{s=JSON.parse(aO(aR(c)))}catch(e){throw aI("failed to parse JWT Payload body as base64url encoded JSON",rP,e)}if(!aN(s))throw aI("JWT Payload must be a top level object",rj,e);let d=aZ()+i;if(void 0!==s.exp){if("number"!=typeof s.exp)throw aI('unexpected JWT "exp" (expiration time) claim type',rj,{claims:s});if(s.exp<=d-a)throw aI('unexpected JWT "exp" (expiration time) claim value, expiration is past current timestamp',rD,{claims:s,now:d,tolerance:a,claim:"exp"})}if(void 0!==s.iat&&"number"!=typeof s.iat)throw aI('unexpected JWT "iat" (issued at) claim type',rj,{claims:s});if(void 0!==s.iss&&"string"!=typeof s.iss)throw aI('unexpected JWT "iss" (issuer) claim type',rj,{claims:s});if(void 0!==s.nbf){if("number"!=typeof s.nbf)throw aI('unexpected JWT "nbf" (not before) claim type',rj,{claims:s});if(s.nbf>d+a)throw aI('unexpected JWT "nbf" (not before) claim value',rD,{claims:s,now:d,tolerance:a,claim:"nbf"})}if(void 0!==s.aud&&"string"!=typeof s.aud&&!Array.isArray(s.aud))throw aI('unexpected JWT "aud" (audience) claim type',rj,{claims:s});return{header:n,claims:s,jwt:e}}async function rG(e,t,i){let a;switch(t.alg){case"RS256":case"PS256":case"ES256":a="SHA-256";break;case"RS384":case"PS384":case"ES384":a="SHA-384";break;case"RS512":case"PS512":case"ES512":case"Ed25519":case"EdDSA":a="SHA-512";break;default:throw new aP(`unsupported JWS algorithm for ${i} calculation`,{cause:{alg:t.alg}})}let r=await crypto.subtle.digest(a,aO(e));return aR(r.slice(0,r.byteLength/2))}async function rX(e){if(e.bodyUsed)throw ay("form_post Request instances must contain a readable body",av,{cause:e});return e.text()}function rQ(e,t,i,a){if(void 0!==e){if("string"==typeof e?a.alg!==e:!e.includes(a.alg))throw aI('unexpected JWT "alg" header parameter',rj,{header:a,expected:e,reason:"client configuration"});return}if(Array.isArray(t)){if(!t.includes(a.alg))throw aI('unexpected JWT "alg" header parameter',rj,{header:a,expected:t,reason:"authorization server metadata"});return}if(void 0!==i){if("string"==typeof i?a.alg!==i:"function"==typeof i?!i(a.alg):!i.includes(a.alg))throw aI('unexpected JWT "alg" header parameter',rj,{header:a,expected:i,reason:"default value"});return}throw aI('missing client or server configuration to verify used JWT "alg" header parameter',void 0,{client:e,issuer:t,fallback:i})}function rY(e,t){let{0:i,length:a}=e.getAll(t);if(a>1)throw aI(`"${t}" parameter must be provided only once`,rj);return i}let r0=Symbol(),r1=Symbol();async function r2(e,t){let{ext:i,key_ops:a,use:r,...n}=t;return crypto.subtle.importKey("jwk",n,function(e){switch(e){case"PS256":case"PS384":case"PS512":return{name:"RSA-PSS",hash:`SHA-${e.slice(-3)}`};case"RS256":case"RS384":case"RS512":return{name:"RSASSA-PKCS1-v1_5",hash:`SHA-${e.slice(-3)}`};case"ES256":case"ES384":return{name:"ECDSA",namedCurve:`P-${e.slice(-3)}`};case"ES512":return{name:"ECDSA",namedCurve:"P-521"};case"Ed25519":case"EdDSA":return"Ed25519";default:throw new aP("unsupported JWS algorithm",{cause:{alg:e}})}}(e),!0,["verify"])}let r5=Symbol(),r3=Symbol(),r6=Symbol();async function r4(e,t,i){let{cookies:a,logger:r}=i,n=a[e],s=new Date;s.setTime(s.getTime()+9e5),r.debug(`CREATE_${e.toUpperCase()}`,{name:n.name,payload:t,COOKIE_TTL:900,expires:s});let o=await tX({...i.jwt,maxAge:900,token:{value:t},salt:n.name}),c={...n.options,expires:s};return{name:n.name,value:o,options:c}}async function r9(e,t,i){try{let{logger:a,cookies:r,jwt:n}=i;if(a.debug(`PARSE_${e.toUpperCase()}`,{cookie:t}),!t)throw new w(`${e} cookie was missing`);let s=await tQ({...n,token:t,salt:r[e].name});if(s?.value)return s.value;throw Error("Invalid cookie")}catch(t){throw new w(`${e} value could not be parsed`,{cause:t})}}function r8(e,t,i){let{logger:a,cookies:r}=t,n=r[e];a.debug(`CLEAR_${e.toUpperCase()}`,{cookie:n}),i.push({name:n.name,value:"",options:{...r[e].options,maxAge:0}})}function r7(e,t){return async function(i,a,r){let{provider:n,logger:s}=r;if(!n?.checks?.includes(e))return;let o=i?.[r.cookies[t].name];s.debug(`USE_${t.toUpperCase()}`,{value:o});let c=await r9(t,o,r);return r8(t,r,a),c}}let ne={async create(e){let t=aB(),i=await aq(t);return{cookie:await r4("pkceCodeVerifier",t,e),value:i}},use:r7("pkce","pkceCodeVerifier")},nt="encodedState",ni={async create(e,t){let{provider:i}=e;if(!i.checks.includes("state")){if(t)throw new w("State data was provided but the provider is not configured to use state");return}let a={origin:t,random:aB()},r=await tX({secret:e.jwt.secret,token:a,salt:nt,maxAge:900});return{cookie:await r4("state",r,e),value:r}},use:r7("state","state"),async decode(e,t){try{t.logger.debug("DECODE_STATE",{state:e});let i=await tQ({secret:t.jwt.secret,token:e,salt:nt});if(i)return i;throw Error("Invalid state")}catch(e){throw new w("State could not be decoded",{cause:e})}}},na={async create(e){if(!e.provider.checks.includes("nonce"))return;let t=aB();return{cookie:await r4("nonce",t,e),value:t}},use:r7("nonce","nonce")},nr="encodedWebauthnChallenge",nn={create:async(e,t,i)=>({cookie:await r4("webauthnChallenge",await tX({secret:e.jwt.secret,token:{challenge:t,registerData:i},salt:nr,maxAge:900}),e)}),async use(e,t,i){let a=t?.[e.cookies.webauthnChallenge.name],r=await r9("webauthnChallenge",a,e),n=await tQ({secret:e.jwt.secret,token:r,salt:nr});if(r8("webauthnChallenge",e,i),!n)throw new w("WebAuthn challenge was missing");return n}};function ns(e){return encodeURIComponent(e).replace(/%20/g,"+")}async function no(e,t,i){let a,r,n;let{logger:s,provider:o}=i,{token:c,userinfo:l}=o;if(c?.url&&"authjs.dev"!==c.url.host||l?.url&&"authjs.dev"!==l.url.host)a={issuer:o.issuer??"https://authjs.dev",token_endpoint:c?.url.toString(),userinfo_endpoint:l?.url.toString()};else{let e=new URL(o.issuer),t=await aD(e,{[ab]:!0,[ak]:o[ic]});if(!(a=await a$(e,t)).token_endpoint)throw TypeError("TODO: Authorization server did not provide a token endpoint.");if(!a.userinfo_endpoint)throw TypeError("TODO: Authorization server did not provide a userinfo endpoint.")}let d={client_id:o.clientId,...o.client};switch(d.token_endpoint_auth_method){case void 0:case"client_secret_basic":r=(e,t,i,a)=>{a.set("authorization",function(e,t){let i=ns(e),a=ns(t),r=btoa(`${i}:${a}`);return`Basic ${r}`}(o.clientId,o.clientSecret))};break;case"client_secret_post":var p;aH(p=o.clientSecret,'"clientSecret"'),r=(e,t,i,a)=>{i.set("client_id",t.client_id),i.set("client_secret",p)};break;case"client_secret_jwt":r=function(e,t){let i;aH(e,'"clientSecret"');let a=void 0;return async(t,r,n,s)=>{i||=await crypto.subtle.importKey("raw",aO(e),{hash:"SHA-256",name:"HMAC"},!1,["sign"]);let o={alg:"HS256"},c=aG(t,r);a?.(o,c);let l=`${aR(aO(JSON.stringify(o)))}.${aR(aO(JSON.stringify(c)))}`,d=await crypto.subtle.sign(i.algorithm,i,aO(l));n.set("client_id",r.client_id),n.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),n.set("client_assertion",`${l}.${aR(new Uint8Array(d))}`)}}(o.clientSecret);break;case"private_key_jwt":r=function(e,t){let{key:i,kid:a}=e instanceof CryptoKey?{key:e}:e?.key instanceof CryptoKey?(void 0!==e.kid&&aH(e.kid,'"kid"'),{key:e.key,kid:e.kid}):{};return function(e,t){if(function(e,t){if(!(e instanceof CryptoKey))throw ay(`${t} must be a CryptoKey`,ax)}(e,t),"private"!==e.type)throw ay(`${t} must be a private CryptoKey`,av)}(i,'"clientPrivateKey.key"'),async(e,r,n,s)=>{let o={alg:function(e){switch(e.algorithm.name){case"RSA-PSS":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"PS256";case"SHA-384":return"PS384";case"SHA-512":return"PS512";default:throw new aP("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}(e);case"RSASSA-PKCS1-v1_5":return function(e){switch(e.algorithm.hash.name){case"SHA-256":return"RS256";case"SHA-384":return"RS384";case"SHA-512":return"RS512";default:throw new aP("unsupported RsaHashedKeyAlgorithm hash name",{cause:e})}}(e);case"ECDSA":return function(e){switch(e.algorithm.namedCurve){case"P-256":return"ES256";case"P-384":return"ES384";case"P-521":return"ES512";default:throw new aP("unsupported EcKeyAlgorithm namedCurve",{cause:e})}}(e);case"Ed25519":case"EdDSA":return"Ed25519";default:throw new aP("unsupported CryptoKey algorithm name",{cause:e})}}(i),kid:a},c=aG(e,r);t?.[aE]?.(o,c),n.set("client_id",r.client_id),n.set("client_assertion_type","urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),n.set("client_assertion",await aX(o,c,i))}}(o.token.clientPrivateKey,{[aE](e,t){t.aud=[a.issuer,a.token_endpoint]}});break;case"none":r=(e,t,i,a)=>{i.set("client_id",t.client_id)};break;default:throw Error("unsupported client authentication method")}let u=[],h=await ni.use(t,u,i);try{n=function(e,t,i,a){var r;if(aK(e),aJ(t),i instanceof URL&&(i=i.searchParams),!(i instanceof URLSearchParams))throw ay('"parameters" must be an instance of URLSearchParams, or URL',ax);if(rY(i,"response"))throw aI('"parameters" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',rj,{parameters:i});let n=rY(i,"iss"),s=rY(i,"state");if(!n&&e.authorization_response_iss_parameter_supported)throw aI('response parameter "iss" (issuer) missing',rj,{parameters:i});if(n&&n!==e.issuer)throw aI('unexpected "iss" (issuer) response parameter value',rj,{expected:e.issuer,parameters:i});switch(a){case void 0:case r1:if(void 0!==s)throw aI('unexpected "state" response parameter encountered',rj,{expected:void 0,parameters:i});break;case r0:break;default:if(aH(a,'"expectedState" argument'),s!==a)throw aI(void 0===s?'response parameter "state" missing':'unexpected "state" response parameter value',rj,{expected:a,parameters:i})}if(rY(i,"error"))throw new a3("authorization response from the server is an error",{cause:i});let o=rY(i,"id_token"),c=rY(i,"token");if(void 0!==o||void 0!==c)throw new aP("implicit and hybrid flows are not supported");return r=new URLSearchParams(i),rv.add(r),r}(a,d,new URLSearchParams(e),o.checks.includes("state")?h:r0)}catch(e){if(e instanceof a3){let t={providerId:o.id,...Object.fromEntries(e.cause.entries())};throw s.debug("OAuthCallbackError",t),new O("OAuth Provider returned an error",t)}throw e}let f=await ne.use(t,u,i),m=o.callbackUrl;!i.isOnRedirectProxy&&o.redirectProxyUrl&&(m=o.redirectProxyUrl);let g=await rx(a,d,r,n,m,f??"decoy",{[ab]:!0,[ak]:(...e)=>(o.checks.includes("pkce")||e[1].body.delete("code_verifier"),(o[ic]??fetch)(...e))});o.token?.conform&&(g=await o.token.conform(g.clone())??g);let v={},x="oidc"===o.type;if(o[il])switch(o.id){case"microsoft-entra-id":case"azure-ad":{let{tid:e}=function(e){let t,i;if("string"!=typeof e)throw new eS("JWTs must use Compact JWS serialization, JWT must be a string");let{1:a,length:r}=e.split(".");if(5===r)throw new eS("Only JWTs using Compact JWS serialization can be decoded");if(3!==r)throw new eS("Invalid JWT");if(!a)throw new eS("JWTs must contain a payload");try{t=ex(a)}catch{throw new eS("Failed to base64url decode the payload")}try{i=JSON.parse(ed.decode(t))}catch{throw new eS("Failed to parse the decoded payload as JSON")}if(!eO(i))throw new eS("Invalid JWT Claims Set");return i}((await g.clone().json()).id_token);if("string"==typeof e){let t=a.issuer?.match(/microsoftonline\.com\/(\w+)\/v2\.0/)?.[1]??"common",i=new URL(a.issuer.replace(t,e)),r=await aD(i,{[ak]:o[ic]});a=await a$(i,r)}}}let y=await rk(a,d,g,{expectedNonce:await na.use(t,u,i),requireIdToken:x});if(x){let t=rp(y);if(v=t,o[il]&&"apple"===o.id)try{v.user=JSON.parse(e?.user)}catch{}if(!1===o.idToken){let e=await rt(a,d,y.access_token,{[ak]:o[ic],[ab]:!0});v=await rs(a,d,t.sub,e)}}else if(l?.request){let e=await l.request({tokens:y,provider:o});e instanceof Object&&(v=e)}else if(l?.url){let e=await rt(a,d,y.access_token,{[ak]:o[ic]});v=await e.json()}else throw TypeError("No userinfo endpoint configured");return y.expires_in&&(y.expires_at=Math.floor(Date.now()/1e3)+Number(y.expires_in)),{...await nc(v,o,y,s),profile:v,cookies:u}}async function nc(e,t,i,a){try{let a=await t.profile(e,i);return{user:{...a,id:crypto.randomUUID(),email:a.email?.toLowerCase()},account:{...i,provider:t.id,type:t.type,providerAccountId:a.id??crypto.randomUUID()}}}catch(i){a.debug("getProfile error details",e),a.error(new R(i,{provider:t.id}))}}async function nl(e,t,i,a){let r=await nf(e,t,i),{cookie:n}=await nn.create(e,r.challenge,i);return{status:200,cookies:[...a??[],n],body:{action:"register",options:r},headers:{"Content-Type":"application/json"}}}async function nd(e,t,i,a){let r=await nh(e,t,i),{cookie:n}=await nn.create(e,r.challenge);return{status:200,cookies:[...a??[],n],body:{action:"authenticate",options:r},headers:{"Content-Type":"application/json"}}}async function np(e,t,i){let a;let{adapter:r,provider:n}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new u("Invalid WebAuthn Authentication response");let o=nv(ng(s.id)),c=await r.getAuthenticator(o);if(!c)throw new u(`WebAuthn authenticator not found in database: ${JSON.stringify({credentialID:o})}`);let{challenge:l}=await nn.use(e,t.cookies,i);try{let i=n.getRelayingParty(e,t);a=await n.simpleWebAuthn.verifyAuthenticationResponse({...n.verifyAuthenticationOptions,expectedChallenge:l,response:s,authenticator:{...c,credentialDeviceType:c.credentialDeviceType,transports:nx(c.transports),credentialID:ng(c.credentialID),credentialPublicKey:ng(c.credentialPublicKey)},expectedOrigin:i.origin,expectedRPID:i.id})}catch(e){throw new q(e)}let{verified:d,authenticationInfo:p}=a;if(!d)throw new q("WebAuthn authentication response could not be verified");try{let{newCounter:e}=p;await r.updateAuthenticatorCounter(c.credentialID,e)}catch(e){throw new f(`Failed to update authenticator counter. This may cause future authentication attempts to fail. ${JSON.stringify({credentialID:o,oldCounter:c.counter,newCounter:p.newCounter})}`,e)}let h=await r.getAccount(c.providerAccountId,n.id);if(!h)throw new u(`WebAuthn account not found in database: ${JSON.stringify({credentialID:o,providerAccountId:c.providerAccountId})}`);let m=await r.getUser(h.userId);if(!m)throw new u(`WebAuthn user not found in database: ${JSON.stringify({credentialID:o,providerAccountId:c.providerAccountId,userID:h.userId})}`);return{account:h,user:m}}async function nu(e,t,i){var a;let r;let{provider:n}=e,s=t.body&&"string"==typeof t.body.data?JSON.parse(t.body.data):void 0;if(!s||"object"!=typeof s||!("id"in s)||"string"!=typeof s.id)throw new u("Invalid WebAuthn Registration response");let{challenge:o,registerData:c}=await nn.use(e,t.cookies,i);if(!c)throw new u("Missing user registration data in WebAuthn challenge cookie");try{let i=n.getRelayingParty(e,t);r=await n.simpleWebAuthn.verifyRegistrationResponse({...n.verifyRegistrationOptions,expectedChallenge:o,response:s,expectedOrigin:i.origin,expectedRPID:i.id})}catch(e){throw new q(e)}if(!r.verified||!r.registrationInfo)throw new q("WebAuthn registration response could not be verified");let l={providerAccountId:nv(r.registrationInfo.credentialID),provider:e.provider.id,type:n.type},d={providerAccountId:l.providerAccountId,counter:r.registrationInfo.counter,credentialID:nv(r.registrationInfo.credentialID),credentialPublicKey:nv(r.registrationInfo.credentialPublicKey),credentialBackedUp:r.registrationInfo.credentialBackedUp,credentialDeviceType:r.registrationInfo.credentialDeviceType,transports:(a=s.response.transports,a?.join(","))};return{user:c,account:l,authenticator:d}}async function nh(e,t,i){let{provider:a,adapter:r}=e,n=i&&i.id?await r.listAuthenticatorsByUserId(i.id):null,s=a.getRelayingParty(e,t);return await a.simpleWebAuthn.generateAuthenticationOptions({...a.authenticationOptions,rpID:s.id,allowCredentials:n?.map(e=>({id:ng(e.credentialID),type:"public-key",transports:nx(e.transports)}))})}async function nf(e,t,i){let{provider:a,adapter:r}=e,n=i.id?await r.listAuthenticatorsByUserId(i.id):null,s=ie(32),o=a.getRelayingParty(e,t);return await a.simpleWebAuthn.generateRegistrationOptions({...a.registrationOptions,userID:s,userName:i.email,userDisplayName:i.name??void 0,rpID:o.id,rpName:o.name,excludeCredentials:n?.map(e=>({id:ng(e.credentialID),type:"public-key",transports:nx(e.transports)}))})}function nm(e){let{provider:t,adapter:i}=e;if(!i)throw new E("An adapter is required for the WebAuthn provider");if(!t||"webauthn"!==t.type)throw new D("Provider must be WebAuthn");return{...e,provider:t,adapter:i}}function ng(e){return new Uint8Array(Buffer.from(e,"base64"))}function nv(e){return Buffer.from(e).toString("base64")}function nx(e){return e?e.split(","):void 0}async function ny(e,t,i,a){if(!t.provider)throw new D("Callback route called without provider");let{query:r,body:n,method:s,headers:o}=e,{provider:c,adapter:l,url:d,callbackUrl:p,pages:h,jwt:f,events:m,callbacks:v,session:{strategy:x,maxAge:y},logger:_}=t,w="jwt"===x;try{if("oauth"===c.type||"oidc"===c.type){let s;let o=c.authorization?.url.searchParams.get("response_mode")==="form_post"?n:r;if(t.isOnRedirectProxy&&o?.state){let e=await ni.decode(o.state,t);if(e?.origin&&new URL(e.origin).origin!==t.url.origin){let t=`${e.origin}?${new URLSearchParams(o)}`;return _.debug("Proxy redirecting to",t),{redirect:t,cookies:a}}}let u=await no(o,e.cookies,t);u.cookies.length&&a.push(...u.cookies),_.debug("authorization result",u);let{user:g,account:x,profile:b}=u;if(!g||!x||!b)return{redirect:`${d}/signin`,cookies:a};if(l){let{getUserByAccount:e}=l;s=await e({providerAccountId:x.providerAccountId,provider:c.id})}let k=await nb({user:s??g,account:x,profile:b},t);if(k)return{redirect:k,cookies:a};let{user:E,session:A,isNewUser:S}=await am(i.value,g,x,t);if(w){let e={name:E.name,email:E.email,picture:E.image,sub:E.id?.toString()},r=await v.jwt({token:e,user:E,account:x,profile:b,isNewUser:S,trigger:S?"signUp":"signIn"});if(null===r)a.push(...i.clean());else{let e=t.cookies.sessionToken.name,n=await f.encode({...f,token:r,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=i.chunk(n,{expires:s});a.push(...o)}}else a.push({name:t.cookies.sessionToken.name,value:A.sessionToken,options:{...t.cookies.sessionToken.options,expires:A.expires}});if(await m.signIn?.({user:E,account:x,profile:b,isNewUser:S}),S&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:p})}`,cookies:a};return{redirect:p,cookies:a}}if("email"===c.type){let e=r?.token,n=r?.email;if(!e){let t=TypeError("Missing token. The sign-in URL was manually opened without token or the link was not sent correctly in the email.",{cause:{hasToken:!!e}});throw t.name="Configuration",t}let s=c.secret??t.secret,o=await l.useVerificationToken({identifier:n,token:await t7(`${e}${s}`)}),d=!!o,u=d&&o.expires.valueOf()<Date.now();if(!d||u||n&&o.identifier!==n)throw new H({hasInvite:d,expired:u});let{identifier:g}=o,x=await l.getUserByEmail(g)??{id:crypto.randomUUID(),email:g,emailVerified:null},b={providerAccountId:x.email,userId:x.id,type:"email",provider:c.id},_=await nb({user:x,account:b},t);if(_)return{redirect:_,cookies:a};let{user:k,session:E,isNewUser:A}=await am(i.value,x,b,t);if(w){let e={name:k.name,email:k.email,picture:k.image,sub:k.id?.toString()},r=await v.jwt({token:e,user:k,account:b,isNewUser:A,trigger:A?"signUp":"signIn"});if(null===r)a.push(...i.clean());else{let e=t.cookies.sessionToken.name,n=await f.encode({...f,token:r,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=i.chunk(n,{expires:s});a.push(...o)}}else a.push({name:t.cookies.sessionToken.name,value:E.sessionToken,options:{...t.cookies.sessionToken.options,expires:E.expires}});if(await m.signIn?.({user:k,account:b,isNewUser:A}),A&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:p})}`,cookies:a};return{redirect:p,cookies:a}}if("credentials"===c.type&&"POST"===s){let e=n??{};Object.entries(r??{}).forEach(([e,t])=>d.searchParams.set(e,t));let l=await c.authorize(e,new Request(d,{headers:o,method:s,body:JSON.stringify(n)}));if(l)l.id=l.id?.toString()??crypto.randomUUID();else throw new b;let u={providerAccountId:l.id,type:"credentials",provider:c.id},h=await nb({user:l,account:u,credentials:e},t);if(h)return{redirect:h,cookies:a};let g={name:l.name,email:l.email,picture:l.image,sub:l.id},x=await v.jwt({token:g,user:l,account:u,isNewUser:!1,trigger:"signIn"});if(null===x)a.push(...i.clean());else{let e=t.cookies.sessionToken.name,r=await f.encode({...f,token:x,salt:e}),n=new Date;n.setTime(n.getTime()+1e3*y);let s=i.chunk(r,{expires:n});a.push(...s)}return await m.signIn?.({user:l,account:u}),{redirect:p,cookies:a}}if("webauthn"===c.type&&"POST"===s){let r,n,s;let o=e.body?.action;if("string"!=typeof o||"authenticate"!==o&&"register"!==o)throw new u("Invalid action parameter");let c=nm(t);switch(o){case"authenticate":{let t=await np(c,e,a);r=t.user,n=t.account;break}case"register":{let i=await nu(t,e,a);r=i.user,n=i.account,s=i.authenticator}}await nb({user:r,account:n},t);let{user:l,isNewUser:d,session:g,account:x}=await am(i.value,r,n,t);if(!x)throw new u("Error creating or finding account");if(s&&l.id&&await c.adapter.createAuthenticator({...s,userId:l.id}),w){let e={name:l.name,email:l.email,picture:l.image,sub:l.id?.toString()},r=await v.jwt({token:e,user:l,account:x,isNewUser:d,trigger:d?"signUp":"signIn"});if(null===r)a.push(...i.clean());else{let e=t.cookies.sessionToken.name,n=await f.encode({...f,token:r,salt:e}),s=new Date;s.setTime(s.getTime()+1e3*y);let o=i.chunk(n,{expires:s});a.push(...o)}}else a.push({name:t.cookies.sessionToken.name,value:g.sessionToken,options:{...t.cookies.sessionToken.options,expires:g.expires}});if(await m.signIn?.({user:l,account:x,isNewUser:d}),d&&h.newUser)return{redirect:`${h.newUser}${h.newUser.includes("?")?"&":"?"}${new URLSearchParams({callbackUrl:p})}`,cookies:a};return{redirect:p,cookies:a}}throw new D(`Callback for provider type (${c.type}) is not supported`)}catch(t){if(t instanceof u)throw t;let e=new g(t,{provider:c.id});throw _.debug("callback route error details",{method:s,query:r,body:n}),e}}async function nb(e,t){let i;let{signIn:a,redirect:r}=t.callbacks;try{i=await a(e)}catch(e){if(e instanceof u)throw e;throw new m(e)}if(!i)throw new m("AccessDenied");if("string"==typeof i)return await r({url:i,baseUrl:t.url.origin})}async function n_(e,t,i,a,r){let{adapter:n,jwt:s,events:o,callbacks:c,logger:l,session:{strategy:d,maxAge:p}}=e,u={body:null,headers:{"Content-Type":"application/json"},cookies:i},h=t.value;if(!h)return u;if("jwt"===d){try{let i=e.cookies.sessionToken.name,n=await s.decode({...s,token:h,salt:i});if(!n)throw Error("Invalid JWT");let l=await c.jwt({token:n,...a&&{trigger:"update"},session:r}),d=af(p);if(null!==l){let e={user:{name:l.name,email:l.email,image:l.picture},expires:d.toISOString()},a=await c.session({session:e,token:l});u.body=a;let r=await s.encode({...s,token:l,salt:i}),n=t.chunk(r,{expires:d});u.cookies?.push(...n),await o.session?.({session:a,token:l})}else u.cookies?.push(...t.clean())}catch(e){l.error(new k(e)),u.cookies?.push(...t.clean())}return u}try{let{getSessionAndUser:i,deleteSession:s,updateSession:l}=n,d=await i(h);if(d&&d.session.expires.valueOf()<Date.now()&&(await s(h),d=null),d){let{user:t,session:i}=d,n=e.session.updateAge,s=i.expires.valueOf()-1e3*p+1e3*n,f=af(p);s<=Date.now()&&await l({sessionToken:h,expires:f});let m=await c.session({session:{...i,user:t},user:t,newSession:r,...a?{trigger:"update"}:{}});u.body=m,u.cookies?.push({name:e.cookies.sessionToken.name,value:h,options:{...e.cookies.sessionToken.options,expires:f}}),await o.session?.({session:m})}else h&&u.cookies?.push(...t.clean())}catch(e){l.error(new P(e))}return u}async function nw(e,t){let i,a;let{logger:r,provider:n}=t,s=n.authorization?.url;if(!s||"authjs.dev"===s.host){let e=new URL(n.issuer),t=await aD(e,{[ak]:n[ic],[ab]:!0}),i=await a$(e,t);if(!i.authorization_endpoint)throw TypeError("Authorization server did not provide an authorization endpoint.");s=new URL(i.authorization_endpoint)}let o=s.searchParams,c=n.callbackUrl;!t.isOnRedirectProxy&&n.redirectProxyUrl&&(c=n.redirectProxyUrl,a=n.callbackUrl,r.debug("using redirect proxy",{redirect_uri:c,data:a}));let l=Object.assign({response_type:"code",client_id:n.clientId,redirect_uri:c,...n.authorization?.params},Object.fromEntries(n.authorization?.url.searchParams??[]),e);for(let e in l)o.set(e,l[e]);let d=[];n.authorization?.url.searchParams.get("response_mode")==="form_post"&&(t.cookies.state.options.sameSite="none",t.cookies.state.options.secure=!0,t.cookies.nonce.options.sameSite="none",t.cookies.nonce.options.secure=!0);let p=await ni.create(t,a);if(p&&(o.set("state",p.value),d.push(p.cookie)),n.checks?.includes("pkce")){if(i&&!i.code_challenge_methods_supported?.includes("S256"))"oidc"===n.type&&(n.checks=["nonce"]);else{let{value:e,cookie:i}=await ne.create(t);o.set("code_challenge",e),o.set("code_challenge_method","S256"),d.push(i)}}let u=await na.create(t);return u&&(o.set("nonce",u.value),d.push(u.cookie)),"oidc"!==n.type||s.searchParams.has("scope")||s.searchParams.set("scope","openid profile email"),r.debug("authorization url is ready",{url:s,cookies:d,provider:n}),{redirect:s.toString(),cookies:d}}async function nk(e,t){let i;let{body:a}=e,{provider:r,callbacks:n,adapter:s}=t,o=(r.normalizeIdentifier??function(e){if(!e)throw Error("Missing email from request body.");let[t,i]=e.toLowerCase().trim().split("@");return i=i.split(",")[0],`${t}@${i}`})(a?.email),c={id:crypto.randomUUID(),email:o,emailVerified:null},l=await s.getUserByEmail(o)??c,d={providerAccountId:o,userId:l.id,type:"email",provider:r.id};try{i=await n.signIn({user:l,account:d,email:{verificationRequest:!0}})}catch(e){throw new m(e)}if(!i)throw new m("AccessDenied");if("string"==typeof i)return{redirect:await n.redirect({url:i,baseUrl:t.url.origin})};let{callbackUrl:p,theme:u}=t,h=await r.generateVerificationToken?.()??ie(32),f=new Date(Date.now()+(r.maxAge??86400)*1e3),g=r.secret??t.secret,v=new URL(t.basePath,t.url.origin),x=r.sendVerificationRequest({identifier:o,token:h,expires:f,url:`${v}/callback/${r.id}?${new URLSearchParams({callbackUrl:p,token:h,email:o})}`,provider:r,theme:u,request:new Request(e.url,{headers:e.headers,method:e.method,body:"POST"===e.method?JSON.stringify(e.body??{}):void 0})}),y=s.createVerificationToken?.({identifier:o,token:await t7(`${h}${g}`),expires:f});return await Promise.all([x,y]),{redirect:`${v}/verify-request?${new URLSearchParams({provider:r.id,type:r.type})}`}}async function nE(e,t,i){let a=`${i.url.origin}${i.basePath}/signin`;if(!i.provider)return{redirect:a,cookies:t};switch(i.provider.type){case"oauth":case"oidc":{let{redirect:a,cookies:r}=await nw(e.query,i);return r&&t.push(...r),{redirect:a,cookies:t}}case"email":return{...await nk(e,i),cookies:t};default:return{redirect:a,cookies:t}}}async function nA(e,t,i){let{jwt:a,events:r,callbackUrl:n,logger:s,session:o}=i,c=t.value;if(!c)return{redirect:n,cookies:e};try{if("jwt"===o.strategy){let e=i.cookies.sessionToken.name,t=await a.decode({...a,token:c,salt:e});await r.signOut?.({token:t})}else{let e=await i.adapter?.deleteSession(c);await r.signOut?.({session:e})}}catch(e){s.error(new N(e))}return e.push(...t.clean()),{redirect:n,cookies:e}}async function nS(e,t){let{adapter:i,jwt:a,session:{strategy:r}}=e,n=t.value;if(!n)return null;if("jwt"===r){let t=e.cookies.sessionToken.name,i=await a.decode({...a,token:n,salt:t});if(i&&i.sub)return{id:i.sub,name:i.name,email:i.email,image:i.picture}}else{let e=await i?.getSessionAndUser(n);if(e)return e.user}return null}async function nT(e,t,i,a){let r=nm(t),{provider:n}=r,{action:s}=e.query??{};if("register"!==s&&"authenticate"!==s&&void 0!==s)return{status:400,body:{error:"Invalid action"},cookies:a,headers:{"Content-Type":"application/json"}};let o=await nS(t,i),c=o?{user:o,exists:!0}:await n.getUserInfo(t,e),l=c?.user;switch(function(e,t,i){let{user:a,exists:r=!1}=i??{};switch(e){case"authenticate":return"authenticate";case"register":if(a&&t===r)return"register";break;case void 0:if(!t){if(!a||r)return"authenticate";return"register"}}return null}(s,!!o,c)){case"authenticate":return nd(r,e,l,a);case"register":if("string"==typeof l?.email)return nl(r,e,l,a);break;default:return{status:400,body:{error:"Invalid request"},cookies:a,headers:{"Content-Type":"application/json"}}}}async function nC(e,t){let{action:i,providerId:a,error:r,method:n}=e,s=t.skipCSRFCheck===is,{options:o,cookies:c}=await ig({authOptions:t,action:i,providerId:a,url:e.url,callbackUrl:e.body?.callbackUrl??e.query?.callbackUrl,csrfToken:e.body?.csrfToken,cookies:e.cookies,isPost:"POST"===n,csrfDisabled:s}),l=new p(o.cookies.sessionToken,e.cookies,o.logger);if("GET"===n){let t=ah({...o,query:e.query,cookies:c});switch(i){case"callback":return await ny(e,o,l,c);case"csrf":return t.csrf(s,o,c);case"error":return t.error(r);case"providers":return t.providers(o.providers);case"session":return await n_(o,l,c);case"signin":return t.signin(a,r);case"signout":return t.signout();case"verify-request":return t.verifyRequest();case"webauthn-options":return await nT(e,o,l,c)}}else{let{csrfTokenVerified:t}=o;switch(i){case"callback":return"credentials"===o.provider.type&&ii(i,t),await ny(e,o,l,c);case"session":return ii(i,t),await n_(o,l,c,!0,e.body?.data);case"signin":return ii(i,t),await nE(e,c,o);case"signout":return ii(i,t),await nA(c,l,o)}}throw new U(`Cannot handle action: ${i}`)}function nO(e,t,i,a,r){let n;let s=r?.basePath,o=a.AUTH_URL??a.NEXTAUTH_URL;if(o)n=new URL(o),s&&"/"!==s&&"/"!==n.pathname&&(n.pathname!==s&&t3(r).warn("env-url-basepath-mismatch"),n.pathname="/");else{let e=i.get("x-forwarded-host")??i.get("host"),a=i.get("x-forwarded-proto")??t??"https",r=a.endsWith(":")?a:a+":";n=new URL(`${r}//${e}`)}let c=n.toString().replace(/\/$/,"");if(s){let t=s?.replace(/(^\/|\/$)/g,"")??"";return new URL(`${c}/${t}/${e}`)}return new URL(`${c}/${e}`)}async function nR(e,t){let i=t3(t),a=await t9(e,t);if(!a)return Response.json("Bad request.",{status:400});let r=function(e,t){let{url:i}=e,a=[];if(!Z&&t.debug&&a.push("debug-enabled"),!t.trustHost)return new M(`Host must be trusted. URL was: ${e.url}`);if(!t.secret?.length)return new T("Please define a `secret`");let r=e.query?.callbackUrl;if(r&&!K(r,i.origin))return new y(`Invalid callback URL. Received: ${r}`);let{callbackUrl:n}=d(t.useSecureCookies??"https:"===i.protocol),s=e.cookies?.[t.cookies?.callbackUrl?.name??n.name];if(s&&!K(s,i.origin))return new y(`Invalid callback URL. Received: ${s}`);let o=!1;for(let e of t.providers){let t="function"==typeof e?e():e;if(("oauth"===t.type||"oidc"===t.type)&&!(t.issuer??t.options?.issuer)){let e;let{authorization:i,token:a,userinfo:r}=t;if("string"==typeof i||i?.url?"string"==typeof a||a?.url?"string"==typeof r||r?.url||(e="userinfo"):e="token":e="authorization",e)return new _(`Provider "${t.id}" is missing both \`issuer\` and \`${e}\` endpoint config. At least one of them is required`)}if("credentials"===t.type)J=!0;else if("email"===t.type)G=!0;else if("webauthn"===t.type){var c;if(X=!0,t.simpleWebAuthnBrowserVersion&&(c=t.simpleWebAuthnBrowserVersion,!/^v\d+(?:\.\d+){0,2}$/.test(c)))return new u(`Invalid provider config for "${t.id}": simpleWebAuthnBrowserVersion "${t.simpleWebAuthnBrowserVersion}" must be a valid semver string.`);if(t.enableConditionalUI){if(o)return new z("Multiple webauthn providers have 'enableConditionalUI' set to True. Only one provider can have this option enabled at a time");if(o=!0,!Object.values(t.formFields).some(e=>e.autocomplete&&e.autocomplete.toString().indexOf("webauthn")>-1))return new B(`Provider "${t.id}" has 'enableConditionalUI' set to True, but none of its formFields have 'webauthn' in their autocomplete param`)}}}if(J){let e=t.session?.strategy==="database",i=!t.providers.some(e=>"credentials"!==("function"==typeof e?e():e).type);if(e&&i)return new L("Signing in with credentials only supported if JWT strategy is enabled");if(t.providers.some(e=>{let t="function"==typeof e?e():e;return"credentials"===t.type&&!t.authorize}))return new S("Must define an authorize() handler to use credentials authentication provider")}let{adapter:l,session:p}=t,h=[];if(G||p?.strategy==="database"||!p?.strategy&&l){if(G){if(!l)return new E("Email login requires an adapter");h.push(...Q)}else{if(!l)return new E("Database session requires an adapter");h.push(...Y)}}if(X){if(!t.experimental?.enableWebAuthn)return new V("WebAuthn is an experimental feature. To enable it, set `experimental.enableWebAuthn` to `true` in your config");if(a.push("experimental-webauthn"),!l)return new E("WebAuthn requires an adapter");h.push(...ee)}if(l){let e=h.filter(e=>!(e in l));if(e.length)return new A(`Required adapter methods were missing: ${e.join(", ")}`)}return Z||(Z=!0),a}(a,t);if(Array.isArray(r))r.forEach(i.warn);else if(r){if(i.error(r),!new Set(["signin","signout","error","verify-request"]).has(a.action)||"GET"!==a.method)return Response.json({message:"There was a problem with the server configuration. Check the server logs for more information."},{status:500});let{pages:e,theme:n}=t,s=e?.error&&a.url.searchParams.get("callbackUrl")?.startsWith(e.error);if(!e?.error||s)return s&&i.error(new v(`The error page ${e?.error} should not require authentication`)),t8(ah({theme:n}).error("Configuration"));let o=`${a.url.origin}${e.error}?error=Configuration`;return Response.redirect(o)}let n=e.headers?.has("X-Auth-Return-Redirect"),s=t.raw===io;try{let e=await nC(a,t);if(s)return e;let i=t8(e),r=i.headers.get("Location");if(!n||!r)return i;return Response.json({url:r},{headers:i.headers})}catch(p){i.error(p);let r=p instanceof u;if(r&&s&&!n)throw p;if("POST"===e.method&&"session"===a.action)return Response.json(null,{status:400});let o=new URLSearchParams({error:p instanceof u&&F.has(p.type)?p.type:"Configuration"});p instanceof b&&o.set("code",p.code);let c=r&&p.kind||"error",l=t.pages?.[c]??`${t.basePath}/${c.toLowerCase()}`,d=`${a.url.origin}${l}?${o}`;if(n)return Response.json({url:d});return Response.redirect(d)}}var nP=i(49217);function nj(e){let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return e;let{origin:i}=new URL(t),{href:a,origin:r}=e.nextUrl;return new nP.NextRequest(a.replace(r,i),e)}function nI(e){try{e.secret??(e.secret=process.env.AUTH_SECRET??process.env.NEXTAUTH_SECRET);let t=process.env.AUTH_URL??process.env.NEXTAUTH_URL;if(!t)return;let{pathname:i}=new URL(t);if("/"===i)return;e.basePath||(e.basePath=i)}catch{}finally{e.basePath||(e.basePath="/api/auth"),function(e,t,i=!1){try{let a=e.AUTH_URL;a&&(t.basePath?i||t3(t).warn("env-url-basepath-redundant"):t.basePath=new URL(a).pathname)}catch{}finally{t.basePath??(t.basePath="/auth")}if(!t.secret?.length){t.secret=[];let i=e.AUTH_SECRET;for(let a of(i&&t.secret.push(i),[1,2,3])){let i=e[`AUTH_SECRET_${a}`];i&&t.secret.unshift(i)}}t.redirectProxyUrl??(t.redirectProxyUrl=e.AUTH_REDIRECT_PROXY_URL),t.trustHost??(t.trustHost=!!(e.AUTH_URL??e.AUTH_TRUST_HOST??e.VERCEL??e.CF_PAGES??"production"!==e.NODE_ENV)),t.providers=t.providers.map(t=>{let{id:i}="function"==typeof t?t({}):t,a=i.toUpperCase().replace(/-/g,"_"),r=e[`AUTH_${a}_ID`],n=e[`AUTH_${a}_SECRET`],s=e[`AUTH_${a}_ISSUER`],o=e[`AUTH_${a}_KEY`],c="function"==typeof t?t({clientId:r,clientSecret:n,issuer:s,apiKey:o}):t;return"oauth"===c.type||"oidc"===c.type?(c.clientId??(c.clientId=r),c.clientSecret??(c.clientSecret=n),c.issuer??(c.issuer=s)):"email"===c.type&&(c.apiKey??(c.apiKey=o)),c})}(process.env,e,!0)}}var nN=i(53825),nU=i(50406);async function nL(e,t){return nR(new Request(nO("session",e.get("x-forwarded-proto"),e,process.env,t),{headers:{cookie:e.get("cookie")??""}}),{...t,callbacks:{...t.callbacks,async session(...e){let i=await t.callbacks?.session?.(...e)??{...e[0].session,expires:e[0].session.expires?.toISOString?.()??e[0].session.expires};return{user:e[0].user??e[0].token,...i}}}})}function nD(e){return"function"==typeof e}function nM(e,t){return"function"==typeof e?async(...i)=>{if(!i.length){let i=await (0,nU.b)(),a=await e(void 0);return t?.(a),nL(i,a).then(e=>e.json())}if(i[0]instanceof Request){let a=i[0],r=i[1],n=await e(a);return t?.(n),nH([a,r],n)}if(nD(i[0])){let a=i[0];return async(...i)=>{let r=await e(i[0]);return t?.(r),nH(i,r,a)}}let a="req"in i[0]?i[0].req:i[0],r="res"in i[0]?i[0].res:i[1],n=await e(a);return t?.(n),nL(new Headers(a.headers),n).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in r?r.headers.append("set-cookie",t):r.appendHeader("set-cookie",t);return t})}:(...t)=>{if(!t.length)return Promise.resolve((0,nU.b)()).then(t=>nL(t,e).then(e=>e.json()));if(t[0]instanceof Request)return nH([t[0],t[1]],e);if(nD(t[0])){let i=t[0];return async(...t)=>nH(t,e,i).then(e=>e)}let i="req"in t[0]?t[0].req:t[0],a="res"in t[0]?t[0].res:t[1];return nL(new Headers(i.headers),e).then(async e=>{let t=await e.json();for(let t of e.headers.getSetCookie())"headers"in a?a.headers.append("set-cookie",t):a.appendHeader("set-cookie",t);return t})}}async function nH(e,t,i){let a=nj(e[0]),r=await nL(a.headers,t),n=await r.json(),s=!0;t.callbacks?.authorized&&(s=await t.callbacks.authorized({request:a,auth:n}));let o=nP.NextResponse.next?.();if(s instanceof Response){o=s;let e=s.headers.get("Location"),{pathname:i}=a.nextUrl;e&&function(e,t,i){let a=t.replace(`${e}/`,""),r=Object.values(i.pages??{});return(n$.has(a)||r.includes(t))&&t===e}(i,new URL(e).pathname,t)&&(s=!0)}else if(i)a.auth=n,o=await i(a,e[1])??nP.NextResponse.next();else if(!s){let e=t.pages?.signIn??`${t.basePath}/signin`;if(a.nextUrl.pathname!==e){let t=a.nextUrl.clone();t.pathname=e,t.searchParams.set("callbackUrl",a.nextUrl.href),o=nP.NextResponse.redirect(t)}}let c=new Response(o?.body,o);for(let e of r.headers.getSetCookie())c.headers.append("set-cookie",e);return c}i(99863);let n$=new Set(["providers","session","csrf","signin","signout","callback","verify-request","error"]);var nF=i(37432);async function nz(e,t={},i,a){let r=new Headers(await (0,nU.b)()),{redirect:n=!0,redirectTo:s,...o}=t instanceof FormData?Object.fromEntries(t):t,c=s?.toString()??r.get("Referer")??"/",l=nO("signin",r.get("x-forwarded-proto"),r,process.env,a);if(!e)return l.searchParams.append("callbackUrl",c),n&&(0,nF.redirect)(l.toString()),l.toString();let d=`${l}/${e}?${new URLSearchParams(i)}`,p={};for(let t of a.providers){let{options:i,...a}="function"==typeof t?t():t,r=i?.id??a.id;if(r===e){p={id:r,type:i?.type??a.type};break}}if(!p.id){let e=`${l}?${new URLSearchParams({callbackUrl:c})}`;return n&&(0,nF.redirect)(e),e}"credentials"===p.type&&(d=d.replace("signin","callback")),r.set("Content-Type","application/x-www-form-urlencoded");let u=new Request(d,{method:"POST",headers:r,body:new URLSearchParams({...o,callbackUrl:c})}),h=await nR(u,{...a,raw:io,skipCSRFCheck:is}),f=await (0,nN.U)();for(let e of h?.cookies??[])f.set(e.name,e.value,e.options);let m=(h instanceof Response?h.headers.get("Location"):h.redirect)??d;return n?(0,nF.redirect)(m):m}async function nB(e,t){let i=new Headers(await (0,nU.b)());i.set("Content-Type","application/x-www-form-urlencoded");let a=nO("signout",i.get("x-forwarded-proto"),i,process.env,t),r=new URLSearchParams({callbackUrl:e?.redirectTo??i.get("Referer")??"/"}),n=new Request(a,{method:"POST",headers:i,body:r}),s=await nR(n,{...t,raw:io,skipCSRFCheck:is}),o=await (0,nN.U)();for(let e of s?.cookies??[])o.set(e.name,e.value,e.options);return e?.redirect??!0?(0,nF.redirect)(s.redirect):s}async function nq(e,t){let i=new Headers(await (0,nU.b)());i.set("Content-Type","application/json");let a=new Request(nO("session",i.get("x-forwarded-proto"),i,process.env,t),{method:"POST",headers:i,body:JSON.stringify({data:e})}),r=await nR(a,{...t,raw:io,skipCSRFCheck:is}),n=await (0,nN.U)();for(let e of r?.cookies??[])n.set(e.name,e.value,e.options);return r.body}function nW(e){if("function"==typeof e){let t=async t=>{let i=await e(t);return nI(i),nR(nj(t),i)};return{handlers:{GET:t,POST:t},auth:nM(e,e=>nI(e)),signIn:async(t,i,a)=>{let r=await e(void 0);return nI(r),nz(t,i,a,r)},signOut:async t=>{let i=await e(void 0);return nI(i),nB(t,i)},unstable_update:async t=>{let i=await e(void 0);return nI(i),nq(t,i)}}}nI(e);let t=t=>nR(nj(t),e);return{handlers:{GET:t,POST:t},auth:nM(e),signIn:(t,i,a)=>nz(t,i,a,e),signOut:t=>nB(t,e),unstable_update:t=>nq(t,e)}}},73993:(e,t,i)=>{"use strict";function a(e){return{id:"credentials",name:"Credentials",type:"credentials",credentials:{},authorize:()=>null,options:e}}i.d(t,{A:()=>a})},61088:(e,t,i)=>{"use strict";function a(e){return{id:"google",name:"Google",type:"oidc",issuer:"https://accounts.google.com",style:{brandColor:"#1a73e8"},options:e}}i.d(t,{A:()=>a})},16500:(e,t,i)=>{"use strict";var a,r,n,s,o,c;let l;i.d(t,{Ik:()=>eI,Yj:()=>ej}),function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw Error()},e.arrayToEnum=e=>{let t={};for(let i of e)t[i]=i;return t},e.getValidEnumValues=t=>{let i=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),a={};for(let e of i)a[e]=t[e];return e.objectValues(a)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{let t=[];for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t},e.find=(e,t)=>{for(let i of e)if(t(i))return i},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(a||(a={})),(r||(r={})).mergeShapes=(e,t)=>({...e,...t});let d=a.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),p=e=>{switch(typeof e){case"undefined":return d.undefined;case"string":return d.string;case"number":return isNaN(e)?d.nan:d.number;case"boolean":return d.boolean;case"function":return d.function;case"bigint":return d.bigint;case"symbol":return d.symbol;case"object":if(Array.isArray(e))return d.array;if(null===e)return d.null;if(e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch)return d.promise;if("undefined"!=typeof Map&&e instanceof Map)return d.map;if("undefined"!=typeof Set&&e instanceof Set)return d.set;if("undefined"!=typeof Date&&e instanceof Date)return d.date;return d.object;default:return d.unknown}},u=a.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class h extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};let t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){let t=e||function(e){return e.message},i={_errors:[]},a=e=>{for(let r of e.issues)if("invalid_union"===r.code)r.unionErrors.map(a);else if("invalid_return_type"===r.code)a(r.returnTypeError);else if("invalid_arguments"===r.code)a(r.argumentsError);else if(0===r.path.length)i._errors.push(t(r));else{let e=i,a=0;for(;a<r.path.length;){let i=r.path[a];a===r.path.length-1?(e[i]=e[i]||{_errors:[]},e[i]._errors.push(t(r))):e[i]=e[i]||{_errors:[]},e=e[i],a++}}};return a(this),i}static assert(e){if(!(e instanceof h))throw Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,a.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){let t={},i=[];for(let a of this.issues)a.path.length>0?(t[a.path[0]]=t[a.path[0]]||[],t[a.path[0]].push(e(a))):i.push(e(a));return{formErrors:i,fieldErrors:t}}get formErrors(){return this.flatten()}}h.create=e=>new h(e);let f=(e,t)=>{let i;switch(e.code){case u.invalid_type:i=e.received===d.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case u.invalid_literal:i=`Invalid literal value, expected ${JSON.stringify(e.expected,a.jsonStringifyReplacer)}`;break;case u.unrecognized_keys:i=`Unrecognized key(s) in object: ${a.joinValues(e.keys,", ")}`;break;case u.invalid_union:i="Invalid input";break;case u.invalid_union_discriminator:i=`Invalid discriminator value. Expected ${a.joinValues(e.options)}`;break;case u.invalid_enum_value:i=`Invalid enum value. Expected ${a.joinValues(e.options)}, received '${e.received}'`;break;case u.invalid_arguments:i="Invalid function arguments";break;case u.invalid_return_type:i="Invalid function return type";break;case u.invalid_date:i="Invalid date";break;case u.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(i=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(i=`${i} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?i=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?i=`Invalid input: must end with "${e.validation.endsWith}"`:a.assertNever(e.validation):i="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case u.too_small:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case u.too_big:i="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case u.custom:i="Invalid input";break;case u.invalid_intersection_types:i="Intersection results could not be merged";break;case u.not_multiple_of:i=`Number must be a multiple of ${e.multipleOf}`;break;case u.not_finite:i="Number must be finite";break;default:i=t.defaultError,a.assertNever(e)}return{message:i}},m=e=>{let{data:t,path:i,errorMaps:a,issueData:r}=e,n=[...i,...r.path||[]],s={...r,path:n};if(void 0!==r.message)return{...r,path:n,message:r.message};let o="";for(let e of a.filter(e=>!!e).slice().reverse())o=e(s,{data:t,defaultError:o}).message;return{...r,path:n,message:o}};function g(e,t){let i=m({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,f,f==f?void 0:f].filter(e=>!!e)});e.common.issues.push(i)}class v{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){let i=[];for(let a of t){if("aborted"===a.status)return x;"dirty"===a.status&&e.dirty(),i.push(a.value)}return{status:e.value,value:i}}static async mergeObjectAsync(e,t){let i=[];for(let e of t){let t=await e.key,a=await e.value;i.push({key:t,value:a})}return v.mergeObjectSync(e,i)}static mergeObjectSync(e,t){let i={};for(let a of t){let{key:t,value:r}=a;if("aborted"===t.status||"aborted"===r.status)return x;"dirty"===t.status&&e.dirty(),"dirty"===r.status&&e.dirty(),"__proto__"!==t.value&&(void 0!==r.value||a.alwaysSet)&&(i[t.value]=r.value)}return{status:e.value,value:i}}}let x=Object.freeze({status:"aborted"}),y=e=>({status:"dirty",value:e}),b=e=>({status:"valid",value:e}),_=e=>"aborted"===e.status,w=e=>"dirty"===e.status,k=e=>"valid"===e.status,E=e=>"undefined"!=typeof Promise&&e instanceof Promise;function A(e,t,i,a){if("a"===i&&!a)throw TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!a:!t.has(e))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===i?a:"a"===i?a.call(e):a?a.value:t.get(e)}function S(e,t,i,a,r){if("m"===a)throw TypeError("Private method is not writable");if("a"===a&&!r)throw TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!r:!t.has(e))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===a?r.call(e,i):r?r.value=i:t.set(e,i),i}"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(n||(n={}));class T{constructor(e,t,i,a){this._cachedPath=[],this.parent=e,this.data=t,this._path=i,this._key=a}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}let C=(e,t)=>{if(k(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let t=new h(e.common.issues);return this._error=t,this._error}}};function O(e){if(!e)return{};let{errorMap:t,invalid_type_error:i,required_error:a,description:r}=e;if(t&&(i||a))throw Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:r}:{errorMap:(t,r)=>{var n,s;let{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:r.defaultError}:void 0===r.data?{message:null!==(n=null!=o?o:a)&&void 0!==n?n:r.defaultError}:"invalid_type"!==t.code?{message:r.defaultError}:{message:null!==(s=null!=o?o:i)&&void 0!==s?s:r.defaultError}},description:r}}class R{get description(){return this._def.description}_getType(e){return p(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:p(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new v,ctx:{common:e.parent.common,data:e.data,parsedType:p(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){let t=this._parse(e);if(E(t))throw Error("Synchronous parse encountered promise.");return t}_parseAsync(e){return Promise.resolve(this._parse(e))}parse(e,t){let i=this.safeParse(e,t);if(i.success)return i.data;throw i.error}safeParse(e,t){var i;let a={common:{issues:[],async:null!==(i=null==t?void 0:t.async)&&void 0!==i&&i,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)},r=this._parseSync({data:e,path:a.path,parent:a});return C(a,r)}"~validate"(e){var t,i;let a={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)};if(!this["~standard"].async)try{let t=this._parseSync({data:e,path:[],parent:a});return k(t)?{value:t.value}:{issues:a.common.issues}}catch(e){(null===(i=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===i?void 0:i.includes("encountered"))&&(this["~standard"].async=!0),a.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:a}).then(e=>k(e)?{value:e.value}:{issues:a.common.issues})}async parseAsync(e,t){let i=await this.safeParseAsync(e,t);if(i.success)return i.data;throw i.error}async safeParseAsync(e,t){let i={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:p(e)},a=this._parse({data:e,path:i.path,parent:i});return C(i,await (E(a)?a:Promise.resolve(a)))}refine(e,t){let i=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,a)=>{let r=e(t),n=()=>a.addIssue({code:u.custom,...i(t)});return"undefined"!=typeof Promise&&r instanceof Promise?r.then(e=>!!e||(n(),!1)):!!r||(n(),!1)})}refinement(e,t){return this._refinement((i,a)=>!!e(i)||(a.addIssue("function"==typeof t?t(i,a):t),!1))}_refinement(e){return new ek({schema:this,typeName:c.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return eE.create(this,this._def)}nullable(){return eA.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return es.create(this)}promise(){return ew.create(this,this._def)}or(e){return ec.create([this,e],this._def)}and(e){return ep.create(this,e,this._def)}transform(e){return new ek({...O(this._def),schema:this,typeName:c.ZodEffects,effect:{type:"transform",transform:e}})}default(e){return new eS({...O(this._def),innerType:this,defaultValue:"function"==typeof e?e:()=>e,typeName:c.ZodDefault})}brand(){return new eO({typeName:c.ZodBranded,type:this,...O(this._def)})}catch(e){return new eT({...O(this._def),innerType:this,catchValue:"function"==typeof e?e:()=>e,typeName:c.ZodCatch})}describe(e){return new this.constructor({...this._def,description:e})}pipe(e){return eR.create(this,e)}readonly(){return eP.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}let P=/^c[^\s-]{8,}$/i,j=/^[0-9a-z]+$/,I=/^[0-9A-HJKMNP-TV-Z]{26}$/i,N=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,U=/^[a-z0-9_-]{21}$/i,L=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,D=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,M=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,H=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,F=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,z=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,B=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,q=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,W="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",V=RegExp(`^${W}$`);function Z(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}class K extends R{_parse(e){var t,i,r,n;let s;if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==d.string){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.string,received:t.parsedType}),x}let o=new v;for(let c of this._def.checks)if("min"===c.kind)e.data.length<c.value&&(g(s=this._getOrReturnCtx(e,s),{code:u.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),o.dirty());else if("max"===c.kind)e.data.length>c.value&&(g(s=this._getOrReturnCtx(e,s),{code:u.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!1,message:c.message}),o.dirty());else if("length"===c.kind){let t=e.data.length>c.value,i=e.data.length<c.value;(t||i)&&(s=this._getOrReturnCtx(e,s),t?g(s,{code:u.too_big,maximum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}):i&&g(s,{code:u.too_small,minimum:c.value,type:"string",inclusive:!0,exact:!0,message:c.message}),o.dirty())}else if("email"===c.kind)M.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"email",code:u.invalid_string,message:c.message}),o.dirty());else if("emoji"===c.kind)l||(l=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),l.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"emoji",code:u.invalid_string,message:c.message}),o.dirty());else if("uuid"===c.kind)N.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"uuid",code:u.invalid_string,message:c.message}),o.dirty());else if("nanoid"===c.kind)U.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"nanoid",code:u.invalid_string,message:c.message}),o.dirty());else if("cuid"===c.kind)P.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"cuid",code:u.invalid_string,message:c.message}),o.dirty());else if("cuid2"===c.kind)j.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"cuid2",code:u.invalid_string,message:c.message}),o.dirty());else if("ulid"===c.kind)I.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"ulid",code:u.invalid_string,message:c.message}),o.dirty());else if("url"===c.kind)try{new URL(e.data)}catch(t){g(s=this._getOrReturnCtx(e,s),{validation:"url",code:u.invalid_string,message:c.message}),o.dirty()}else"regex"===c.kind?(c.regex.lastIndex=0,c.regex.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"regex",code:u.invalid_string,message:c.message}),o.dirty())):"trim"===c.kind?e.data=e.data.trim():"includes"===c.kind?e.data.includes(c.value,c.position)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:{includes:c.value,position:c.position},message:c.message}),o.dirty()):"toLowerCase"===c.kind?e.data=e.data.toLowerCase():"toUpperCase"===c.kind?e.data=e.data.toUpperCase():"startsWith"===c.kind?e.data.startsWith(c.value)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:{startsWith:c.value},message:c.message}),o.dirty()):"endsWith"===c.kind?e.data.endsWith(c.value)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:{endsWith:c.value},message:c.message}),o.dirty()):"datetime"===c.kind?(function(e){let t=`${W}T${Z(e)}`,i=[];return i.push(e.local?"Z?":"Z"),e.offset&&i.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${i.join("|")})`,RegExp(`^${t}$`)})(c).test(e.data)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:"datetime",message:c.message}),o.dirty()):"date"===c.kind?V.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:"date",message:c.message}),o.dirty()):"time"===c.kind?RegExp(`^${Z(c)}$`).test(e.data)||(g(s=this._getOrReturnCtx(e,s),{code:u.invalid_string,validation:"time",message:c.message}),o.dirty()):"duration"===c.kind?D.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"duration",code:u.invalid_string,message:c.message}),o.dirty()):"ip"===c.kind?(t=e.data,("v4"===(i=c.version)||!i)&&H.test(t)||("v6"===i||!i)&&F.test(t)||(g(s=this._getOrReturnCtx(e,s),{validation:"ip",code:u.invalid_string,message:c.message}),o.dirty())):"jwt"===c.kind?!function(e,t){if(!L.test(e))return!1;try{let[i]=e.split("."),a=i.replace(/-/g,"+").replace(/_/g,"/").padEnd(i.length+(4-i.length%4)%4,"="),r=JSON.parse(atob(a));if("object"!=typeof r||null===r||!r.typ||!r.alg||t&&r.alg!==t)return!1;return!0}catch(e){return!1}}(e.data,c.alg)&&(g(s=this._getOrReturnCtx(e,s),{validation:"jwt",code:u.invalid_string,message:c.message}),o.dirty()):"cidr"===c.kind?(r=e.data,("v4"===(n=c.version)||!n)&&$.test(r)||("v6"===n||!n)&&z.test(r)||(g(s=this._getOrReturnCtx(e,s),{validation:"cidr",code:u.invalid_string,message:c.message}),o.dirty())):"base64"===c.kind?B.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"base64",code:u.invalid_string,message:c.message}),o.dirty()):"base64url"===c.kind?q.test(e.data)||(g(s=this._getOrReturnCtx(e,s),{validation:"base64url",code:u.invalid_string,message:c.message}),o.dirty()):a.assertNever(c);return{status:o.value,value:e.data}}_regex(e,t,i){return this.refinement(t=>e.test(t),{validation:t,code:u.invalid_string,...n.errToObj(i)})}_addCheck(e){return new K({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...n.errToObj(e)})}url(e){return this._addCheck({kind:"url",...n.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...n.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...n.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...n.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...n.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...n.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...n.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...n.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...n.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...n.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...n.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...n.errToObj(e)})}datetime(e){var t,i;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(i=null==e?void 0:e.local)&&void 0!==i&&i,...n.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...n.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...n.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...n.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...n.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...n.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...n.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...n.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...n.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...n.errToObj(t)})}nonempty(e){return this.min(1,n.errToObj(e))}trim(){return new K({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new K({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}K.create=e=>{var t;return new K({checks:[],typeName:c.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class J extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){let t;if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==d.number){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.number,received:t.parsedType}),x}let i=new v;for(let r of this._def.checks)"int"===r.kind?a.isInteger(e.data)||(g(t=this._getOrReturnCtx(e,t),{code:u.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):"multipleOf"===r.kind?0!==function(e,t){let i=(e.toString().split(".")[1]||"").length,a=(t.toString().split(".")[1]||"").length,r=i>a?i:a;return parseInt(e.toFixed(r).replace(".",""))%parseInt(t.toFixed(r).replace(".",""))/Math.pow(10,r)}(e.data,r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(g(t=this._getOrReturnCtx(e,t),{code:u.not_finite,message:r.message}),i.dirty()):a.assertNever(r);return{status:i.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,n.toString(t))}gt(e,t){return this.setLimit("min",e,!1,n.toString(t))}lte(e,t){return this.setLimit("max",e,!0,n.toString(t))}lt(e,t){return this.setLimit("max",e,!1,n.toString(t))}setLimit(e,t,i,a){return new J({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:n.toString(a)}]})}_addCheck(e){return new J({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:n.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:n.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:n.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:n.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:n.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:n.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:n.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:n.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:n.toString(e)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&a.isInteger(e.value))}get isFinite(){let e=null,t=null;for(let i of this._def.checks){if("finite"===i.kind||"int"===i.kind||"multipleOf"===i.kind)return!0;"min"===i.kind?(null===t||i.value>t)&&(t=i.value):"max"===i.kind&&(null===e||i.value<e)&&(e=i.value)}return Number.isFinite(t)&&Number.isFinite(e)}}J.create=e=>new J({checks:[],typeName:c.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class G extends R{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){let t;if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==d.bigint)return this._getInvalidInput(e);let i=new v;for(let r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(g(t=this._getOrReturnCtx(e,t),{code:u.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):a.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.bigint,received:t.parsedType}),x}gte(e,t){return this.setLimit("min",e,!0,n.toString(t))}gt(e,t){return this.setLimit("min",e,!1,n.toString(t))}lte(e,t){return this.setLimit("max",e,!0,n.toString(t))}lt(e,t){return this.setLimit("max",e,!1,n.toString(t))}setLimit(e,t,i,a){return new G({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:i,message:n.toString(a)}]})}_addCheck(e){return new G({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:n.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:n.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:n.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:n.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:n.toString(t)})}get minValue(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}G.create=e=>{var t;return new G({checks:[],typeName:c.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...O(e)})};class X extends R{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==d.boolean){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.boolean,received:t.parsedType}),x}return b(e.data)}}X.create=e=>new X({typeName:c.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...O(e)});class Q extends R{_parse(e){let t;if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==d.date){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.date,received:t.parsedType}),x}if(isNaN(e.data.getTime()))return g(this._getOrReturnCtx(e),{code:u.invalid_date}),x;let i=new v;for(let r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),i.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(g(t=this._getOrReturnCtx(e,t),{code:u.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),i.dirty()):a.assertNever(r);return{status:i.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Q({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:n.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:n.toString(t)})}get minDate(){let e=null;for(let t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(let t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}Q.create=e=>new Q({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:c.ZodDate,...O(e)});class Y extends R{_parse(e){if(this._getType(e)!==d.symbol){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.symbol,received:t.parsedType}),x}return b(e.data)}}Y.create=e=>new Y({typeName:c.ZodSymbol,...O(e)});class ee extends R{_parse(e){if(this._getType(e)!==d.undefined){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.undefined,received:t.parsedType}),x}return b(e.data)}}ee.create=e=>new ee({typeName:c.ZodUndefined,...O(e)});class et extends R{_parse(e){if(this._getType(e)!==d.null){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.null,received:t.parsedType}),x}return b(e.data)}}et.create=e=>new et({typeName:c.ZodNull,...O(e)});class ei extends R{constructor(){super(...arguments),this._any=!0}_parse(e){return b(e.data)}}ei.create=e=>new ei({typeName:c.ZodAny,...O(e)});class ea extends R{constructor(){super(...arguments),this._unknown=!0}_parse(e){return b(e.data)}}ea.create=e=>new ea({typeName:c.ZodUnknown,...O(e)});class er extends R{_parse(e){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.never,received:t.parsedType}),x}}er.create=e=>new er({typeName:c.ZodNever,...O(e)});class en extends R{_parse(e){if(this._getType(e)!==d.undefined){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.void,received:t.parsedType}),x}return b(e.data)}}en.create=e=>new en({typeName:c.ZodVoid,...O(e)});class es extends R{_parse(e){let{ctx:t,status:i}=this._processInputParams(e),a=this._def;if(t.parsedType!==d.array)return g(t,{code:u.invalid_type,expected:d.array,received:t.parsedType}),x;if(null!==a.exactLength){let e=t.data.length>a.exactLength.value,r=t.data.length<a.exactLength.value;(e||r)&&(g(t,{code:e?u.too_big:u.too_small,minimum:r?a.exactLength.value:void 0,maximum:e?a.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:a.exactLength.message}),i.dirty())}if(null!==a.minLength&&t.data.length<a.minLength.value&&(g(t,{code:u.too_small,minimum:a.minLength.value,type:"array",inclusive:!0,exact:!1,message:a.minLength.message}),i.dirty()),null!==a.maxLength&&t.data.length>a.maxLength.value&&(g(t,{code:u.too_big,maximum:a.maxLength.value,type:"array",inclusive:!0,exact:!1,message:a.maxLength.message}),i.dirty()),t.common.async)return Promise.all([...t.data].map((e,i)=>a.type._parseAsync(new T(t,e,t.path,i)))).then(e=>v.mergeArray(i,e));let r=[...t.data].map((e,i)=>a.type._parseSync(new T(t,e,t.path,i)));return v.mergeArray(i,r)}get element(){return this._def.type}min(e,t){return new es({...this._def,minLength:{value:e,message:n.toString(t)}})}max(e,t){return new es({...this._def,maxLength:{value:e,message:n.toString(t)}})}length(e,t){return new es({...this._def,exactLength:{value:e,message:n.toString(t)}})}nonempty(e){return this.min(1,e)}}es.create=(e,t)=>new es({type:e,minLength:null,maxLength:null,exactLength:null,typeName:c.ZodArray,...O(t)});class eo extends R{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;let e=this._def.shape(),t=a.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==d.object){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.object,received:t.parsedType}),x}let{status:t,ctx:i}=this._processInputParams(e),{shape:a,keys:r}=this._getCached(),n=[];if(!(this._def.catchall instanceof er&&"strip"===this._def.unknownKeys))for(let e in i.data)r.includes(e)||n.push(e);let s=[];for(let e of r){let t=a[e],r=i.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new T(i,r,i.path,e)),alwaysSet:e in i.data})}if(this._def.catchall instanceof er){let e=this._def.unknownKeys;if("passthrough"===e)for(let e of n)s.push({key:{status:"valid",value:e},value:{status:"valid",value:i.data[e]}});else if("strict"===e)n.length>0&&(g(i,{code:u.unrecognized_keys,keys:n}),t.dirty());else if("strip"===e);else throw Error("Internal ZodObject error: invalid unknownKeys value.")}else{let e=this._def.catchall;for(let t of n){let a=i.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new T(i,a,i.path,t)),alwaysSet:t in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let e=[];for(let t of s){let i=await t.key,a=await t.value;e.push({key:i,value:a,alwaysSet:t.alwaysSet})}return e}).then(e=>v.mergeObjectSync(t,e)):v.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return n.errToObj,new eo({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,i)=>{var a,r,s,o;let c=null!==(s=null===(r=(a=this._def).errorMap)||void 0===r?void 0:r.call(a,t,i).message)&&void 0!==s?s:i.defaultError;return"unrecognized_keys"===t.code?{message:null!==(o=n.errToObj(e).message)&&void 0!==o?o:c}:{message:c}}}:{}})}strip(){return new eo({...this._def,unknownKeys:"strip"})}passthrough(){return new eo({...this._def,unknownKeys:"passthrough"})}extend(e){return new eo({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new eo({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:c.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new eo({...this._def,catchall:e})}pick(e){let t={};return a.objectKeys(e).forEach(i=>{e[i]&&this.shape[i]&&(t[i]=this.shape[i])}),new eo({...this._def,shape:()=>t})}omit(e){let t={};return a.objectKeys(this.shape).forEach(i=>{e[i]||(t[i]=this.shape[i])}),new eo({...this._def,shape:()=>t})}deepPartial(){return function e(t){if(t instanceof eo){let i={};for(let a in t.shape){let r=t.shape[a];i[a]=eE.create(e(r))}return new eo({...t._def,shape:()=>i})}return t instanceof es?new es({...t._def,type:e(t.element)}):t instanceof eE?eE.create(e(t.unwrap())):t instanceof eA?eA.create(e(t.unwrap())):t instanceof eu?eu.create(t.items.map(t=>e(t))):t}(this)}partial(e){let t={};return a.objectKeys(this.shape).forEach(i=>{let a=this.shape[i];e&&!e[i]?t[i]=a:t[i]=a.optional()}),new eo({...this._def,shape:()=>t})}required(e){let t={};return a.objectKeys(this.shape).forEach(i=>{if(e&&!e[i])t[i]=this.shape[i];else{let e=this.shape[i];for(;e instanceof eE;)e=e._def.innerType;t[i]=e}}),new eo({...this._def,shape:()=>t})}keyof(){return ey(a.objectKeys(this.shape))}}eo.create=(e,t)=>new eo({shape:()=>e,unknownKeys:"strip",catchall:er.create(),typeName:c.ZodObject,...O(t)}),eo.strictCreate=(e,t)=>new eo({shape:()=>e,unknownKeys:"strict",catchall:er.create(),typeName:c.ZodObject,...O(t)}),eo.lazycreate=(e,t)=>new eo({shape:e,unknownKeys:"strip",catchall:er.create(),typeName:c.ZodObject,...O(t)});class ec extends R{_parse(e){let{ctx:t}=this._processInputParams(e),i=this._def.options;if(t.common.async)return Promise.all(i.map(async e=>{let i={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:i}),ctx:i}})).then(function(e){for(let t of e)if("valid"===t.result.status)return t.result;for(let i of e)if("dirty"===i.result.status)return t.common.issues.push(...i.ctx.common.issues),i.result;let i=e.map(e=>new h(e.ctx.common.issues));return g(t,{code:u.invalid_union,unionErrors:i}),x});{let e;let a=[];for(let r of i){let i={...t,common:{...t.common,issues:[]},parent:null},n=r._parseSync({data:t.data,path:t.path,parent:i});if("valid"===n.status)return n;"dirty"!==n.status||e||(e={result:n,ctx:i}),i.common.issues.length&&a.push(i.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;let r=a.map(e=>new h(e));return g(t,{code:u.invalid_union,unionErrors:r}),x}}get options(){return this._def.options}}ec.create=(e,t)=>new ec({options:e,typeName:c.ZodUnion,...O(t)});let el=e=>{if(e instanceof ev)return el(e.schema);if(e instanceof ek)return el(e.innerType());if(e instanceof ex)return[e.value];if(e instanceof eb)return e.options;if(e instanceof e_)return a.objectValues(e.enum);if(e instanceof eS)return el(e._def.innerType);if(e instanceof ee)return[void 0];else if(e instanceof et)return[null];else if(e instanceof eE)return[void 0,...el(e.unwrap())];else if(e instanceof eA)return[null,...el(e.unwrap())];else if(e instanceof eO)return el(e.unwrap());else if(e instanceof eP)return el(e.unwrap());else if(e instanceof eT)return el(e._def.innerType);else return[]};class ed extends R{_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.object)return g(t,{code:u.invalid_type,expected:d.object,received:t.parsedType}),x;let i=this.discriminator,a=t.data[i],r=this.optionsMap.get(a);return r?t.common.async?r._parseAsync({data:t.data,path:t.path,parent:t}):r._parseSync({data:t.data,path:t.path,parent:t}):(g(t,{code:u.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[i]}),x)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,i){let a=new Map;for(let i of t){let t=el(i.shape[e]);if(!t.length)throw Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(let r of t){if(a.has(r))throw Error(`Discriminator property ${String(e)} has duplicate value ${String(r)}`);a.set(r,i)}}return new ed({typeName:c.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:a,...O(i)})}}class ep extends R{_parse(e){let{status:t,ctx:i}=this._processInputParams(e),r=(e,r)=>{if(_(e)||_(r))return x;let n=function e(t,i){let r=p(t),n=p(i);if(t===i)return{valid:!0,data:t};if(r===d.object&&n===d.object){let r=a.objectKeys(i),n=a.objectKeys(t).filter(e=>-1!==r.indexOf(e)),s={...t,...i};for(let a of n){let r=e(t[a],i[a]);if(!r.valid)return{valid:!1};s[a]=r.data}return{valid:!0,data:s}}if(r===d.array&&n===d.array){if(t.length!==i.length)return{valid:!1};let a=[];for(let r=0;r<t.length;r++){let n=e(t[r],i[r]);if(!n.valid)return{valid:!1};a.push(n.data)}return{valid:!0,data:a}}return r===d.date&&n===d.date&&+t==+i?{valid:!0,data:t}:{valid:!1}}(e.value,r.value);return n.valid?((w(e)||w(r))&&t.dirty(),{status:t.value,value:n.data}):(g(i,{code:u.invalid_intersection_types}),x)};return i.common.async?Promise.all([this._def.left._parseAsync({data:i.data,path:i.path,parent:i}),this._def.right._parseAsync({data:i.data,path:i.path,parent:i})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:i.data,path:i.path,parent:i}),this._def.right._parseSync({data:i.data,path:i.path,parent:i}))}}ep.create=(e,t,i)=>new ep({left:e,right:t,typeName:c.ZodIntersection,...O(i)});class eu extends R{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==d.array)return g(i,{code:u.invalid_type,expected:d.array,received:i.parsedType}),x;if(i.data.length<this._def.items.length)return g(i,{code:u.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),x;!this._def.rest&&i.data.length>this._def.items.length&&(g(i,{code:u.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());let a=[...i.data].map((e,t)=>{let a=this._def.items[t]||this._def.rest;return a?a._parse(new T(i,e,i.path,t)):null}).filter(e=>!!e);return i.common.async?Promise.all(a).then(e=>v.mergeArray(t,e)):v.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new eu({...this._def,rest:e})}}eu.create=(e,t)=>{if(!Array.isArray(e))throw Error("You must pass an array of schemas to z.tuple([ ... ])");return new eu({items:e,typeName:c.ZodTuple,rest:null,...O(t)})};class eh extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==d.object)return g(i,{code:u.invalid_type,expected:d.object,received:i.parsedType}),x;let a=[],r=this._def.keyType,n=this._def.valueType;for(let e in i.data)a.push({key:r._parse(new T(i,e,i.path,e)),value:n._parse(new T(i,i.data[e],i.path,e)),alwaysSet:e in i.data});return i.common.async?v.mergeObjectAsync(t,a):v.mergeObjectSync(t,a)}get element(){return this._def.valueType}static create(e,t,i){return new eh(t instanceof R?{keyType:e,valueType:t,typeName:c.ZodRecord,...O(i)}:{keyType:K.create(),valueType:e,typeName:c.ZodRecord,...O(t)})}}class ef extends R{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==d.map)return g(i,{code:u.invalid_type,expected:d.map,received:i.parsedType}),x;let a=this._def.keyType,r=this._def.valueType,n=[...i.data.entries()].map(([e,t],n)=>({key:a._parse(new T(i,e,i.path,[n,"key"])),value:r._parse(new T(i,t,i.path,[n,"value"]))}));if(i.common.async){let e=new Map;return Promise.resolve().then(async()=>{for(let i of n){let a=await i.key,r=await i.value;if("aborted"===a.status||"aborted"===r.status)return x;("dirty"===a.status||"dirty"===r.status)&&t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}})}{let e=new Map;for(let i of n){let a=i.key,r=i.value;if("aborted"===a.status||"aborted"===r.status)return x;("dirty"===a.status||"dirty"===r.status)&&t.dirty(),e.set(a.value,r.value)}return{status:t.value,value:e}}}}ef.create=(e,t,i)=>new ef({valueType:t,keyType:e,typeName:c.ZodMap,...O(i)});class em extends R{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.parsedType!==d.set)return g(i,{code:u.invalid_type,expected:d.set,received:i.parsedType}),x;let a=this._def;null!==a.minSize&&i.data.size<a.minSize.value&&(g(i,{code:u.too_small,minimum:a.minSize.value,type:"set",inclusive:!0,exact:!1,message:a.minSize.message}),t.dirty()),null!==a.maxSize&&i.data.size>a.maxSize.value&&(g(i,{code:u.too_big,maximum:a.maxSize.value,type:"set",inclusive:!0,exact:!1,message:a.maxSize.message}),t.dirty());let r=this._def.valueType;function n(e){let i=new Set;for(let a of e){if("aborted"===a.status)return x;"dirty"===a.status&&t.dirty(),i.add(a.value)}return{status:t.value,value:i}}let s=[...i.data.values()].map((e,t)=>r._parse(new T(i,e,i.path,t)));return i.common.async?Promise.all(s).then(e=>n(e)):n(s)}min(e,t){return new em({...this._def,minSize:{value:e,message:n.toString(t)}})}max(e,t){return new em({...this._def,maxSize:{value:e,message:n.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}em.create=(e,t)=>new em({valueType:e,minSize:null,maxSize:null,typeName:c.ZodSet,...O(t)});class eg extends R{constructor(){super(...arguments),this.validate=this.implement}_parse(e){let{ctx:t}=this._processInputParams(e);if(t.parsedType!==d.function)return g(t,{code:u.invalid_type,expected:d.function,received:t.parsedType}),x;function i(e,i){return m({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,f,f].filter(e=>!!e),issueData:{code:u.invalid_arguments,argumentsError:i}})}function a(e,i){return m({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,f,f].filter(e=>!!e),issueData:{code:u.invalid_return_type,returnTypeError:i}})}let r={errorMap:t.common.contextualErrorMap},n=t.data;if(this._def.returns instanceof ew){let e=this;return b(async function(...t){let s=new h([]),o=await e._def.args.parseAsync(t,r).catch(e=>{throw s.addIssue(i(t,e)),s}),c=await Reflect.apply(n,this,o);return await e._def.returns._def.type.parseAsync(c,r).catch(e=>{throw s.addIssue(a(c,e)),s})})}{let e=this;return b(function(...t){let s=e._def.args.safeParse(t,r);if(!s.success)throw new h([i(t,s.error)]);let o=Reflect.apply(n,this,s.data),c=e._def.returns.safeParse(o,r);if(!c.success)throw new h([a(o,c.error)]);return c.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new eg({...this._def,args:eu.create(e).rest(ea.create())})}returns(e){return new eg({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,i){return new eg({args:e||eu.create([]).rest(ea.create()),returns:t||ea.create(),typeName:c.ZodFunction,...O(i)})}}class ev extends R{get schema(){return this._def.getter()}_parse(e){let{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ev.create=(e,t)=>new ev({getter:e,typeName:c.ZodLazy,...O(t)});class ex extends R{_parse(e){if(e.data!==this._def.value){let t=this._getOrReturnCtx(e);return g(t,{received:t.data,code:u.invalid_literal,expected:this._def.value}),x}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ey(e,t){return new eb({values:e,typeName:c.ZodEnum,...O(t)})}ex.create=(e,t)=>new ex({value:e,typeName:c.ZodLiteral,...O(t)});class eb extends R{constructor(){super(...arguments),s.set(this,void 0)}_parse(e){if("string"!=typeof e.data){let t=this._getOrReturnCtx(e),i=this._def.values;return g(t,{expected:a.joinValues(i),received:t.parsedType,code:u.invalid_type}),x}if(A(this,s,"f")||S(this,s,new Set(this._def.values),"f"),!A(this,s,"f").has(e.data)){let t=this._getOrReturnCtx(e),i=this._def.values;return g(t,{received:t.data,code:u.invalid_enum_value,options:i}),x}return b(e.data)}get options(){return this._def.values}get enum(){let e={};for(let t of this._def.values)e[t]=t;return e}get Values(){let e={};for(let t of this._def.values)e[t]=t;return e}get Enum(){let e={};for(let t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return eb.create(e,{...this._def,...t})}exclude(e,t=this._def){return eb.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}s=new WeakMap,eb.create=ey;class e_ extends R{constructor(){super(...arguments),o.set(this,void 0)}_parse(e){let t=a.getValidEnumValues(this._def.values),i=this._getOrReturnCtx(e);if(i.parsedType!==d.string&&i.parsedType!==d.number){let e=a.objectValues(t);return g(i,{expected:a.joinValues(e),received:i.parsedType,code:u.invalid_type}),x}if(A(this,o,"f")||S(this,o,new Set(a.getValidEnumValues(this._def.values)),"f"),!A(this,o,"f").has(e.data)){let e=a.objectValues(t);return g(i,{received:i.data,code:u.invalid_enum_value,options:e}),x}return b(e.data)}get enum(){return this._def.values}}o=new WeakMap,e_.create=(e,t)=>new e_({values:e,typeName:c.ZodNativeEnum,...O(t)});class ew extends R{unwrap(){return this._def.type}_parse(e){let{ctx:t}=this._processInputParams(e);return t.parsedType!==d.promise&&!1===t.common.async?(g(t,{code:u.invalid_type,expected:d.promise,received:t.parsedType}),x):b((t.parsedType===d.promise?t.data:Promise.resolve(t.data)).then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ew.create=(e,t)=>new ew({type:e,typeName:c.ZodPromise,...O(t)});class ek extends R{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===c.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){let{status:t,ctx:i}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:e=>{g(i,e),e.fatal?t.abort():t.dirty()},get path(){return i.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===r.type){let e=r.transform(i.data,n);if(i.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return x;let a=await this._def.schema._parseAsync({data:e,path:i.path,parent:i});return"aborted"===a.status?x:"dirty"===a.status||"dirty"===t.value?y(a.value):a});{if("aborted"===t.value)return x;let a=this._def.schema._parseSync({data:e,path:i.path,parent:i});return"aborted"===a.status?x:"dirty"===a.status||"dirty"===t.value?y(a.value):a}}if("refinement"===r.type){let e=e=>{let t=r.refinement(e,n);if(i.common.async)return Promise.resolve(t);if(t instanceof Promise)throw Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1!==i.common.async)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(i=>"aborted"===i.status?x:("dirty"===i.status&&t.dirty(),e(i.value).then(()=>({status:t.value,value:i.value}))));{let a=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===a.status?x:("dirty"===a.status&&t.dirty(),e(a.value),{status:t.value,value:a.value})}}if("transform"===r.type){if(!1!==i.common.async)return this._def.schema._parseAsync({data:i.data,path:i.path,parent:i}).then(e=>k(e)?Promise.resolve(r.transform(e.value,n)).then(e=>({status:t.value,value:e})):e);{let e=this._def.schema._parseSync({data:i.data,path:i.path,parent:i});if(!k(e))return e;let a=r.transform(e.value,n);if(a instanceof Promise)throw Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:a}}}a.assertNever(r)}}ek.create=(e,t,i)=>new ek({schema:e,typeName:c.ZodEffects,effect:t,...O(i)}),ek.createWithPreprocess=(e,t,i)=>new ek({schema:t,effect:{type:"preprocess",transform:e},typeName:c.ZodEffects,...O(i)});class eE extends R{_parse(e){return this._getType(e)===d.undefined?b(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eE.create=(e,t)=>new eE({innerType:e,typeName:c.ZodOptional,...O(t)});class eA extends R{_parse(e){return this._getType(e)===d.null?b(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}eA.create=(e,t)=>new eA({innerType:e,typeName:c.ZodNullable,...O(t)});class eS extends R{_parse(e){let{ctx:t}=this._processInputParams(e),i=t.data;return t.parsedType===d.undefined&&(i=this._def.defaultValue()),this._def.innerType._parse({data:i,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}eS.create=(e,t)=>new eS({innerType:e,typeName:c.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...O(t)});class eT extends R{_parse(e){let{ctx:t}=this._processInputParams(e),i={...t,common:{...t.common,issues:[]}},a=this._def.innerType._parse({data:i.data,path:i.path,parent:{...i}});return E(a)?a.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new h(i.common.issues)},input:i.data})})):{status:"valid",value:"valid"===a.status?a.value:this._def.catchValue({get error(){return new h(i.common.issues)},input:i.data})}}removeCatch(){return this._def.innerType}}eT.create=(e,t)=>new eT({innerType:e,typeName:c.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...O(t)});class eC extends R{_parse(e){if(this._getType(e)!==d.nan){let t=this._getOrReturnCtx(e);return g(t,{code:u.invalid_type,expected:d.nan,received:t.parsedType}),x}return{status:"valid",value:e.data}}}eC.create=e=>new eC({typeName:c.ZodNaN,...O(e)}),Symbol("zod_brand");class eO extends R{_parse(e){let{ctx:t}=this._processInputParams(e),i=t.data;return this._def.type._parse({data:i,path:t.path,parent:t})}unwrap(){return this._def.type}}class eR extends R{_parse(e){let{status:t,ctx:i}=this._processInputParams(e);if(i.common.async)return(async()=>{let e=await this._def.in._parseAsync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?x:"dirty"===e.status?(t.dirty(),y(e.value)):this._def.out._parseAsync({data:e.value,path:i.path,parent:i})})();{let e=this._def.in._parseSync({data:i.data,path:i.path,parent:i});return"aborted"===e.status?x:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:i.path,parent:i})}}static create(e,t){return new eR({in:e,out:t,typeName:c.ZodPipeline})}}class eP extends R{_parse(e){let t=this._def.innerType._parse(e),i=e=>(k(e)&&(e.value=Object.freeze(e.value)),e);return E(t)?t.then(e=>i(e)):i(t)}unwrap(){return this._def.innerType}}eP.create=(e,t)=>new eP({innerType:e,typeName:c.ZodReadonly,...O(t)}),eo.lazycreate,function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(c||(c={}));let ej=K.create,eI=(J.create,eC.create,G.create,X.create,Q.create,Y.create,ee.create,et.create,ei.create,ea.create,er.create,en.create,es.create,eo.create);eo.strictCreate,ec.create,ed.create,ep.create,eu.create,eh.create,ef.create,em.create,eg.create,ev.create,ex.create,eb.create,e_.create,ew.create,ek.create,eE.create,eA.create,ek.createWithPreprocess,eR.create},3350:e=>{"use strict";e.exports=JSON.parse('{"126":{"host":"smtp.126.com","port":465,"secure":true},"163":{"host":"smtp.163.com","port":465,"secure":true},"1und1":{"host":"smtp.1und1.de","port":465,"secure":true,"authMethod":"LOGIN"},"Aliyun":{"domains":["aliyun.com"],"host":"smtp.aliyun.com","port":465,"secure":true},"AOL":{"domains":["aol.com"],"host":"smtp.aol.com","port":587},"Bluewin":{"host":"smtpauths.bluewin.ch","domains":["bluewin.ch"],"port":465},"DebugMail":{"host":"debugmail.io","port":25},"DynectEmail":{"aliases":["Dynect"],"host":"smtp.dynect.net","port":25},"Ethereal":{"aliases":["ethereal.email"],"host":"smtp.ethereal.email","port":587},"FastMail":{"domains":["fastmail.fm"],"host":"smtp.fastmail.com","port":465,"secure":true},"Forward Email":{"aliases":["FE","ForwardEmail"],"domains":["forwardemail.net"],"host":"smtp.forwardemail.net","port":465,"secure":true},"Feishu Mail":{"aliases":["Feishu","FeishuMail"],"domains":["www.feishu.cn"],"host":"smtp.feishu.cn","port":465,"secure":true},"GandiMail":{"aliases":["Gandi","Gandi Mail"],"host":"mail.gandi.net","port":587},"Gmail":{"aliases":["Google Mail"],"domains":["gmail.com","googlemail.com"],"host":"smtp.gmail.com","port":465,"secure":true},"Godaddy":{"host":"smtpout.secureserver.net","port":25},"GodaddyAsia":{"host":"smtp.asia.secureserver.net","port":25},"GodaddyEurope":{"host":"smtp.europe.secureserver.net","port":25},"hot.ee":{"host":"mail.hot.ee"},"Hotmail":{"aliases":["Outlook","Outlook.com","Hotmail.com"],"domains":["hotmail.com","outlook.com"],"host":"smtp-mail.outlook.com","port":587},"iCloud":{"aliases":["Me","Mac"],"domains":["me.com","mac.com"],"host":"smtp.mail.me.com","port":587},"Infomaniak":{"host":"mail.infomaniak.com","domains":["ik.me","ikmail.com","etik.com"],"port":587},"Loopia":{"host":"mailcluster.loopia.se","port":465},"mail.ee":{"host":"smtp.mail.ee"},"Mail.ru":{"host":"smtp.mail.ru","port":465,"secure":true},"Mailcatch.app":{"host":"sandbox-smtp.mailcatch.app","port":2525},"Maildev":{"port":1025,"ignoreTLS":true},"Mailgun":{"host":"smtp.mailgun.org","port":465,"secure":true},"Mailjet":{"host":"in.mailjet.com","port":587},"Mailosaur":{"host":"mailosaur.io","port":25},"Mailtrap":{"host":"live.smtp.mailtrap.io","port":587},"Mandrill":{"host":"smtp.mandrillapp.com","port":587},"Naver":{"host":"smtp.naver.com","port":587},"One":{"host":"send.one.com","port":465,"secure":true},"OpenMailBox":{"aliases":["OMB","openmailbox.org"],"host":"smtp.openmailbox.org","port":465,"secure":true},"Outlook365":{"host":"smtp.office365.com","port":587,"secure":false},"OhMySMTP":{"host":"smtp.ohmysmtp.com","port":587,"secure":false},"Postmark":{"aliases":["PostmarkApp"],"host":"smtp.postmarkapp.com","port":2525},"qiye.aliyun":{"host":"smtp.mxhichina.com","port":"465","secure":true},"QQ":{"domains":["qq.com"],"host":"smtp.qq.com","port":465,"secure":true},"QQex":{"aliases":["QQ Enterprise"],"domains":["exmail.qq.com"],"host":"smtp.exmail.qq.com","port":465,"secure":true},"SendCloud":{"host":"smtp.sendcloud.net","port":2525},"SendGrid":{"host":"smtp.sendgrid.net","port":587},"SendinBlue":{"aliases":["Brevo"],"host":"smtp-relay.brevo.com","port":587},"SendPulse":{"host":"smtp-pulse.com","port":465,"secure":true},"SES":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-EAST-1":{"host":"email-smtp.us-east-1.amazonaws.com","port":465,"secure":true},"SES-US-WEST-2":{"host":"email-smtp.us-west-2.amazonaws.com","port":465,"secure":true},"SES-EU-WEST-1":{"host":"email-smtp.eu-west-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTH-1":{"host":"email-smtp.ap-south-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-1":{"host":"email-smtp.ap-northeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-2":{"host":"email-smtp.ap-northeast-2.amazonaws.com","port":465,"secure":true},"SES-AP-NORTHEAST-3":{"host":"email-smtp.ap-northeast-3.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-1":{"host":"email-smtp.ap-southeast-1.amazonaws.com","port":465,"secure":true},"SES-AP-SOUTHEAST-2":{"host":"email-smtp.ap-southeast-2.amazonaws.com","port":465,"secure":true},"Sparkpost":{"aliases":["SparkPost","SparkPost Mail"],"domains":["sparkpost.com"],"host":"smtp.sparkpostmail.com","port":587,"secure":false},"Tipimail":{"host":"smtp.tipimail.com","port":587},"Yahoo":{"domains":["yahoo.com"],"host":"smtp.mail.yahoo.com","port":465,"secure":true},"Yandex":{"domains":["yandex.ru"],"host":"smtp.yandex.ru","port":465,"secure":true},"Zoho":{"host":"smtp.zoho.com","port":465,"secure":true,"authMethod":"LOGIN"}}')},91423:e=>{"use strict";e.exports=JSON.parse('{"name":"nodemailer","version":"6.9.16","description":"Easy as cake e-mail sending from your Node.js applications","main":"lib/nodemailer.js","scripts":{"test":"node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","test:coverage":"c8 node --test --test-concurrency=1 test/**/*.test.js test/**/*-test.js","lint":"eslint .","update":"rm -rf node_modules/ package-lock.json && ncu -u && npm install"},"repository":{"type":"git","url":"https://github.com/nodemailer/nodemailer.git"},"keywords":["Nodemailer"],"author":"Andris Reinman","license":"MIT-0","bugs":{"url":"https://github.com/nodemailer/nodemailer/issues"},"homepage":"https://nodemailer.com/","devDependencies":{"@aws-sdk/client-ses":"3.679.0","bunyan":"1.8.15","c8":"10.1.2","eslint":"8.57.0","eslint-config-nodemailer":"1.2.0","eslint-config-prettier":"9.1.0","libbase64":"1.3.0","libmime":"5.3.5","libqp":"2.1.0","nodemailer-ntlm-auth":"1.0.4","proxy":"1.0.2","proxy-test-server":"1.0.0","smtp-server":"3.13.6"},"engines":{"node":">=6.0.0"}}')}};